function SS(e,t){for(var n=0;n<t.length;n++){const i=t[n];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in e)){const l=Object.getOwnPropertyDescriptor(i,o);l&&Object.defineProperty(e,o,l.get?l:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();function ro(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var xc={exports:{}},Os={},_c={exports:{}},je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lv;function kS(){if(lv)return je;lv=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),p=Symbol.iterator;function x(j){return j===null||typeof j!="object"?null:(j=p&&j[p]||j["@@iterator"],typeof j=="function"?j:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,N={};function k(j,L,X){this.props=j,this.context=L,this.refs=N,this.updater=X||P}k.prototype.isReactComponent={},k.prototype.setState=function(j,L){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,L,"setState")},k.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function S(){}S.prototype=k.prototype;function C(j,L,X){this.props=j,this.context=L,this.refs=N,this.updater=X||P}var w=C.prototype=new S;w.constructor=C,T(w,k.prototype),w.isPureReactComponent=!0;var g=Array.isArray,_=Object.prototype.hasOwnProperty,E={current:null},$={key:!0,ref:!0,__self:!0,__source:!0};function I(j,L,X){var Z,K={},B=null,q=null;if(L!=null)for(Z in L.ref!==void 0&&(q=L.ref),L.key!==void 0&&(B=""+L.key),L)_.call(L,Z)&&!$.hasOwnProperty(Z)&&(K[Z]=L[Z]);var Y=arguments.length-2;if(Y===1)K.children=X;else if(1<Y){for(var ee=Array(Y),ie=0;ie<Y;ie++)ee[ie]=arguments[ie+2];K.children=ee}if(j&&j.defaultProps)for(Z in Y=j.defaultProps,Y)K[Z]===void 0&&(K[Z]=Y[Z]);return{$$typeof:e,type:j,key:B,ref:q,props:K,_owner:E.current}}function U(j,L){return{$$typeof:e,type:j.type,key:L,ref:j.ref,props:j.props,_owner:j._owner}}function G(j){return typeof j=="object"&&j!==null&&j.$$typeof===e}function te(j){var L={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(X){return L[X]})}var ce=/\/+/g;function oe(j,L){return typeof j=="object"&&j!==null&&j.key!=null?te(""+j.key):L.toString(36)}function ae(j,L,X,Z,K){var B=typeof j;(B==="undefined"||B==="boolean")&&(j=null);var q=!1;if(j===null)q=!0;else switch(B){case"string":case"number":q=!0;break;case"object":switch(j.$$typeof){case e:case t:q=!0}}if(q)return q=j,K=K(q),j=Z===""?"."+oe(q,0):Z,g(K)?(X="",j!=null&&(X=j.replace(ce,"$&/")+"/"),ae(K,L,X,"",function(ie){return ie})):K!=null&&(G(K)&&(K=U(K,X+(!K.key||q&&q.key===K.key?"":(""+K.key).replace(ce,"$&/")+"/")+j)),L.push(K)),1;if(q=0,Z=Z===""?".":Z+":",g(j))for(var Y=0;Y<j.length;Y++){B=j[Y];var ee=Z+oe(B,Y);q+=ae(B,L,X,ee,K)}else if(ee=x(j),typeof ee=="function")for(j=ee.call(j),Y=0;!(B=j.next()).done;)B=B.value,ee=Z+oe(B,Y++),q+=ae(B,L,X,ee,K);else if(B==="object")throw L=String(j),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.");return q}function pe(j,L,X){if(j==null)return j;var Z=[],K=0;return ae(j,Z,"","",function(B){return L.call(X,B,K++)}),Z}function de(j){if(j._status===-1){var L=j._result;L=L(),L.then(function(X){(j._status===0||j._status===-1)&&(j._status=1,j._result=X)},function(X){(j._status===0||j._status===-1)&&(j._status=2,j._result=X)}),j._status===-1&&(j._status=0,j._result=L)}if(j._status===1)return j._result.default;throw j._result}var ue={current:null},b={transition:null},R={ReactCurrentDispatcher:ue,ReactCurrentBatchConfig:b,ReactCurrentOwner:E};function D(){throw Error("act(...) is not supported in production builds of React.")}return je.Children={map:pe,forEach:function(j,L,X){pe(j,function(){L.apply(this,arguments)},X)},count:function(j){var L=0;return pe(j,function(){L++}),L},toArray:function(j){return pe(j,function(L){return L})||[]},only:function(j){if(!G(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},je.Component=k,je.Fragment=n,je.Profiler=o,je.PureComponent=C,je.StrictMode=i,je.Suspense=d,je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,je.act=D,je.cloneElement=function(j,L,X){if(j==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+j+".");var Z=T({},j.props),K=j.key,B=j.ref,q=j._owner;if(L!=null){if(L.ref!==void 0&&(B=L.ref,q=E.current),L.key!==void 0&&(K=""+L.key),j.type&&j.type.defaultProps)var Y=j.type.defaultProps;for(ee in L)_.call(L,ee)&&!$.hasOwnProperty(ee)&&(Z[ee]=L[ee]===void 0&&Y!==void 0?Y[ee]:L[ee])}var ee=arguments.length-2;if(ee===1)Z.children=X;else if(1<ee){Y=Array(ee);for(var ie=0;ie<ee;ie++)Y[ie]=arguments[ie+2];Z.children=Y}return{$$typeof:e,type:j.type,key:K,ref:B,props:Z,_owner:q}},je.createContext=function(j){return j={$$typeof:u,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},j.Provider={$$typeof:l,_context:j},j.Consumer=j},je.createElement=I,je.createFactory=function(j){var L=I.bind(null,j);return L.type=j,L},je.createRef=function(){return{current:null}},je.forwardRef=function(j){return{$$typeof:f,render:j}},je.isValidElement=G,je.lazy=function(j){return{$$typeof:v,_payload:{_status:-1,_result:j},_init:de}},je.memo=function(j,L){return{$$typeof:m,type:j,compare:L===void 0?null:L}},je.startTransition=function(j){var L=b.transition;b.transition={};try{j()}finally{b.transition=L}},je.unstable_act=D,je.useCallback=function(j,L){return ue.current.useCallback(j,L)},je.useContext=function(j){return ue.current.useContext(j)},je.useDebugValue=function(){},je.useDeferredValue=function(j){return ue.current.useDeferredValue(j)},je.useEffect=function(j,L){return ue.current.useEffect(j,L)},je.useId=function(){return ue.current.useId()},je.useImperativeHandle=function(j,L,X){return ue.current.useImperativeHandle(j,L,X)},je.useInsertionEffect=function(j,L){return ue.current.useInsertionEffect(j,L)},je.useLayoutEffect=function(j,L){return ue.current.useLayoutEffect(j,L)},je.useMemo=function(j,L){return ue.current.useMemo(j,L)},je.useReducer=function(j,L,X){return ue.current.useReducer(j,L,X)},je.useRef=function(j){return ue.current.useRef(j)},je.useState=function(j){return ue.current.useState(j)},je.useSyncExternalStore=function(j,L,X){return ue.current.useSyncExternalStore(j,L,X)},je.useTransition=function(){return ue.current.useTransition()},je.version="18.3.1",je}var uv;function ad(){return uv||(uv=1,_c.exports=kS()),_c.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cv;function bS(){if(cv)return Os;cv=1;var e=ad(),t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(f,d,m){var v,p={},x=null,P=null;m!==void 0&&(x=""+m),d.key!==void 0&&(x=""+d.key),d.ref!==void 0&&(P=d.ref);for(v in d)i.call(d,v)&&!l.hasOwnProperty(v)&&(p[v]=d[v]);if(f&&f.defaultProps)for(v in d=f.defaultProps,d)p[v]===void 0&&(p[v]=d[v]);return{$$typeof:t,type:f,key:x,ref:P,props:p,_owner:o.current}}return Os.Fragment=n,Os.jsx=u,Os.jsxs=u,Os}var fv;function ES(){return fv||(fv=1,xc.exports=bS()),xc.exports}var O=ES(),F=ad();const Gg=ro(F),CS=SS({__proto__:null,default:Gg},[F]);var Pa={},Sc={exports:{}},It={},kc={exports:{}},bc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dv;function TS(){return dv||(dv=1,(function(e){function t(b,R){var D=b.length;b.push(R);e:for(;0<D;){var j=D-1>>>1,L=b[j];if(0<o(L,R))b[j]=R,b[D]=L,D=j;else break e}}function n(b){return b.length===0?null:b[0]}function i(b){if(b.length===0)return null;var R=b[0],D=b.pop();if(D!==R){b[0]=D;e:for(var j=0,L=b.length,X=L>>>1;j<X;){var Z=2*(j+1)-1,K=b[Z],B=Z+1,q=b[B];if(0>o(K,D))B<L&&0>o(q,K)?(b[j]=q,b[B]=D,j=B):(b[j]=K,b[Z]=D,j=Z);else if(B<L&&0>o(q,D))b[j]=q,b[B]=D,j=B;else break e}}return R}function o(b,R){var D=b.sortIndex-R.sortIndex;return D!==0?D:b.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var u=Date,f=u.now();e.unstable_now=function(){return u.now()-f}}var d=[],m=[],v=1,p=null,x=3,P=!1,T=!1,N=!1,k=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(b){for(var R=n(m);R!==null;){if(R.callback===null)i(m);else if(R.startTime<=b)i(m),R.sortIndex=R.expirationTime,t(d,R);else break;R=n(m)}}function g(b){if(N=!1,w(b),!T)if(n(d)!==null)T=!0,de(_);else{var R=n(m);R!==null&&ue(g,R.startTime-b)}}function _(b,R){T=!1,N&&(N=!1,S(I),I=-1),P=!0;var D=x;try{for(w(R),p=n(d);p!==null&&(!(p.expirationTime>R)||b&&!te());){var j=p.callback;if(typeof j=="function"){p.callback=null,x=p.priorityLevel;var L=j(p.expirationTime<=R);R=e.unstable_now(),typeof L=="function"?p.callback=L:p===n(d)&&i(d),w(R)}else i(d);p=n(d)}if(p!==null)var X=!0;else{var Z=n(m);Z!==null&&ue(g,Z.startTime-R),X=!1}return X}finally{p=null,x=D,P=!1}}var E=!1,$=null,I=-1,U=5,G=-1;function te(){return!(e.unstable_now()-G<U)}function ce(){if($!==null){var b=e.unstable_now();G=b;var R=!0;try{R=$(!0,b)}finally{R?oe():(E=!1,$=null)}}else E=!1}var oe;if(typeof C=="function")oe=function(){C(ce)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,pe=ae.port2;ae.port1.onmessage=ce,oe=function(){pe.postMessage(null)}}else oe=function(){k(ce,0)};function de(b){$=b,E||(E=!0,oe())}function ue(b,R){I=k(function(){b(e.unstable_now())},R)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(b){b.callback=null},e.unstable_continueExecution=function(){T||P||(T=!0,de(_))},e.unstable_forceFrameRate=function(b){0>b||125<b?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<b?Math.floor(1e3/b):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_getFirstCallbackNode=function(){return n(d)},e.unstable_next=function(b){switch(x){case 1:case 2:case 3:var R=3;break;default:R=x}var D=x;x=R;try{return b()}finally{x=D}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(b,R){switch(b){case 1:case 2:case 3:case 4:case 5:break;default:b=3}var D=x;x=b;try{return R()}finally{x=D}},e.unstable_scheduleCallback=function(b,R,D){var j=e.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?j+D:j):D=j,b){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=D+L,b={id:v++,callback:R,priorityLevel:b,startTime:D,expirationTime:L,sortIndex:-1},D>j?(b.sortIndex=D,t(m,b),n(d)===null&&b===n(m)&&(N?(S(I),I=-1):N=!0,ue(g,D-j))):(b.sortIndex=L,t(d,b),T||P||(T=!0,de(_))),b},e.unstable_shouldYield=te,e.unstable_wrapCallback=function(b){var R=x;return function(){var D=x;x=R;try{return b.apply(this,arguments)}finally{x=D}}}})(bc)),bc}var hv;function PS(){return hv||(hv=1,kc.exports=TS()),kc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pv;function AS(){if(pv)return It;pv=1;var e=ad(),t=PS();function n(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(r,s){u(r,s),u(r+"Capture",s)}function u(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},p={};function x(r){return d.call(p,r)?!0:d.call(v,r)?!1:m.test(r)?p[r]=!0:(v[r]=!0,!1)}function P(r,s,a,c){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function T(r,s,a,c){if(s===null||typeof s>"u"||P(r,s,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function N(r,s,a,c,h,y,A){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=c,this.attributeNamespace=h,this.mustUseProperty=a,this.propertyName=r,this.type=s,this.sanitizeURL=y,this.removeEmptyString=A}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){k[r]=new N(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];k[s]=new N(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){k[r]=new N(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){k[r]=new N(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){k[r]=new N(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){k[r]=new N(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){k[r]=new N(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){k[r]=new N(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){k[r]=new N(r,5,!1,r.toLowerCase(),null,!1,!1)});var S=/[\-:]([a-z])/g;function C(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(S,C);k[s]=new N(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(S,C);k[s]=new N(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(S,C);k[s]=new N(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){k[r]=new N(r,1,!1,r.toLowerCase(),null,!1,!1)}),k.xlinkHref=new N("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){k[r]=new N(r,1,!1,r.toLowerCase(),null,!0,!0)});function w(r,s,a,c){var h=k.hasOwnProperty(s)?k[s]:null;(h!==null?h.type!==0:c||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(T(s,a,h,c)&&(a=null),c||h===null?x(s)&&(a===null?r.removeAttribute(s):r.setAttribute(s,""+a)):h.mustUseProperty?r[h.propertyName]=a===null?h.type===3?!1:"":a:(s=h.attributeName,c=h.attributeNamespace,a===null?r.removeAttribute(s):(h=h.type,a=h===3||h===4&&a===!0?"":""+a,c?r.setAttributeNS(c,s,a):r.setAttribute(s,a))))}var g=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),E=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),G=Symbol.for("react.provider"),te=Symbol.for("react.context"),ce=Symbol.for("react.forward_ref"),oe=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),pe=Symbol.for("react.memo"),de=Symbol.for("react.lazy"),ue=Symbol.for("react.offscreen"),b=Symbol.iterator;function R(r){return r===null||typeof r!="object"?null:(r=b&&r[b]||r["@@iterator"],typeof r=="function"?r:null)}var D=Object.assign,j;function L(r){if(j===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);j=s&&s[1]||""}return`
`+j+r}var X=!1;function Z(r,s){if(!r||X)return"";X=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(Q){var c=Q}Reflect.construct(r,[],s)}else{try{s.call()}catch(Q){c=Q}r.call(s.prototype)}else{try{throw Error()}catch(Q){c=Q}r()}}catch(Q){if(Q&&c&&typeof Q.stack=="string"){for(var h=Q.stack.split(`
`),y=c.stack.split(`
`),A=h.length-1,M=y.length-1;1<=A&&0<=M&&h[A]!==y[M];)M--;for(;1<=A&&0<=M;A--,M--)if(h[A]!==y[M]){if(A!==1||M!==1)do if(A--,M--,0>M||h[A]!==y[M]){var V=`
`+h[A].replace(" at new "," at ");return r.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",r.displayName)),V}while(1<=A&&0<=M);break}}}finally{X=!1,Error.prepareStackTrace=a}return(r=r?r.displayName||r.name:"")?L(r):""}function K(r){switch(r.tag){case 5:return L(r.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 2:case 15:return r=Z(r.type,!1),r;case 11:return r=Z(r.type.render,!1),r;case 1:return r=Z(r.type,!0),r;default:return""}}function B(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case $:return"Fragment";case E:return"Portal";case U:return"Profiler";case I:return"StrictMode";case oe:return"Suspense";case ae:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case te:return(r.displayName||"Context")+".Consumer";case G:return(r._context.displayName||"Context")+".Provider";case ce:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case pe:return s=r.displayName||null,s!==null?s:B(r.type)||"Memo";case de:s=r._payload,r=r._init;try{return B(r(s))}catch{}}return null}function q(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(s);case 8:return s===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Y(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function ee(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function ie(r){var s=ee(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),c=""+r[s];if(!r.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,y=a.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return h.call(this)},set:function(A){c=""+A,y.call(this,A)}}),Object.defineProperty(r,s,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(A){c=""+A},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function be(r){r._valueTracker||(r._valueTracker=ie(r))}function Ne(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var a=s.getValue(),c="";return r&&(c=ee(r)?r.checked?"true":"false":r.value),r=c,r!==a?(s.setValue(r),!0):!1}function Oe(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Ke(r,s){var a=s.checked;return D({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??r._wrapperState.initialChecked})}function dt(r,s){var a=s.defaultValue==null?"":s.defaultValue,c=s.checked!=null?s.checked:s.defaultChecked;a=Y(s.value!=null?s.value:a),r._wrapperState={initialChecked:c,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function ye(r,s){s=s.checked,s!=null&&w(r,"checked",s,!1)}function he(r,s){ye(r,s);var a=Y(s.value),c=s.type;if(a!=null)c==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+a):r.value!==""+a&&(r.value=""+a);else if(c==="submit"||c==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?Ie(r,s.type,a):s.hasOwnProperty("defaultValue")&&Ie(r,s.type,Y(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function we(r,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var c=s.type;if(!(c!=="submit"&&c!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,a||s===r.value||(r.value=s),r.defaultValue=s}a=r.name,a!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,a!==""&&(r.name=a)}function Ie(r,s,a){(s!=="number"||Oe(r.ownerDocument)!==r)&&(a==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+a&&(r.defaultValue=""+a))}var Le=Array.isArray;function Ce(r,s,a,c){if(r=r.options,s){s={};for(var h=0;h<a.length;h++)s["$"+a[h]]=!0;for(a=0;a<r.length;a++)h=s.hasOwnProperty("$"+r[a].value),r[a].selected!==h&&(r[a].selected=h),h&&c&&(r[a].defaultSelected=!0)}else{for(a=""+Y(a),s=null,h=0;h<r.length;h++){if(r[h].value===a){r[h].selected=!0,c&&(r[h].defaultSelected=!0);return}s!==null||r[h].disabled||(s=r[h])}s!==null&&(s.selected=!0)}}function sn(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(n(91));return D({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Nt(r,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(n(92));if(Le(a)){if(1<a.length)throw Error(n(93));a=a[0]}s=a}s==null&&(s=""),a=s}r._wrapperState={initialValue:Y(a)}}function wh(r,s){var a=Y(s.value),c=Y(s.defaultValue);a!=null&&(a=""+a,a!==r.value&&(r.value=a),s.defaultValue==null&&r.defaultValue!==a&&(r.defaultValue=a)),c!=null&&(r.defaultValue=""+c)}function xh(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function _h(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Nl(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?_h(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var xo,Sh=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,c,h){MSApp.execUnsafeLocalFunction(function(){return r(s,a,c,h)})}:r})(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(xo=xo||document.createElement("div"),xo.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=xo.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function Qi(r,s){if(s){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=s;return}}r.textContent=s}var Ji={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},C1=["Webkit","ms","Moz","O"];Object.keys(Ji).forEach(function(r){C1.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),Ji[s]=Ji[r]})});function kh(r,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||Ji.hasOwnProperty(r)&&Ji[r]?(""+s).trim():s+"px"}function bh(r,s){r=r.style;for(var a in s)if(s.hasOwnProperty(a)){var c=a.indexOf("--")===0,h=kh(a,s[a],c);a==="float"&&(a="cssFloat"),c?r.setProperty(a,h):r[a]=h}}var T1=D({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Rl(r,s){if(s){if(T1[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(n(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(n(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(n(61))}if(s.style!=null&&typeof s.style!="object")throw Error(n(62))}}function Ol(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dl=null;function Ll(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Ml=null,ri=null,ii=null;function Eh(r){if(r=gs(r)){if(typeof Ml!="function")throw Error(n(280));var s=r.stateNode;s&&(s=zo(s),Ml(r.stateNode,r.type,s))}}function Ch(r){ri?ii?ii.push(r):ii=[r]:ri=r}function Th(){if(ri){var r=ri,s=ii;if(ii=ri=null,Eh(r),s)for(r=0;r<s.length;r++)Eh(s[r])}}function Ph(r,s){return r(s)}function Ah(){}var Il=!1;function jh(r,s,a){if(Il)return r(s,a);Il=!0;try{return Ph(r,s,a)}finally{Il=!1,(ri!==null||ii!==null)&&(Ah(),Th())}}function Xi(r,s){var a=r.stateNode;if(a===null)return null;var c=zo(a);if(c===null)return null;a=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(n(231,s,typeof a));return a}var $l=!1;if(f)try{var Yi={};Object.defineProperty(Yi,"passive",{get:function(){$l=!0}}),window.addEventListener("test",Yi,Yi),window.removeEventListener("test",Yi,Yi)}catch{$l=!1}function P1(r,s,a,c,h,y,A,M,V){var Q=Array.prototype.slice.call(arguments,3);try{s.apply(a,Q)}catch(re){this.onError(re)}}var Zi=!1,_o=null,So=!1,Bl=null,A1={onError:function(r){Zi=!0,_o=r}};function j1(r,s,a,c,h,y,A,M,V){Zi=!1,_o=null,P1.apply(A1,arguments)}function N1(r,s,a,c,h,y,A,M,V){if(j1.apply(this,arguments),Zi){if(Zi){var Q=_o;Zi=!1,_o=null}else throw Error(n(198));So||(So=!0,Bl=Q)}}function xr(r){var s=r,a=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(a=s.return),r=s.return;while(r)}return s.tag===3?a:null}function Nh(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function Rh(r){if(xr(r)!==r)throw Error(n(188))}function R1(r){var s=r.alternate;if(!s){if(s=xr(r),s===null)throw Error(n(188));return s!==r?null:r}for(var a=r,c=s;;){var h=a.return;if(h===null)break;var y=h.alternate;if(y===null){if(c=h.return,c!==null){a=c;continue}break}if(h.child===y.child){for(y=h.child;y;){if(y===a)return Rh(h),r;if(y===c)return Rh(h),s;y=y.sibling}throw Error(n(188))}if(a.return!==c.return)a=h,c=y;else{for(var A=!1,M=h.child;M;){if(M===a){A=!0,a=h,c=y;break}if(M===c){A=!0,c=h,a=y;break}M=M.sibling}if(!A){for(M=y.child;M;){if(M===a){A=!0,a=y,c=h;break}if(M===c){A=!0,c=y,a=h;break}M=M.sibling}if(!A)throw Error(n(189))}}if(a.alternate!==c)throw Error(n(190))}if(a.tag!==3)throw Error(n(188));return a.stateNode.current===a?r:s}function Oh(r){return r=R1(r),r!==null?Dh(r):null}function Dh(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=Dh(r);if(s!==null)return s;r=r.sibling}return null}var Lh=t.unstable_scheduleCallback,Mh=t.unstable_cancelCallback,O1=t.unstable_shouldYield,D1=t.unstable_requestPaint,Xe=t.unstable_now,L1=t.unstable_getCurrentPriorityLevel,Fl=t.unstable_ImmediatePriority,Ih=t.unstable_UserBlockingPriority,ko=t.unstable_NormalPriority,M1=t.unstable_LowPriority,$h=t.unstable_IdlePriority,bo=null,wn=null;function I1(r){if(wn&&typeof wn.onCommitFiberRoot=="function")try{wn.onCommitFiberRoot(bo,r,void 0,(r.current.flags&128)===128)}catch{}}var on=Math.clz32?Math.clz32:F1,$1=Math.log,B1=Math.LN2;function F1(r){return r>>>=0,r===0?32:31-($1(r)/B1|0)|0}var Eo=64,Co=4194304;function es(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function To(r,s){var a=r.pendingLanes;if(a===0)return 0;var c=0,h=r.suspendedLanes,y=r.pingedLanes,A=a&268435455;if(A!==0){var M=A&~h;M!==0?c=es(M):(y&=A,y!==0&&(c=es(y)))}else A=a&~h,A!==0?c=es(A):y!==0&&(c=es(y));if(c===0)return 0;if(s!==0&&s!==c&&(s&h)===0&&(h=c&-c,y=s&-s,h>=y||h===16&&(y&4194240)!==0))return s;if((c&4)!==0&&(c|=a&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=c;0<s;)a=31-on(s),h=1<<a,c|=r[a],s&=~h;return c}function V1(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function U1(r,s){for(var a=r.suspendedLanes,c=r.pingedLanes,h=r.expirationTimes,y=r.pendingLanes;0<y;){var A=31-on(y),M=1<<A,V=h[A];V===-1?((M&a)===0||(M&c)!==0)&&(h[A]=V1(M,s)):V<=s&&(r.expiredLanes|=M),y&=~M}}function Vl(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Bh(){var r=Eo;return Eo<<=1,(Eo&4194240)===0&&(Eo=64),r}function Ul(r){for(var s=[],a=0;31>a;a++)s.push(r);return s}function ts(r,s,a){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-on(s),r[s]=a}function z1(r,s){var a=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var c=r.eventTimes;for(r=r.expirationTimes;0<a;){var h=31-on(a),y=1<<h;s[h]=0,c[h]=-1,r[h]=-1,a&=~y}}function zl(r,s){var a=r.entangledLanes|=s;for(r=r.entanglements;a;){var c=31-on(a),h=1<<c;h&s|r[c]&s&&(r[c]|=s),a&=~h}}var Me=0;function Fh(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var Vh,ql,Uh,zh,qh,Kl=!1,Po=[],Kn=null,Wn=null,Hn=null,ns=new Map,rs=new Map,Gn=[],q1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Kh(r,s){switch(r){case"focusin":case"focusout":Kn=null;break;case"dragenter":case"dragleave":Wn=null;break;case"mouseover":case"mouseout":Hn=null;break;case"pointerover":case"pointerout":ns.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":rs.delete(s.pointerId)}}function is(r,s,a,c,h,y){return r===null||r.nativeEvent!==y?(r={blockedOn:s,domEventName:a,eventSystemFlags:c,nativeEvent:y,targetContainers:[h]},s!==null&&(s=gs(s),s!==null&&ql(s)),r):(r.eventSystemFlags|=c,s=r.targetContainers,h!==null&&s.indexOf(h)===-1&&s.push(h),r)}function K1(r,s,a,c,h){switch(s){case"focusin":return Kn=is(Kn,r,s,a,c,h),!0;case"dragenter":return Wn=is(Wn,r,s,a,c,h),!0;case"mouseover":return Hn=is(Hn,r,s,a,c,h),!0;case"pointerover":var y=h.pointerId;return ns.set(y,is(ns.get(y)||null,r,s,a,c,h)),!0;case"gotpointercapture":return y=h.pointerId,rs.set(y,is(rs.get(y)||null,r,s,a,c,h)),!0}return!1}function Wh(r){var s=_r(r.target);if(s!==null){var a=xr(s);if(a!==null){if(s=a.tag,s===13){if(s=Nh(a),s!==null){r.blockedOn=s,qh(r.priority,function(){Uh(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Ao(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var a=Hl(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(a===null){a=r.nativeEvent;var c=new a.constructor(a.type,a);Dl=c,a.target.dispatchEvent(c),Dl=null}else return s=gs(a),s!==null&&ql(s),r.blockedOn=a,!1;s.shift()}return!0}function Hh(r,s,a){Ao(r)&&a.delete(s)}function W1(){Kl=!1,Kn!==null&&Ao(Kn)&&(Kn=null),Wn!==null&&Ao(Wn)&&(Wn=null),Hn!==null&&Ao(Hn)&&(Hn=null),ns.forEach(Hh),rs.forEach(Hh)}function ss(r,s){r.blockedOn===s&&(r.blockedOn=null,Kl||(Kl=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,W1)))}function os(r){function s(h){return ss(h,r)}if(0<Po.length){ss(Po[0],r);for(var a=1;a<Po.length;a++){var c=Po[a];c.blockedOn===r&&(c.blockedOn=null)}}for(Kn!==null&&ss(Kn,r),Wn!==null&&ss(Wn,r),Hn!==null&&ss(Hn,r),ns.forEach(s),rs.forEach(s),a=0;a<Gn.length;a++)c=Gn[a],c.blockedOn===r&&(c.blockedOn=null);for(;0<Gn.length&&(a=Gn[0],a.blockedOn===null);)Wh(a),a.blockedOn===null&&Gn.shift()}var si=g.ReactCurrentBatchConfig,jo=!0;function H1(r,s,a,c){var h=Me,y=si.transition;si.transition=null;try{Me=1,Wl(r,s,a,c)}finally{Me=h,si.transition=y}}function G1(r,s,a,c){var h=Me,y=si.transition;si.transition=null;try{Me=4,Wl(r,s,a,c)}finally{Me=h,si.transition=y}}function Wl(r,s,a,c){if(jo){var h=Hl(r,s,a,c);if(h===null)cu(r,s,c,No,a),Kh(r,c);else if(K1(h,r,s,a,c))c.stopPropagation();else if(Kh(r,c),s&4&&-1<q1.indexOf(r)){for(;h!==null;){var y=gs(h);if(y!==null&&Vh(y),y=Hl(r,s,a,c),y===null&&cu(r,s,c,No,a),y===h)break;h=y}h!==null&&c.stopPropagation()}else cu(r,s,c,null,a)}}var No=null;function Hl(r,s,a,c){if(No=null,r=Ll(c),r=_r(r),r!==null)if(s=xr(r),s===null)r=null;else if(a=s.tag,a===13){if(r=Nh(s),r!==null)return r;r=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return No=r,null}function Gh(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(L1()){case Fl:return 1;case Ih:return 4;case ko:case M1:return 16;case $h:return 536870912;default:return 16}default:return 16}}var Qn=null,Gl=null,Ro=null;function Qh(){if(Ro)return Ro;var r,s=Gl,a=s.length,c,h="value"in Qn?Qn.value:Qn.textContent,y=h.length;for(r=0;r<a&&s[r]===h[r];r++);var A=a-r;for(c=1;c<=A&&s[a-c]===h[y-c];c++);return Ro=h.slice(r,1<c?1-c:void 0)}function Oo(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Do(){return!0}function Jh(){return!1}function Ft(r){function s(a,c,h,y,A){this._reactName=a,this._targetInst=h,this.type=c,this.nativeEvent=y,this.target=A,this.currentTarget=null;for(var M in r)r.hasOwnProperty(M)&&(a=r[M],this[M]=a?a(y):y[M]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Do:Jh,this.isPropagationStopped=Jh,this}return D(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Do)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Do)},persist:function(){},isPersistent:Do}),s}var oi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ql=Ft(oi),as=D({},oi,{view:0,detail:0}),Q1=Ft(as),Jl,Xl,ls,Lo=D({},as,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zl,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ls&&(ls&&r.type==="mousemove"?(Jl=r.screenX-ls.screenX,Xl=r.screenY-ls.screenY):Xl=Jl=0,ls=r),Jl)},movementY:function(r){return"movementY"in r?r.movementY:Xl}}),Xh=Ft(Lo),J1=D({},Lo,{dataTransfer:0}),X1=Ft(J1),Y1=D({},as,{relatedTarget:0}),Yl=Ft(Y1),Z1=D({},oi,{animationName:0,elapsedTime:0,pseudoElement:0}),e_=Ft(Z1),t_=D({},oi,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),n_=Ft(t_),r_=D({},oi,{data:0}),Yh=Ft(r_),i_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},s_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},o_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function a_(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=o_[r])?!!s[r]:!1}function Zl(){return a_}var l_=D({},as,{key:function(r){if(r.key){var s=i_[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Oo(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?s_[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zl,charCode:function(r){return r.type==="keypress"?Oo(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Oo(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),u_=Ft(l_),c_=D({},Lo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zh=Ft(c_),f_=D({},as,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zl}),d_=Ft(f_),h_=D({},oi,{propertyName:0,elapsedTime:0,pseudoElement:0}),p_=Ft(h_),m_=D({},Lo,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),v_=Ft(m_),y_=[9,13,27,32],eu=f&&"CompositionEvent"in window,us=null;f&&"documentMode"in document&&(us=document.documentMode);var g_=f&&"TextEvent"in window&&!us,ep=f&&(!eu||us&&8<us&&11>=us),tp=" ",np=!1;function rp(r,s){switch(r){case"keyup":return y_.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ip(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var ai=!1;function w_(r,s){switch(r){case"compositionend":return ip(s);case"keypress":return s.which!==32?null:(np=!0,tp);case"textInput":return r=s.data,r===tp&&np?null:r;default:return null}}function x_(r,s){if(ai)return r==="compositionend"||!eu&&rp(r,s)?(r=Qh(),Ro=Gl=Qn=null,ai=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return ep&&s.locale!=="ko"?null:s.data;default:return null}}var __={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sp(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!__[r.type]:s==="textarea"}function op(r,s,a,c){Ch(c),s=Fo(s,"onChange"),0<s.length&&(a=new Ql("onChange","change",null,a,c),r.push({event:a,listeners:s}))}var cs=null,fs=null;function S_(r){bp(r,0)}function Mo(r){var s=di(r);if(Ne(s))return r}function k_(r,s){if(r==="change")return s}var ap=!1;if(f){var tu;if(f){var nu="oninput"in document;if(!nu){var lp=document.createElement("div");lp.setAttribute("oninput","return;"),nu=typeof lp.oninput=="function"}tu=nu}else tu=!1;ap=tu&&(!document.documentMode||9<document.documentMode)}function up(){cs&&(cs.detachEvent("onpropertychange",cp),fs=cs=null)}function cp(r){if(r.propertyName==="value"&&Mo(fs)){var s=[];op(s,fs,r,Ll(r)),jh(S_,s)}}function b_(r,s,a){r==="focusin"?(up(),cs=s,fs=a,cs.attachEvent("onpropertychange",cp)):r==="focusout"&&up()}function E_(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Mo(fs)}function C_(r,s){if(r==="click")return Mo(s)}function T_(r,s){if(r==="input"||r==="change")return Mo(s)}function P_(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var an=typeof Object.is=="function"?Object.is:P_;function ds(r,s){if(an(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var a=Object.keys(r),c=Object.keys(s);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var h=a[c];if(!d.call(s,h)||!an(r[h],s[h]))return!1}return!0}function fp(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function dp(r,s){var a=fp(r);r=0;for(var c;a;){if(a.nodeType===3){if(c=r+a.textContent.length,r<=s&&c>=s)return{node:a,offset:s-r};r=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=fp(a)}}function hp(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?hp(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function pp(){for(var r=window,s=Oe();s instanceof r.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)r=s.contentWindow;else break;s=Oe(r.document)}return s}function ru(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function A_(r){var s=pp(),a=r.focusedElem,c=r.selectionRange;if(s!==a&&a&&a.ownerDocument&&hp(a.ownerDocument.documentElement,a)){if(c!==null&&ru(a)){if(s=c.start,r=c.end,r===void 0&&(r=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(r,a.value.length);else if(r=(s=a.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var h=a.textContent.length,y=Math.min(c.start,h);c=c.end===void 0?y:Math.min(c.end,h),!r.extend&&y>c&&(h=c,c=y,y=h),h=dp(a,y);var A=dp(a,c);h&&A&&(r.rangeCount!==1||r.anchorNode!==h.node||r.anchorOffset!==h.offset||r.focusNode!==A.node||r.focusOffset!==A.offset)&&(s=s.createRange(),s.setStart(h.node,h.offset),r.removeAllRanges(),y>c?(r.addRange(s),r.extend(A.node,A.offset)):(s.setEnd(A.node,A.offset),r.addRange(s)))}}for(s=[],r=a;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)r=s[a],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var j_=f&&"documentMode"in document&&11>=document.documentMode,li=null,iu=null,hs=null,su=!1;function mp(r,s,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;su||li==null||li!==Oe(c)||(c=li,"selectionStart"in c&&ru(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),hs&&ds(hs,c)||(hs=c,c=Fo(iu,"onSelect"),0<c.length&&(s=new Ql("onSelect","select",null,s,a),r.push({event:s,listeners:c}),s.target=li)))}function Io(r,s){var a={};return a[r.toLowerCase()]=s.toLowerCase(),a["Webkit"+r]="webkit"+s,a["Moz"+r]="moz"+s,a}var ui={animationend:Io("Animation","AnimationEnd"),animationiteration:Io("Animation","AnimationIteration"),animationstart:Io("Animation","AnimationStart"),transitionend:Io("Transition","TransitionEnd")},ou={},vp={};f&&(vp=document.createElement("div").style,"AnimationEvent"in window||(delete ui.animationend.animation,delete ui.animationiteration.animation,delete ui.animationstart.animation),"TransitionEvent"in window||delete ui.transitionend.transition);function $o(r){if(ou[r])return ou[r];if(!ui[r])return r;var s=ui[r],a;for(a in s)if(s.hasOwnProperty(a)&&a in vp)return ou[r]=s[a];return r}var yp=$o("animationend"),gp=$o("animationiteration"),wp=$o("animationstart"),xp=$o("transitionend"),_p=new Map,Sp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Jn(r,s){_p.set(r,s),l(s,[r])}for(var au=0;au<Sp.length;au++){var lu=Sp[au],N_=lu.toLowerCase(),R_=lu[0].toUpperCase()+lu.slice(1);Jn(N_,"on"+R_)}Jn(yp,"onAnimationEnd"),Jn(gp,"onAnimationIteration"),Jn(wp,"onAnimationStart"),Jn("dblclick","onDoubleClick"),Jn("focusin","onFocus"),Jn("focusout","onBlur"),Jn(xp,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ps="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),O_=new Set("cancel close invalid load scroll toggle".split(" ").concat(ps));function kp(r,s,a){var c=r.type||"unknown-event";r.currentTarget=a,N1(c,s,void 0,r),r.currentTarget=null}function bp(r,s){s=(s&4)!==0;for(var a=0;a<r.length;a++){var c=r[a],h=c.event;c=c.listeners;e:{var y=void 0;if(s)for(var A=c.length-1;0<=A;A--){var M=c[A],V=M.instance,Q=M.currentTarget;if(M=M.listener,V!==y&&h.isPropagationStopped())break e;kp(h,M,Q),y=V}else for(A=0;A<c.length;A++){if(M=c[A],V=M.instance,Q=M.currentTarget,M=M.listener,V!==y&&h.isPropagationStopped())break e;kp(h,M,Q),y=V}}}if(So)throw r=Bl,So=!1,Bl=null,r}function Be(r,s){var a=s[vu];a===void 0&&(a=s[vu]=new Set);var c=r+"__bubble";a.has(c)||(Ep(s,r,2,!1),a.add(c))}function uu(r,s,a){var c=0;s&&(c|=4),Ep(a,r,c,s)}var Bo="_reactListening"+Math.random().toString(36).slice(2);function ms(r){if(!r[Bo]){r[Bo]=!0,i.forEach(function(a){a!=="selectionchange"&&(O_.has(a)||uu(a,!1,r),uu(a,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Bo]||(s[Bo]=!0,uu("selectionchange",!1,s))}}function Ep(r,s,a,c){switch(Gh(s)){case 1:var h=H1;break;case 4:h=G1;break;default:h=Wl}a=h.bind(null,s,a,r),h=void 0,!$l||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(h=!0),c?h!==void 0?r.addEventListener(s,a,{capture:!0,passive:h}):r.addEventListener(s,a,!0):h!==void 0?r.addEventListener(s,a,{passive:h}):r.addEventListener(s,a,!1)}function cu(r,s,a,c,h){var y=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var A=c.tag;if(A===3||A===4){var M=c.stateNode.containerInfo;if(M===h||M.nodeType===8&&M.parentNode===h)break;if(A===4)for(A=c.return;A!==null;){var V=A.tag;if((V===3||V===4)&&(V=A.stateNode.containerInfo,V===h||V.nodeType===8&&V.parentNode===h))return;A=A.return}for(;M!==null;){if(A=_r(M),A===null)return;if(V=A.tag,V===5||V===6){c=y=A;continue e}M=M.parentNode}}c=c.return}jh(function(){var Q=y,re=Ll(a),se=[];e:{var ne=_p.get(r);if(ne!==void 0){var fe=Ql,ve=r;switch(r){case"keypress":if(Oo(a)===0)break e;case"keydown":case"keyup":fe=u_;break;case"focusin":ve="focus",fe=Yl;break;case"focusout":ve="blur",fe=Yl;break;case"beforeblur":case"afterblur":fe=Yl;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":fe=Xh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":fe=X1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":fe=d_;break;case yp:case gp:case wp:fe=e_;break;case xp:fe=p_;break;case"scroll":fe=Q1;break;case"wheel":fe=v_;break;case"copy":case"cut":case"paste":fe=n_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":fe=Zh}var ge=(s&4)!==0,Ye=!ge&&r==="scroll",W=ge?ne!==null?ne+"Capture":null:ne;ge=[];for(var z=Q,H;z!==null;){H=z;var le=H.stateNode;if(H.tag===5&&le!==null&&(H=le,W!==null&&(le=Xi(z,W),le!=null&&ge.push(vs(z,le,H)))),Ye)break;z=z.return}0<ge.length&&(ne=new fe(ne,ve,null,a,re),se.push({event:ne,listeners:ge}))}}if((s&7)===0){e:{if(ne=r==="mouseover"||r==="pointerover",fe=r==="mouseout"||r==="pointerout",ne&&a!==Dl&&(ve=a.relatedTarget||a.fromElement)&&(_r(ve)||ve[Rn]))break e;if((fe||ne)&&(ne=re.window===re?re:(ne=re.ownerDocument)?ne.defaultView||ne.parentWindow:window,fe?(ve=a.relatedTarget||a.toElement,fe=Q,ve=ve?_r(ve):null,ve!==null&&(Ye=xr(ve),ve!==Ye||ve.tag!==5&&ve.tag!==6)&&(ve=null)):(fe=null,ve=Q),fe!==ve)){if(ge=Xh,le="onMouseLeave",W="onMouseEnter",z="mouse",(r==="pointerout"||r==="pointerover")&&(ge=Zh,le="onPointerLeave",W="onPointerEnter",z="pointer"),Ye=fe==null?ne:di(fe),H=ve==null?ne:di(ve),ne=new ge(le,z+"leave",fe,a,re),ne.target=Ye,ne.relatedTarget=H,le=null,_r(re)===Q&&(ge=new ge(W,z+"enter",ve,a,re),ge.target=H,ge.relatedTarget=Ye,le=ge),Ye=le,fe&&ve)t:{for(ge=fe,W=ve,z=0,H=ge;H;H=ci(H))z++;for(H=0,le=W;le;le=ci(le))H++;for(;0<z-H;)ge=ci(ge),z--;for(;0<H-z;)W=ci(W),H--;for(;z--;){if(ge===W||W!==null&&ge===W.alternate)break t;ge=ci(ge),W=ci(W)}ge=null}else ge=null;fe!==null&&Cp(se,ne,fe,ge,!1),ve!==null&&Ye!==null&&Cp(se,Ye,ve,ge,!0)}}e:{if(ne=Q?di(Q):window,fe=ne.nodeName&&ne.nodeName.toLowerCase(),fe==="select"||fe==="input"&&ne.type==="file")var xe=k_;else if(sp(ne))if(ap)xe=T_;else{xe=E_;var _e=b_}else(fe=ne.nodeName)&&fe.toLowerCase()==="input"&&(ne.type==="checkbox"||ne.type==="radio")&&(xe=C_);if(xe&&(xe=xe(r,Q))){op(se,xe,a,re);break e}_e&&_e(r,ne,Q),r==="focusout"&&(_e=ne._wrapperState)&&_e.controlled&&ne.type==="number"&&Ie(ne,"number",ne.value)}switch(_e=Q?di(Q):window,r){case"focusin":(sp(_e)||_e.contentEditable==="true")&&(li=_e,iu=Q,hs=null);break;case"focusout":hs=iu=li=null;break;case"mousedown":su=!0;break;case"contextmenu":case"mouseup":case"dragend":su=!1,mp(se,a,re);break;case"selectionchange":if(j_)break;case"keydown":case"keyup":mp(se,a,re)}var Se;if(eu)e:{switch(r){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else ai?rp(r,a)&&(Ee="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(Ee="onCompositionStart");Ee&&(ep&&a.locale!=="ko"&&(ai||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&ai&&(Se=Qh()):(Qn=re,Gl="value"in Qn?Qn.value:Qn.textContent,ai=!0)),_e=Fo(Q,Ee),0<_e.length&&(Ee=new Yh(Ee,r,null,a,re),se.push({event:Ee,listeners:_e}),Se?Ee.data=Se:(Se=ip(a),Se!==null&&(Ee.data=Se)))),(Se=g_?w_(r,a):x_(r,a))&&(Q=Fo(Q,"onBeforeInput"),0<Q.length&&(re=new Yh("onBeforeInput","beforeinput",null,a,re),se.push({event:re,listeners:Q}),re.data=Se))}bp(se,s)})}function vs(r,s,a){return{instance:r,listener:s,currentTarget:a}}function Fo(r,s){for(var a=s+"Capture",c=[];r!==null;){var h=r,y=h.stateNode;h.tag===5&&y!==null&&(h=y,y=Xi(r,a),y!=null&&c.unshift(vs(r,y,h)),y=Xi(r,s),y!=null&&c.push(vs(r,y,h))),r=r.return}return c}function ci(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Cp(r,s,a,c,h){for(var y=s._reactName,A=[];a!==null&&a!==c;){var M=a,V=M.alternate,Q=M.stateNode;if(V!==null&&V===c)break;M.tag===5&&Q!==null&&(M=Q,h?(V=Xi(a,y),V!=null&&A.unshift(vs(a,V,M))):h||(V=Xi(a,y),V!=null&&A.push(vs(a,V,M)))),a=a.return}A.length!==0&&r.push({event:s,listeners:A})}var D_=/\r\n?/g,L_=/\u0000|\uFFFD/g;function Tp(r){return(typeof r=="string"?r:""+r).replace(D_,`
`).replace(L_,"")}function Vo(r,s,a){if(s=Tp(s),Tp(r)!==s&&a)throw Error(n(425))}function Uo(){}var fu=null,du=null;function hu(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var pu=typeof setTimeout=="function"?setTimeout:void 0,M_=typeof clearTimeout=="function"?clearTimeout:void 0,Pp=typeof Promise=="function"?Promise:void 0,I_=typeof queueMicrotask=="function"?queueMicrotask:typeof Pp<"u"?function(r){return Pp.resolve(null).then(r).catch($_)}:pu;function $_(r){setTimeout(function(){throw r})}function mu(r,s){var a=s,c=0;do{var h=a.nextSibling;if(r.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(c===0){r.removeChild(h),os(s);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=h}while(a);os(s)}function Xn(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function Ap(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return r;s--}else a==="/$"&&s++}r=r.previousSibling}return null}var fi=Math.random().toString(36).slice(2),xn="__reactFiber$"+fi,ys="__reactProps$"+fi,Rn="__reactContainer$"+fi,vu="__reactEvents$"+fi,B_="__reactListeners$"+fi,F_="__reactHandles$"+fi;function _r(r){var s=r[xn];if(s)return s;for(var a=r.parentNode;a;){if(s=a[Rn]||a[xn]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(r=Ap(r);r!==null;){if(a=r[xn])return a;r=Ap(r)}return s}r=a,a=r.parentNode}return null}function gs(r){return r=r[xn]||r[Rn],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function di(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(n(33))}function zo(r){return r[ys]||null}var yu=[],hi=-1;function Yn(r){return{current:r}}function Fe(r){0>hi||(r.current=yu[hi],yu[hi]=null,hi--)}function $e(r,s){hi++,yu[hi]=r.current,r.current=s}var Zn={},_t=Yn(Zn),Rt=Yn(!1),Sr=Zn;function pi(r,s){var a=r.type.contextTypes;if(!a)return Zn;var c=r.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===s)return c.__reactInternalMemoizedMaskedChildContext;var h={},y;for(y in a)h[y]=s[y];return c&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=h),h}function Ot(r){return r=r.childContextTypes,r!=null}function qo(){Fe(Rt),Fe(_t)}function jp(r,s,a){if(_t.current!==Zn)throw Error(n(168));$e(_t,s),$e(Rt,a)}function Np(r,s,a){var c=r.stateNode;if(s=s.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var h in c)if(!(h in s))throw Error(n(108,q(r)||"Unknown",h));return D({},a,c)}function Ko(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Zn,Sr=_t.current,$e(_t,r),$e(Rt,Rt.current),!0}function Rp(r,s,a){var c=r.stateNode;if(!c)throw Error(n(169));a?(r=Np(r,s,Sr),c.__reactInternalMemoizedMergedChildContext=r,Fe(Rt),Fe(_t),$e(_t,r)):Fe(Rt),$e(Rt,a)}var On=null,Wo=!1,gu=!1;function Op(r){On===null?On=[r]:On.push(r)}function V_(r){Wo=!0,Op(r)}function er(){if(!gu&&On!==null){gu=!0;var r=0,s=Me;try{var a=On;for(Me=1;r<a.length;r++){var c=a[r];do c=c(!0);while(c!==null)}On=null,Wo=!1}catch(h){throw On!==null&&(On=On.slice(r+1)),Lh(Fl,er),h}finally{Me=s,gu=!1}}return null}var mi=[],vi=0,Ho=null,Go=0,Ht=[],Gt=0,kr=null,Dn=1,Ln="";function br(r,s){mi[vi++]=Go,mi[vi++]=Ho,Ho=r,Go=s}function Dp(r,s,a){Ht[Gt++]=Dn,Ht[Gt++]=Ln,Ht[Gt++]=kr,kr=r;var c=Dn;r=Ln;var h=32-on(c)-1;c&=~(1<<h),a+=1;var y=32-on(s)+h;if(30<y){var A=h-h%5;y=(c&(1<<A)-1).toString(32),c>>=A,h-=A,Dn=1<<32-on(s)+h|a<<h|c,Ln=y+r}else Dn=1<<y|a<<h|c,Ln=r}function wu(r){r.return!==null&&(br(r,1),Dp(r,1,0))}function xu(r){for(;r===Ho;)Ho=mi[--vi],mi[vi]=null,Go=mi[--vi],mi[vi]=null;for(;r===kr;)kr=Ht[--Gt],Ht[Gt]=null,Ln=Ht[--Gt],Ht[Gt]=null,Dn=Ht[--Gt],Ht[Gt]=null}var Vt=null,Ut=null,qe=!1,ln=null;function Lp(r,s){var a=Yt(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=r,s=r.deletions,s===null?(r.deletions=[a],r.flags|=16):s.push(a)}function Mp(r,s){switch(r.tag){case 5:var a=r.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,Vt=r,Ut=Xn(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,Vt=r,Ut=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=kr!==null?{id:Dn,overflow:Ln}:null,r.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=Yt(18,null,null,0),a.stateNode=s,a.return=r,r.child=a,Vt=r,Ut=null,!0):!1;default:return!1}}function _u(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Su(r){if(qe){var s=Ut;if(s){var a=s;if(!Mp(r,s)){if(_u(r))throw Error(n(418));s=Xn(a.nextSibling);var c=Vt;s&&Mp(r,s)?Lp(c,a):(r.flags=r.flags&-4097|2,qe=!1,Vt=r)}}else{if(_u(r))throw Error(n(418));r.flags=r.flags&-4097|2,qe=!1,Vt=r}}}function Ip(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Vt=r}function Qo(r){if(r!==Vt)return!1;if(!qe)return Ip(r),qe=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!hu(r.type,r.memoizedProps)),s&&(s=Ut)){if(_u(r))throw $p(),Error(n(418));for(;s;)Lp(r,s),s=Xn(s.nextSibling)}if(Ip(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"){if(s===0){Ut=Xn(r.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}r=r.nextSibling}Ut=null}}else Ut=Vt?Xn(r.stateNode.nextSibling):null;return!0}function $p(){for(var r=Ut;r;)r=Xn(r.nextSibling)}function yi(){Ut=Vt=null,qe=!1}function ku(r){ln===null?ln=[r]:ln.push(r)}var U_=g.ReactCurrentBatchConfig;function ws(r,s,a){if(r=a.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(n(309));var c=a.stateNode}if(!c)throw Error(n(147,r));var h=c,y=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===y?s.ref:(s=function(A){var M=h.refs;A===null?delete M[y]:M[y]=A},s._stringRef=y,s)}if(typeof r!="string")throw Error(n(284));if(!a._owner)throw Error(n(290,r))}return r}function Jo(r,s){throw r=Object.prototype.toString.call(s),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function Bp(r){var s=r._init;return s(r._payload)}function Fp(r){function s(W,z){if(r){var H=W.deletions;H===null?(W.deletions=[z],W.flags|=16):H.push(z)}}function a(W,z){if(!r)return null;for(;z!==null;)s(W,z),z=z.sibling;return null}function c(W,z){for(W=new Map;z!==null;)z.key!==null?W.set(z.key,z):W.set(z.index,z),z=z.sibling;return W}function h(W,z){return W=lr(W,z),W.index=0,W.sibling=null,W}function y(W,z,H){return W.index=H,r?(H=W.alternate,H!==null?(H=H.index,H<z?(W.flags|=2,z):H):(W.flags|=2,z)):(W.flags|=1048576,z)}function A(W){return r&&W.alternate===null&&(W.flags|=2),W}function M(W,z,H,le){return z===null||z.tag!==6?(z=pc(H,W.mode,le),z.return=W,z):(z=h(z,H),z.return=W,z)}function V(W,z,H,le){var xe=H.type;return xe===$?re(W,z,H.props.children,le,H.key):z!==null&&(z.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===de&&Bp(xe)===z.type)?(le=h(z,H.props),le.ref=ws(W,z,H),le.return=W,le):(le=xa(H.type,H.key,H.props,null,W.mode,le),le.ref=ws(W,z,H),le.return=W,le)}function Q(W,z,H,le){return z===null||z.tag!==4||z.stateNode.containerInfo!==H.containerInfo||z.stateNode.implementation!==H.implementation?(z=mc(H,W.mode,le),z.return=W,z):(z=h(z,H.children||[]),z.return=W,z)}function re(W,z,H,le,xe){return z===null||z.tag!==7?(z=Rr(H,W.mode,le,xe),z.return=W,z):(z=h(z,H),z.return=W,z)}function se(W,z,H){if(typeof z=="string"&&z!==""||typeof z=="number")return z=pc(""+z,W.mode,H),z.return=W,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case _:return H=xa(z.type,z.key,z.props,null,W.mode,H),H.ref=ws(W,null,z),H.return=W,H;case E:return z=mc(z,W.mode,H),z.return=W,z;case de:var le=z._init;return se(W,le(z._payload),H)}if(Le(z)||R(z))return z=Rr(z,W.mode,H,null),z.return=W,z;Jo(W,z)}return null}function ne(W,z,H,le){var xe=z!==null?z.key:null;if(typeof H=="string"&&H!==""||typeof H=="number")return xe!==null?null:M(W,z,""+H,le);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case _:return H.key===xe?V(W,z,H,le):null;case E:return H.key===xe?Q(W,z,H,le):null;case de:return xe=H._init,ne(W,z,xe(H._payload),le)}if(Le(H)||R(H))return xe!==null?null:re(W,z,H,le,null);Jo(W,H)}return null}function fe(W,z,H,le,xe){if(typeof le=="string"&&le!==""||typeof le=="number")return W=W.get(H)||null,M(z,W,""+le,xe);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case _:return W=W.get(le.key===null?H:le.key)||null,V(z,W,le,xe);case E:return W=W.get(le.key===null?H:le.key)||null,Q(z,W,le,xe);case de:var _e=le._init;return fe(W,z,H,_e(le._payload),xe)}if(Le(le)||R(le))return W=W.get(H)||null,re(z,W,le,xe,null);Jo(z,le)}return null}function ve(W,z,H,le){for(var xe=null,_e=null,Se=z,Ee=z=0,mt=null;Se!==null&&Ee<H.length;Ee++){Se.index>Ee?(mt=Se,Se=null):mt=Se.sibling;var De=ne(W,Se,H[Ee],le);if(De===null){Se===null&&(Se=mt);break}r&&Se&&De.alternate===null&&s(W,Se),z=y(De,z,Ee),_e===null?xe=De:_e.sibling=De,_e=De,Se=mt}if(Ee===H.length)return a(W,Se),qe&&br(W,Ee),xe;if(Se===null){for(;Ee<H.length;Ee++)Se=se(W,H[Ee],le),Se!==null&&(z=y(Se,z,Ee),_e===null?xe=Se:_e.sibling=Se,_e=Se);return qe&&br(W,Ee),xe}for(Se=c(W,Se);Ee<H.length;Ee++)mt=fe(Se,W,Ee,H[Ee],le),mt!==null&&(r&&mt.alternate!==null&&Se.delete(mt.key===null?Ee:mt.key),z=y(mt,z,Ee),_e===null?xe=mt:_e.sibling=mt,_e=mt);return r&&Se.forEach(function(ur){return s(W,ur)}),qe&&br(W,Ee),xe}function ge(W,z,H,le){var xe=R(H);if(typeof xe!="function")throw Error(n(150));if(H=xe.call(H),H==null)throw Error(n(151));for(var _e=xe=null,Se=z,Ee=z=0,mt=null,De=H.next();Se!==null&&!De.done;Ee++,De=H.next()){Se.index>Ee?(mt=Se,Se=null):mt=Se.sibling;var ur=ne(W,Se,De.value,le);if(ur===null){Se===null&&(Se=mt);break}r&&Se&&ur.alternate===null&&s(W,Se),z=y(ur,z,Ee),_e===null?xe=ur:_e.sibling=ur,_e=ur,Se=mt}if(De.done)return a(W,Se),qe&&br(W,Ee),xe;if(Se===null){for(;!De.done;Ee++,De=H.next())De=se(W,De.value,le),De!==null&&(z=y(De,z,Ee),_e===null?xe=De:_e.sibling=De,_e=De);return qe&&br(W,Ee),xe}for(Se=c(W,Se);!De.done;Ee++,De=H.next())De=fe(Se,W,Ee,De.value,le),De!==null&&(r&&De.alternate!==null&&Se.delete(De.key===null?Ee:De.key),z=y(De,z,Ee),_e===null?xe=De:_e.sibling=De,_e=De);return r&&Se.forEach(function(_S){return s(W,_S)}),qe&&br(W,Ee),xe}function Ye(W,z,H,le){if(typeof H=="object"&&H!==null&&H.type===$&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case _:e:{for(var xe=H.key,_e=z;_e!==null;){if(_e.key===xe){if(xe=H.type,xe===$){if(_e.tag===7){a(W,_e.sibling),z=h(_e,H.props.children),z.return=W,W=z;break e}}else if(_e.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===de&&Bp(xe)===_e.type){a(W,_e.sibling),z=h(_e,H.props),z.ref=ws(W,_e,H),z.return=W,W=z;break e}a(W,_e);break}else s(W,_e);_e=_e.sibling}H.type===$?(z=Rr(H.props.children,W.mode,le,H.key),z.return=W,W=z):(le=xa(H.type,H.key,H.props,null,W.mode,le),le.ref=ws(W,z,H),le.return=W,W=le)}return A(W);case E:e:{for(_e=H.key;z!==null;){if(z.key===_e)if(z.tag===4&&z.stateNode.containerInfo===H.containerInfo&&z.stateNode.implementation===H.implementation){a(W,z.sibling),z=h(z,H.children||[]),z.return=W,W=z;break e}else{a(W,z);break}else s(W,z);z=z.sibling}z=mc(H,W.mode,le),z.return=W,W=z}return A(W);case de:return _e=H._init,Ye(W,z,_e(H._payload),le)}if(Le(H))return ve(W,z,H,le);if(R(H))return ge(W,z,H,le);Jo(W,H)}return typeof H=="string"&&H!==""||typeof H=="number"?(H=""+H,z!==null&&z.tag===6?(a(W,z.sibling),z=h(z,H),z.return=W,W=z):(a(W,z),z=pc(H,W.mode,le),z.return=W,W=z),A(W)):a(W,z)}return Ye}var gi=Fp(!0),Vp=Fp(!1),Xo=Yn(null),Yo=null,wi=null,bu=null;function Eu(){bu=wi=Yo=null}function Cu(r){var s=Xo.current;Fe(Xo),r._currentValue=s}function Tu(r,s,a){for(;r!==null;){var c=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),r===a)break;r=r.return}}function xi(r,s){Yo=r,bu=wi=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&s)!==0&&(Dt=!0),r.firstContext=null)}function Qt(r){var s=r._currentValue;if(bu!==r)if(r={context:r,memoizedValue:s,next:null},wi===null){if(Yo===null)throw Error(n(308));wi=r,Yo.dependencies={lanes:0,firstContext:r}}else wi=wi.next=r;return s}var Er=null;function Pu(r){Er===null?Er=[r]:Er.push(r)}function Up(r,s,a,c){var h=s.interleaved;return h===null?(a.next=a,Pu(s)):(a.next=h.next,h.next=a),s.interleaved=a,Mn(r,c)}function Mn(r,s){r.lanes|=s;var a=r.alternate;for(a!==null&&(a.lanes|=s),a=r,r=r.return;r!==null;)r.childLanes|=s,a=r.alternate,a!==null&&(a.childLanes|=s),a=r,r=r.return;return a.tag===3?a.stateNode:null}var tr=!1;function Au(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zp(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function In(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function nr(r,s,a){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,(Re&2)!==0){var h=c.pending;return h===null?s.next=s:(s.next=h.next,h.next=s),c.pending=s,Mn(r,a)}return h=c.interleaved,h===null?(s.next=s,Pu(c)):(s.next=h.next,h.next=s),c.interleaved=s,Mn(r,a)}function Zo(r,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var c=s.lanes;c&=r.pendingLanes,a|=c,s.lanes=a,zl(r,a)}}function qp(r,s){var a=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var h=null,y=null;if(a=a.firstBaseUpdate,a!==null){do{var A={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};y===null?h=y=A:y=y.next=A,a=a.next}while(a!==null);y===null?h=y=s:y=y.next=s}else h=y=s;a={baseState:c.baseState,firstBaseUpdate:h,lastBaseUpdate:y,shared:c.shared,effects:c.effects},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=s:r.next=s,a.lastBaseUpdate=s}function ea(r,s,a,c){var h=r.updateQueue;tr=!1;var y=h.firstBaseUpdate,A=h.lastBaseUpdate,M=h.shared.pending;if(M!==null){h.shared.pending=null;var V=M,Q=V.next;V.next=null,A===null?y=Q:A.next=Q,A=V;var re=r.alternate;re!==null&&(re=re.updateQueue,M=re.lastBaseUpdate,M!==A&&(M===null?re.firstBaseUpdate=Q:M.next=Q,re.lastBaseUpdate=V))}if(y!==null){var se=h.baseState;A=0,re=Q=V=null,M=y;do{var ne=M.lane,fe=M.eventTime;if((c&ne)===ne){re!==null&&(re=re.next={eventTime:fe,lane:0,tag:M.tag,payload:M.payload,callback:M.callback,next:null});e:{var ve=r,ge=M;switch(ne=s,fe=a,ge.tag){case 1:if(ve=ge.payload,typeof ve=="function"){se=ve.call(fe,se,ne);break e}se=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=ge.payload,ne=typeof ve=="function"?ve.call(fe,se,ne):ve,ne==null)break e;se=D({},se,ne);break e;case 2:tr=!0}}M.callback!==null&&M.lane!==0&&(r.flags|=64,ne=h.effects,ne===null?h.effects=[M]:ne.push(M))}else fe={eventTime:fe,lane:ne,tag:M.tag,payload:M.payload,callback:M.callback,next:null},re===null?(Q=re=fe,V=se):re=re.next=fe,A|=ne;if(M=M.next,M===null){if(M=h.shared.pending,M===null)break;ne=M,M=ne.next,ne.next=null,h.lastBaseUpdate=ne,h.shared.pending=null}}while(!0);if(re===null&&(V=se),h.baseState=V,h.firstBaseUpdate=Q,h.lastBaseUpdate=re,s=h.shared.interleaved,s!==null){h=s;do A|=h.lane,h=h.next;while(h!==s)}else y===null&&(h.shared.lanes=0);Pr|=A,r.lanes=A,r.memoizedState=se}}function Kp(r,s,a){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var c=r[s],h=c.callback;if(h!==null){if(c.callback=null,c=a,typeof h!="function")throw Error(n(191,h));h.call(c)}}}var xs={},_n=Yn(xs),_s=Yn(xs),Ss=Yn(xs);function Cr(r){if(r===xs)throw Error(n(174));return r}function ju(r,s){switch($e(Ss,s),$e(_s,r),$e(_n,xs),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:Nl(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=Nl(s,r)}Fe(_n),$e(_n,s)}function _i(){Fe(_n),Fe(_s),Fe(Ss)}function Wp(r){Cr(Ss.current);var s=Cr(_n.current),a=Nl(s,r.type);s!==a&&($e(_s,r),$e(_n,a))}function Nu(r){_s.current===r&&(Fe(_n),Fe(_s))}var We=Yn(0);function ta(r){for(var s=r;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Ru=[];function Ou(){for(var r=0;r<Ru.length;r++)Ru[r]._workInProgressVersionPrimary=null;Ru.length=0}var na=g.ReactCurrentDispatcher,Du=g.ReactCurrentBatchConfig,Tr=0,He=null,lt=null,ht=null,ra=!1,ks=!1,bs=0,z_=0;function St(){throw Error(n(321))}function Lu(r,s){if(s===null)return!1;for(var a=0;a<s.length&&a<r.length;a++)if(!an(r[a],s[a]))return!1;return!0}function Mu(r,s,a,c,h,y){if(Tr=y,He=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,na.current=r===null||r.memoizedState===null?H_:G_,r=a(c,h),ks){y=0;do{if(ks=!1,bs=0,25<=y)throw Error(n(301));y+=1,ht=lt=null,s.updateQueue=null,na.current=Q_,r=a(c,h)}while(ks)}if(na.current=oa,s=lt!==null&&lt.next!==null,Tr=0,ht=lt=He=null,ra=!1,s)throw Error(n(300));return r}function Iu(){var r=bs!==0;return bs=0,r}function Sn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ht===null?He.memoizedState=ht=r:ht=ht.next=r,ht}function Jt(){if(lt===null){var r=He.alternate;r=r!==null?r.memoizedState:null}else r=lt.next;var s=ht===null?He.memoizedState:ht.next;if(s!==null)ht=s,lt=r;else{if(r===null)throw Error(n(310));lt=r,r={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},ht===null?He.memoizedState=ht=r:ht=ht.next=r}return ht}function Es(r,s){return typeof s=="function"?s(r):s}function $u(r){var s=Jt(),a=s.queue;if(a===null)throw Error(n(311));a.lastRenderedReducer=r;var c=lt,h=c.baseQueue,y=a.pending;if(y!==null){if(h!==null){var A=h.next;h.next=y.next,y.next=A}c.baseQueue=h=y,a.pending=null}if(h!==null){y=h.next,c=c.baseState;var M=A=null,V=null,Q=y;do{var re=Q.lane;if((Tr&re)===re)V!==null&&(V=V.next={lane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),c=Q.hasEagerState?Q.eagerState:r(c,Q.action);else{var se={lane:re,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null};V===null?(M=V=se,A=c):V=V.next=se,He.lanes|=re,Pr|=re}Q=Q.next}while(Q!==null&&Q!==y);V===null?A=c:V.next=M,an(c,s.memoizedState)||(Dt=!0),s.memoizedState=c,s.baseState=A,s.baseQueue=V,a.lastRenderedState=c}if(r=a.interleaved,r!==null){h=r;do y=h.lane,He.lanes|=y,Pr|=y,h=h.next;while(h!==r)}else h===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function Bu(r){var s=Jt(),a=s.queue;if(a===null)throw Error(n(311));a.lastRenderedReducer=r;var c=a.dispatch,h=a.pending,y=s.memoizedState;if(h!==null){a.pending=null;var A=h=h.next;do y=r(y,A.action),A=A.next;while(A!==h);an(y,s.memoizedState)||(Dt=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),a.lastRenderedState=y}return[y,c]}function Hp(){}function Gp(r,s){var a=He,c=Jt(),h=s(),y=!an(c.memoizedState,h);if(y&&(c.memoizedState=h,Dt=!0),c=c.queue,Fu(Xp.bind(null,a,c,r),[r]),c.getSnapshot!==s||y||ht!==null&&ht.memoizedState.tag&1){if(a.flags|=2048,Cs(9,Jp.bind(null,a,c,h,s),void 0,null),pt===null)throw Error(n(349));(Tr&30)!==0||Qp(a,s,h)}return h}function Qp(r,s,a){r.flags|=16384,r={getSnapshot:s,value:a},s=He.updateQueue,s===null?(s={lastEffect:null,stores:null},He.updateQueue=s,s.stores=[r]):(a=s.stores,a===null?s.stores=[r]:a.push(r))}function Jp(r,s,a,c){s.value=a,s.getSnapshot=c,Yp(s)&&Zp(r)}function Xp(r,s,a){return a(function(){Yp(s)&&Zp(r)})}function Yp(r){var s=r.getSnapshot;r=r.value;try{var a=s();return!an(r,a)}catch{return!0}}function Zp(r){var s=Mn(r,1);s!==null&&dn(s,r,1,-1)}function em(r){var s=Sn();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Es,lastRenderedState:r},s.queue=r,r=r.dispatch=W_.bind(null,He,r),[s.memoizedState,r]}function Cs(r,s,a,c){return r={tag:r,create:s,destroy:a,deps:c,next:null},s=He.updateQueue,s===null?(s={lastEffect:null,stores:null},He.updateQueue=s,s.lastEffect=r.next=r):(a=s.lastEffect,a===null?s.lastEffect=r.next=r:(c=a.next,a.next=r,r.next=c,s.lastEffect=r)),r}function tm(){return Jt().memoizedState}function ia(r,s,a,c){var h=Sn();He.flags|=r,h.memoizedState=Cs(1|s,a,void 0,c===void 0?null:c)}function sa(r,s,a,c){var h=Jt();c=c===void 0?null:c;var y=void 0;if(lt!==null){var A=lt.memoizedState;if(y=A.destroy,c!==null&&Lu(c,A.deps)){h.memoizedState=Cs(s,a,y,c);return}}He.flags|=r,h.memoizedState=Cs(1|s,a,y,c)}function nm(r,s){return ia(8390656,8,r,s)}function Fu(r,s){return sa(2048,8,r,s)}function rm(r,s){return sa(4,2,r,s)}function im(r,s){return sa(4,4,r,s)}function sm(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function om(r,s,a){return a=a!=null?a.concat([r]):null,sa(4,4,sm.bind(null,s,r),a)}function Vu(){}function am(r,s){var a=Jt();s=s===void 0?null:s;var c=a.memoizedState;return c!==null&&s!==null&&Lu(s,c[1])?c[0]:(a.memoizedState=[r,s],r)}function lm(r,s){var a=Jt();s=s===void 0?null:s;var c=a.memoizedState;return c!==null&&s!==null&&Lu(s,c[1])?c[0]:(r=r(),a.memoizedState=[r,s],r)}function um(r,s,a){return(Tr&21)===0?(r.baseState&&(r.baseState=!1,Dt=!0),r.memoizedState=a):(an(a,s)||(a=Bh(),He.lanes|=a,Pr|=a,r.baseState=!0),s)}function q_(r,s){var a=Me;Me=a!==0&&4>a?a:4,r(!0);var c=Du.transition;Du.transition={};try{r(!1),s()}finally{Me=a,Du.transition=c}}function cm(){return Jt().memoizedState}function K_(r,s,a){var c=or(r);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},fm(r))dm(s,a);else if(a=Up(r,s,a,c),a!==null){var h=At();dn(a,r,c,h),hm(a,s,c)}}function W_(r,s,a){var c=or(r),h={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(fm(r))dm(s,h);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var A=s.lastRenderedState,M=y(A,a);if(h.hasEagerState=!0,h.eagerState=M,an(M,A)){var V=s.interleaved;V===null?(h.next=h,Pu(s)):(h.next=V.next,V.next=h),s.interleaved=h;return}}catch{}finally{}a=Up(r,s,h,c),a!==null&&(h=At(),dn(a,r,c,h),hm(a,s,c))}}function fm(r){var s=r.alternate;return r===He||s!==null&&s===He}function dm(r,s){ks=ra=!0;var a=r.pending;a===null?s.next=s:(s.next=a.next,a.next=s),r.pending=s}function hm(r,s,a){if((a&4194240)!==0){var c=s.lanes;c&=r.pendingLanes,a|=c,s.lanes=a,zl(r,a)}}var oa={readContext:Qt,useCallback:St,useContext:St,useEffect:St,useImperativeHandle:St,useInsertionEffect:St,useLayoutEffect:St,useMemo:St,useReducer:St,useRef:St,useState:St,useDebugValue:St,useDeferredValue:St,useTransition:St,useMutableSource:St,useSyncExternalStore:St,useId:St,unstable_isNewReconciler:!1},H_={readContext:Qt,useCallback:function(r,s){return Sn().memoizedState=[r,s===void 0?null:s],r},useContext:Qt,useEffect:nm,useImperativeHandle:function(r,s,a){return a=a!=null?a.concat([r]):null,ia(4194308,4,sm.bind(null,s,r),a)},useLayoutEffect:function(r,s){return ia(4194308,4,r,s)},useInsertionEffect:function(r,s){return ia(4,2,r,s)},useMemo:function(r,s){var a=Sn();return s=s===void 0?null:s,r=r(),a.memoizedState=[r,s],r},useReducer:function(r,s,a){var c=Sn();return s=a!==void 0?a(s):s,c.memoizedState=c.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},c.queue=r,r=r.dispatch=K_.bind(null,He,r),[c.memoizedState,r]},useRef:function(r){var s=Sn();return r={current:r},s.memoizedState=r},useState:em,useDebugValue:Vu,useDeferredValue:function(r){return Sn().memoizedState=r},useTransition:function(){var r=em(!1),s=r[0];return r=q_.bind(null,r[1]),Sn().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,a){var c=He,h=Sn();if(qe){if(a===void 0)throw Error(n(407));a=a()}else{if(a=s(),pt===null)throw Error(n(349));(Tr&30)!==0||Qp(c,s,a)}h.memoizedState=a;var y={value:a,getSnapshot:s};return h.queue=y,nm(Xp.bind(null,c,y,r),[r]),c.flags|=2048,Cs(9,Jp.bind(null,c,y,a,s),void 0,null),a},useId:function(){var r=Sn(),s=pt.identifierPrefix;if(qe){var a=Ln,c=Dn;a=(c&~(1<<32-on(c)-1)).toString(32)+a,s=":"+s+"R"+a,a=bs++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=z_++,s=":"+s+"r"+a.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},G_={readContext:Qt,useCallback:am,useContext:Qt,useEffect:Fu,useImperativeHandle:om,useInsertionEffect:rm,useLayoutEffect:im,useMemo:lm,useReducer:$u,useRef:tm,useState:function(){return $u(Es)},useDebugValue:Vu,useDeferredValue:function(r){var s=Jt();return um(s,lt.memoizedState,r)},useTransition:function(){var r=$u(Es)[0],s=Jt().memoizedState;return[r,s]},useMutableSource:Hp,useSyncExternalStore:Gp,useId:cm,unstable_isNewReconciler:!1},Q_={readContext:Qt,useCallback:am,useContext:Qt,useEffect:Fu,useImperativeHandle:om,useInsertionEffect:rm,useLayoutEffect:im,useMemo:lm,useReducer:Bu,useRef:tm,useState:function(){return Bu(Es)},useDebugValue:Vu,useDeferredValue:function(r){var s=Jt();return lt===null?s.memoizedState=r:um(s,lt.memoizedState,r)},useTransition:function(){var r=Bu(Es)[0],s=Jt().memoizedState;return[r,s]},useMutableSource:Hp,useSyncExternalStore:Gp,useId:cm,unstable_isNewReconciler:!1};function un(r,s){if(r&&r.defaultProps){s=D({},s),r=r.defaultProps;for(var a in r)s[a]===void 0&&(s[a]=r[a]);return s}return s}function Uu(r,s,a,c){s=r.memoizedState,a=a(c,s),a=a==null?s:D({},s,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var aa={isMounted:function(r){return(r=r._reactInternals)?xr(r)===r:!1},enqueueSetState:function(r,s,a){r=r._reactInternals;var c=At(),h=or(r),y=In(c,h);y.payload=s,a!=null&&(y.callback=a),s=nr(r,y,h),s!==null&&(dn(s,r,h,c),Zo(s,r,h))},enqueueReplaceState:function(r,s,a){r=r._reactInternals;var c=At(),h=or(r),y=In(c,h);y.tag=1,y.payload=s,a!=null&&(y.callback=a),s=nr(r,y,h),s!==null&&(dn(s,r,h,c),Zo(s,r,h))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var a=At(),c=or(r),h=In(a,c);h.tag=2,s!=null&&(h.callback=s),s=nr(r,h,c),s!==null&&(dn(s,r,c,a),Zo(s,r,c))}};function pm(r,s,a,c,h,y,A){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,y,A):s.prototype&&s.prototype.isPureReactComponent?!ds(a,c)||!ds(h,y):!0}function mm(r,s,a){var c=!1,h=Zn,y=s.contextType;return typeof y=="object"&&y!==null?y=Qt(y):(h=Ot(s)?Sr:_t.current,c=s.contextTypes,y=(c=c!=null)?pi(r,h):Zn),s=new s(a,y),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=aa,r.stateNode=s,s._reactInternals=r,c&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=h,r.__reactInternalMemoizedMaskedChildContext=y),s}function vm(r,s,a,c){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,c),s.state!==r&&aa.enqueueReplaceState(s,s.state,null)}function zu(r,s,a,c){var h=r.stateNode;h.props=a,h.state=r.memoizedState,h.refs={},Au(r);var y=s.contextType;typeof y=="object"&&y!==null?h.context=Qt(y):(y=Ot(s)?Sr:_t.current,h.context=pi(r,y)),h.state=r.memoizedState,y=s.getDerivedStateFromProps,typeof y=="function"&&(Uu(r,s,y,a),h.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(s=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),s!==h.state&&aa.enqueueReplaceState(h,h.state,null),ea(r,a,h,c),h.state=r.memoizedState),typeof h.componentDidMount=="function"&&(r.flags|=4194308)}function Si(r,s){try{var a="",c=s;do a+=K(c),c=c.return;while(c);var h=a}catch(y){h=`
Error generating stack: `+y.message+`
`+y.stack}return{value:r,source:s,stack:h,digest:null}}function qu(r,s,a){return{value:r,source:null,stack:a??null,digest:s??null}}function Ku(r,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var J_=typeof WeakMap=="function"?WeakMap:Map;function ym(r,s,a){a=In(-1,a),a.tag=3,a.payload={element:null};var c=s.value;return a.callback=function(){pa||(pa=!0,oc=c),Ku(r,s)},a}function gm(r,s,a){a=In(-1,a),a.tag=3;var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var h=s.value;a.payload=function(){return c(h)},a.callback=function(){Ku(r,s)}}var y=r.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(a.callback=function(){Ku(r,s),typeof c!="function"&&(ir===null?ir=new Set([this]):ir.add(this));var A=s.stack;this.componentDidCatch(s.value,{componentStack:A!==null?A:""})}),a}function wm(r,s,a){var c=r.pingCache;if(c===null){c=r.pingCache=new J_;var h=new Set;c.set(s,h)}else h=c.get(s),h===void 0&&(h=new Set,c.set(s,h));h.has(a)||(h.add(a),r=cS.bind(null,r,s,a),s.then(r,r))}function xm(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function _m(r,s,a,c,h){return(r.mode&1)===0?(r===s?r.flags|=65536:(r.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=In(-1,1),s.tag=2,nr(a,s,1))),a.lanes|=1),r):(r.flags|=65536,r.lanes=h,r)}var X_=g.ReactCurrentOwner,Dt=!1;function Pt(r,s,a,c){s.child=r===null?Vp(s,null,a,c):gi(s,r.child,a,c)}function Sm(r,s,a,c,h){a=a.render;var y=s.ref;return xi(s,h),c=Mu(r,s,a,c,y,h),a=Iu(),r!==null&&!Dt?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~h,$n(r,s,h)):(qe&&a&&wu(s),s.flags|=1,Pt(r,s,c,h),s.child)}function km(r,s,a,c,h){if(r===null){var y=a.type;return typeof y=="function"&&!hc(y)&&y.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=y,bm(r,s,y,c,h)):(r=xa(a.type,null,c,s,s.mode,h),r.ref=s.ref,r.return=s,s.child=r)}if(y=r.child,(r.lanes&h)===0){var A=y.memoizedProps;if(a=a.compare,a=a!==null?a:ds,a(A,c)&&r.ref===s.ref)return $n(r,s,h)}return s.flags|=1,r=lr(y,c),r.ref=s.ref,r.return=s,s.child=r}function bm(r,s,a,c,h){if(r!==null){var y=r.memoizedProps;if(ds(y,c)&&r.ref===s.ref)if(Dt=!1,s.pendingProps=c=y,(r.lanes&h)!==0)(r.flags&131072)!==0&&(Dt=!0);else return s.lanes=r.lanes,$n(r,s,h)}return Wu(r,s,a,c,h)}function Em(r,s,a){var c=s.pendingProps,h=c.children,y=r!==null?r.memoizedState:null;if(c.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},$e(bi,zt),zt|=a;else{if((a&1073741824)===0)return r=y!==null?y.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,$e(bi,zt),zt|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=y!==null?y.baseLanes:a,$e(bi,zt),zt|=c}else y!==null?(c=y.baseLanes|a,s.memoizedState=null):c=a,$e(bi,zt),zt|=c;return Pt(r,s,h,a),s.child}function Cm(r,s){var a=s.ref;(r===null&&a!==null||r!==null&&r.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function Wu(r,s,a,c,h){var y=Ot(a)?Sr:_t.current;return y=pi(s,y),xi(s,h),a=Mu(r,s,a,c,y,h),c=Iu(),r!==null&&!Dt?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~h,$n(r,s,h)):(qe&&c&&wu(s),s.flags|=1,Pt(r,s,a,h),s.child)}function Tm(r,s,a,c,h){if(Ot(a)){var y=!0;Ko(s)}else y=!1;if(xi(s,h),s.stateNode===null)ua(r,s),mm(s,a,c),zu(s,a,c,h),c=!0;else if(r===null){var A=s.stateNode,M=s.memoizedProps;A.props=M;var V=A.context,Q=a.contextType;typeof Q=="object"&&Q!==null?Q=Qt(Q):(Q=Ot(a)?Sr:_t.current,Q=pi(s,Q));var re=a.getDerivedStateFromProps,se=typeof re=="function"||typeof A.getSnapshotBeforeUpdate=="function";se||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(M!==c||V!==Q)&&vm(s,A,c,Q),tr=!1;var ne=s.memoizedState;A.state=ne,ea(s,c,A,h),V=s.memoizedState,M!==c||ne!==V||Rt.current||tr?(typeof re=="function"&&(Uu(s,a,re,c),V=s.memoizedState),(M=tr||pm(s,a,M,c,ne,V,Q))?(se||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(s.flags|=4194308)):(typeof A.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=V),A.props=c,A.state=V,A.context=Q,c=M):(typeof A.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{A=s.stateNode,zp(r,s),M=s.memoizedProps,Q=s.type===s.elementType?M:un(s.type,M),A.props=Q,se=s.pendingProps,ne=A.context,V=a.contextType,typeof V=="object"&&V!==null?V=Qt(V):(V=Ot(a)?Sr:_t.current,V=pi(s,V));var fe=a.getDerivedStateFromProps;(re=typeof fe=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(M!==se||ne!==V)&&vm(s,A,c,V),tr=!1,ne=s.memoizedState,A.state=ne,ea(s,c,A,h);var ve=s.memoizedState;M!==se||ne!==ve||Rt.current||tr?(typeof fe=="function"&&(Uu(s,a,fe,c),ve=s.memoizedState),(Q=tr||pm(s,a,Q,c,ne,ve,V)||!1)?(re||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(c,ve,V),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(c,ve,V)),typeof A.componentDidUpdate=="function"&&(s.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof A.componentDidUpdate!="function"||M===r.memoizedProps&&ne===r.memoizedState||(s.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||M===r.memoizedProps&&ne===r.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=ve),A.props=c,A.state=ve,A.context=V,c=Q):(typeof A.componentDidUpdate!="function"||M===r.memoizedProps&&ne===r.memoizedState||(s.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||M===r.memoizedProps&&ne===r.memoizedState||(s.flags|=1024),c=!1)}return Hu(r,s,a,c,y,h)}function Hu(r,s,a,c,h,y){Cm(r,s);var A=(s.flags&128)!==0;if(!c&&!A)return h&&Rp(s,a,!1),$n(r,s,y);c=s.stateNode,X_.current=s;var M=A&&typeof a.getDerivedStateFromError!="function"?null:c.render();return s.flags|=1,r!==null&&A?(s.child=gi(s,r.child,null,y),s.child=gi(s,null,M,y)):Pt(r,s,M,y),s.memoizedState=c.state,h&&Rp(s,a,!0),s.child}function Pm(r){var s=r.stateNode;s.pendingContext?jp(r,s.pendingContext,s.pendingContext!==s.context):s.context&&jp(r,s.context,!1),ju(r,s.containerInfo)}function Am(r,s,a,c,h){return yi(),ku(h),s.flags|=256,Pt(r,s,a,c),s.child}var Gu={dehydrated:null,treeContext:null,retryLane:0};function Qu(r){return{baseLanes:r,cachePool:null,transitions:null}}function jm(r,s,a){var c=s.pendingProps,h=We.current,y=!1,A=(s.flags&128)!==0,M;if((M=A)||(M=r!==null&&r.memoizedState===null?!1:(h&2)!==0),M?(y=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(h|=1),$e(We,h&1),r===null)return Su(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((s.mode&1)===0?s.lanes=1:r.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(A=c.children,r=c.fallback,y?(c=s.mode,y=s.child,A={mode:"hidden",children:A},(c&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=A):y=_a(A,c,0,null),r=Rr(r,c,a,null),y.return=s,r.return=s,y.sibling=r,s.child=y,s.child.memoizedState=Qu(a),s.memoizedState=Gu,r):Ju(s,A));if(h=r.memoizedState,h!==null&&(M=h.dehydrated,M!==null))return Y_(r,s,A,c,M,h,a);if(y){y=c.fallback,A=s.mode,h=r.child,M=h.sibling;var V={mode:"hidden",children:c.children};return(A&1)===0&&s.child!==h?(c=s.child,c.childLanes=0,c.pendingProps=V,s.deletions=null):(c=lr(h,V),c.subtreeFlags=h.subtreeFlags&14680064),M!==null?y=lr(M,y):(y=Rr(y,A,a,null),y.flags|=2),y.return=s,c.return=s,c.sibling=y,s.child=c,c=y,y=s.child,A=r.child.memoizedState,A=A===null?Qu(a):{baseLanes:A.baseLanes|a,cachePool:null,transitions:A.transitions},y.memoizedState=A,y.childLanes=r.childLanes&~a,s.memoizedState=Gu,c}return y=r.child,r=y.sibling,c=lr(y,{mode:"visible",children:c.children}),(s.mode&1)===0&&(c.lanes=a),c.return=s,c.sibling=null,r!==null&&(a=s.deletions,a===null?(s.deletions=[r],s.flags|=16):a.push(r)),s.child=c,s.memoizedState=null,c}function Ju(r,s){return s=_a({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function la(r,s,a,c){return c!==null&&ku(c),gi(s,r.child,null,a),r=Ju(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function Y_(r,s,a,c,h,y,A){if(a)return s.flags&256?(s.flags&=-257,c=qu(Error(n(422))),la(r,s,A,c)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(y=c.fallback,h=s.mode,c=_a({mode:"visible",children:c.children},h,0,null),y=Rr(y,h,A,null),y.flags|=2,c.return=s,y.return=s,c.sibling=y,s.child=c,(s.mode&1)!==0&&gi(s,r.child,null,A),s.child.memoizedState=Qu(A),s.memoizedState=Gu,y);if((s.mode&1)===0)return la(r,s,A,null);if(h.data==="$!"){if(c=h.nextSibling&&h.nextSibling.dataset,c)var M=c.dgst;return c=M,y=Error(n(419)),c=qu(y,c,void 0),la(r,s,A,c)}if(M=(A&r.childLanes)!==0,Dt||M){if(c=pt,c!==null){switch(A&-A){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=(h&(c.suspendedLanes|A))!==0?0:h,h!==0&&h!==y.retryLane&&(y.retryLane=h,Mn(r,h),dn(c,r,h,-1))}return dc(),c=qu(Error(n(421))),la(r,s,A,c)}return h.data==="$?"?(s.flags|=128,s.child=r.child,s=fS.bind(null,r),h._reactRetry=s,null):(r=y.treeContext,Ut=Xn(h.nextSibling),Vt=s,qe=!0,ln=null,r!==null&&(Ht[Gt++]=Dn,Ht[Gt++]=Ln,Ht[Gt++]=kr,Dn=r.id,Ln=r.overflow,kr=s),s=Ju(s,c.children),s.flags|=4096,s)}function Nm(r,s,a){r.lanes|=s;var c=r.alternate;c!==null&&(c.lanes|=s),Tu(r.return,s,a)}function Xu(r,s,a,c,h){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:h}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=c,y.tail=a,y.tailMode=h)}function Rm(r,s,a){var c=s.pendingProps,h=c.revealOrder,y=c.tail;if(Pt(r,s,c.children,a),c=We.current,(c&2)!==0)c=c&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Nm(r,a,s);else if(r.tag===19)Nm(r,a,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}c&=1}if($e(We,c),(s.mode&1)===0)s.memoizedState=null;else switch(h){case"forwards":for(a=s.child,h=null;a!==null;)r=a.alternate,r!==null&&ta(r)===null&&(h=a),a=a.sibling;a=h,a===null?(h=s.child,s.child=null):(h=a.sibling,a.sibling=null),Xu(s,!1,h,a,y);break;case"backwards":for(a=null,h=s.child,s.child=null;h!==null;){if(r=h.alternate,r!==null&&ta(r)===null){s.child=h;break}r=h.sibling,h.sibling=a,a=h,h=r}Xu(s,!0,a,null,y);break;case"together":Xu(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function ua(r,s){(s.mode&1)===0&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function $n(r,s,a){if(r!==null&&(s.dependencies=r.dependencies),Pr|=s.lanes,(a&s.childLanes)===0)return null;if(r!==null&&s.child!==r.child)throw Error(n(153));if(s.child!==null){for(r=s.child,a=lr(r,r.pendingProps),s.child=a,a.return=s;r.sibling!==null;)r=r.sibling,a=a.sibling=lr(r,r.pendingProps),a.return=s;a.sibling=null}return s.child}function Z_(r,s,a){switch(s.tag){case 3:Pm(s),yi();break;case 5:Wp(s);break;case 1:Ot(s.type)&&Ko(s);break;case 4:ju(s,s.stateNode.containerInfo);break;case 10:var c=s.type._context,h=s.memoizedProps.value;$e(Xo,c._currentValue),c._currentValue=h;break;case 13:if(c=s.memoizedState,c!==null)return c.dehydrated!==null?($e(We,We.current&1),s.flags|=128,null):(a&s.child.childLanes)!==0?jm(r,s,a):($e(We,We.current&1),r=$n(r,s,a),r!==null?r.sibling:null);$e(We,We.current&1);break;case 19:if(c=(a&s.childLanes)!==0,(r.flags&128)!==0){if(c)return Rm(r,s,a);s.flags|=128}if(h=s.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),$e(We,We.current),c)break;return null;case 22:case 23:return s.lanes=0,Em(r,s,a)}return $n(r,s,a)}var Om,Yu,Dm,Lm;Om=function(r,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},Yu=function(){},Dm=function(r,s,a,c){var h=r.memoizedProps;if(h!==c){r=s.stateNode,Cr(_n.current);var y=null;switch(a){case"input":h=Ke(r,h),c=Ke(r,c),y=[];break;case"select":h=D({},h,{value:void 0}),c=D({},c,{value:void 0}),y=[];break;case"textarea":h=sn(r,h),c=sn(r,c),y=[];break;default:typeof h.onClick!="function"&&typeof c.onClick=="function"&&(r.onclick=Uo)}Rl(a,c);var A;a=null;for(Q in h)if(!c.hasOwnProperty(Q)&&h.hasOwnProperty(Q)&&h[Q]!=null)if(Q==="style"){var M=h[Q];for(A in M)M.hasOwnProperty(A)&&(a||(a={}),a[A]="")}else Q!=="dangerouslySetInnerHTML"&&Q!=="children"&&Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&Q!=="autoFocus"&&(o.hasOwnProperty(Q)?y||(y=[]):(y=y||[]).push(Q,null));for(Q in c){var V=c[Q];if(M=h!=null?h[Q]:void 0,c.hasOwnProperty(Q)&&V!==M&&(V!=null||M!=null))if(Q==="style")if(M){for(A in M)!M.hasOwnProperty(A)||V&&V.hasOwnProperty(A)||(a||(a={}),a[A]="");for(A in V)V.hasOwnProperty(A)&&M[A]!==V[A]&&(a||(a={}),a[A]=V[A])}else a||(y||(y=[]),y.push(Q,a)),a=V;else Q==="dangerouslySetInnerHTML"?(V=V?V.__html:void 0,M=M?M.__html:void 0,V!=null&&M!==V&&(y=y||[]).push(Q,V)):Q==="children"?typeof V!="string"&&typeof V!="number"||(y=y||[]).push(Q,""+V):Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&(o.hasOwnProperty(Q)?(V!=null&&Q==="onScroll"&&Be("scroll",r),y||M===V||(y=[])):(y=y||[]).push(Q,V))}a&&(y=y||[]).push("style",a);var Q=y;(s.updateQueue=Q)&&(s.flags|=4)}},Lm=function(r,s,a,c){a!==c&&(s.flags|=4)};function Ts(r,s){if(!qe)switch(r.tailMode){case"hidden":s=r.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function kt(r){var s=r.alternate!==null&&r.alternate.child===r.child,a=0,c=0;if(s)for(var h=r.child;h!==null;)a|=h.lanes|h.childLanes,c|=h.subtreeFlags&14680064,c|=h.flags&14680064,h.return=r,h=h.sibling;else for(h=r.child;h!==null;)a|=h.lanes|h.childLanes,c|=h.subtreeFlags,c|=h.flags,h.return=r,h=h.sibling;return r.subtreeFlags|=c,r.childLanes=a,s}function eS(r,s,a){var c=s.pendingProps;switch(xu(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kt(s),null;case 1:return Ot(s.type)&&qo(),kt(s),null;case 3:return c=s.stateNode,_i(),Fe(Rt),Fe(_t),Ou(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(r===null||r.child===null)&&(Qo(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,ln!==null&&(uc(ln),ln=null))),Yu(r,s),kt(s),null;case 5:Nu(s);var h=Cr(Ss.current);if(a=s.type,r!==null&&s.stateNode!=null)Dm(r,s,a,c,h),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!c){if(s.stateNode===null)throw Error(n(166));return kt(s),null}if(r=Cr(_n.current),Qo(s)){c=s.stateNode,a=s.type;var y=s.memoizedProps;switch(c[xn]=s,c[ys]=y,r=(s.mode&1)!==0,a){case"dialog":Be("cancel",c),Be("close",c);break;case"iframe":case"object":case"embed":Be("load",c);break;case"video":case"audio":for(h=0;h<ps.length;h++)Be(ps[h],c);break;case"source":Be("error",c);break;case"img":case"image":case"link":Be("error",c),Be("load",c);break;case"details":Be("toggle",c);break;case"input":dt(c,y),Be("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!y.multiple},Be("invalid",c);break;case"textarea":Nt(c,y),Be("invalid",c)}Rl(a,y),h=null;for(var A in y)if(y.hasOwnProperty(A)){var M=y[A];A==="children"?typeof M=="string"?c.textContent!==M&&(y.suppressHydrationWarning!==!0&&Vo(c.textContent,M,r),h=["children",M]):typeof M=="number"&&c.textContent!==""+M&&(y.suppressHydrationWarning!==!0&&Vo(c.textContent,M,r),h=["children",""+M]):o.hasOwnProperty(A)&&M!=null&&A==="onScroll"&&Be("scroll",c)}switch(a){case"input":be(c),we(c,y,!0);break;case"textarea":be(c),xh(c);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(c.onclick=Uo)}c=h,s.updateQueue=c,c!==null&&(s.flags|=4)}else{A=h.nodeType===9?h:h.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=_h(a)),r==="http://www.w3.org/1999/xhtml"?a==="script"?(r=A.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof c.is=="string"?r=A.createElement(a,{is:c.is}):(r=A.createElement(a),a==="select"&&(A=r,c.multiple?A.multiple=!0:c.size&&(A.size=c.size))):r=A.createElementNS(r,a),r[xn]=s,r[ys]=c,Om(r,s,!1,!1),s.stateNode=r;e:{switch(A=Ol(a,c),a){case"dialog":Be("cancel",r),Be("close",r),h=c;break;case"iframe":case"object":case"embed":Be("load",r),h=c;break;case"video":case"audio":for(h=0;h<ps.length;h++)Be(ps[h],r);h=c;break;case"source":Be("error",r),h=c;break;case"img":case"image":case"link":Be("error",r),Be("load",r),h=c;break;case"details":Be("toggle",r),h=c;break;case"input":dt(r,c),h=Ke(r,c),Be("invalid",r);break;case"option":h=c;break;case"select":r._wrapperState={wasMultiple:!!c.multiple},h=D({},c,{value:void 0}),Be("invalid",r);break;case"textarea":Nt(r,c),h=sn(r,c),Be("invalid",r);break;default:h=c}Rl(a,h),M=h;for(y in M)if(M.hasOwnProperty(y)){var V=M[y];y==="style"?bh(r,V):y==="dangerouslySetInnerHTML"?(V=V?V.__html:void 0,V!=null&&Sh(r,V)):y==="children"?typeof V=="string"?(a!=="textarea"||V!=="")&&Qi(r,V):typeof V=="number"&&Qi(r,""+V):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(o.hasOwnProperty(y)?V!=null&&y==="onScroll"&&Be("scroll",r):V!=null&&w(r,y,V,A))}switch(a){case"input":be(r),we(r,c,!1);break;case"textarea":be(r),xh(r);break;case"option":c.value!=null&&r.setAttribute("value",""+Y(c.value));break;case"select":r.multiple=!!c.multiple,y=c.value,y!=null?Ce(r,!!c.multiple,y,!1):c.defaultValue!=null&&Ce(r,!!c.multiple,c.defaultValue,!0);break;default:typeof h.onClick=="function"&&(r.onclick=Uo)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return kt(s),null;case 6:if(r&&s.stateNode!=null)Lm(r,s,r.memoizedProps,c);else{if(typeof c!="string"&&s.stateNode===null)throw Error(n(166));if(a=Cr(Ss.current),Cr(_n.current),Qo(s)){if(c=s.stateNode,a=s.memoizedProps,c[xn]=s,(y=c.nodeValue!==a)&&(r=Vt,r!==null))switch(r.tag){case 3:Vo(c.nodeValue,a,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Vo(c.nodeValue,a,(r.mode&1)!==0)}y&&(s.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[xn]=s,s.stateNode=c}return kt(s),null;case 13:if(Fe(We),c=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(qe&&Ut!==null&&(s.mode&1)!==0&&(s.flags&128)===0)$p(),yi(),s.flags|=98560,y=!1;else if(y=Qo(s),c!==null&&c.dehydrated!==null){if(r===null){if(!y)throw Error(n(318));if(y=s.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(n(317));y[xn]=s}else yi(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;kt(s),y=!1}else ln!==null&&(uc(ln),ln=null),y=!0;if(!y)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=a,s):(c=c!==null,c!==(r!==null&&r.memoizedState!==null)&&c&&(s.child.flags|=8192,(s.mode&1)!==0&&(r===null||(We.current&1)!==0?ut===0&&(ut=3):dc())),s.updateQueue!==null&&(s.flags|=4),kt(s),null);case 4:return _i(),Yu(r,s),r===null&&ms(s.stateNode.containerInfo),kt(s),null;case 10:return Cu(s.type._context),kt(s),null;case 17:return Ot(s.type)&&qo(),kt(s),null;case 19:if(Fe(We),y=s.memoizedState,y===null)return kt(s),null;if(c=(s.flags&128)!==0,A=y.rendering,A===null)if(c)Ts(y,!1);else{if(ut!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(A=ta(r),A!==null){for(s.flags|=128,Ts(y,!1),c=A.updateQueue,c!==null&&(s.updateQueue=c,s.flags|=4),s.subtreeFlags=0,c=a,a=s.child;a!==null;)y=a,r=c,y.flags&=14680066,A=y.alternate,A===null?(y.childLanes=0,y.lanes=r,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=A.childLanes,y.lanes=A.lanes,y.child=A.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=A.memoizedProps,y.memoizedState=A.memoizedState,y.updateQueue=A.updateQueue,y.type=A.type,r=A.dependencies,y.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a=a.sibling;return $e(We,We.current&1|2),s.child}r=r.sibling}y.tail!==null&&Xe()>Ei&&(s.flags|=128,c=!0,Ts(y,!1),s.lanes=4194304)}else{if(!c)if(r=ta(A),r!==null){if(s.flags|=128,c=!0,a=r.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),Ts(y,!0),y.tail===null&&y.tailMode==="hidden"&&!A.alternate&&!qe)return kt(s),null}else 2*Xe()-y.renderingStartTime>Ei&&a!==1073741824&&(s.flags|=128,c=!0,Ts(y,!1),s.lanes=4194304);y.isBackwards?(A.sibling=s.child,s.child=A):(a=y.last,a!==null?a.sibling=A:s.child=A,y.last=A)}return y.tail!==null?(s=y.tail,y.rendering=s,y.tail=s.sibling,y.renderingStartTime=Xe(),s.sibling=null,a=We.current,$e(We,c?a&1|2:a&1),s):(kt(s),null);case 22:case 23:return fc(),c=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==c&&(s.flags|=8192),c&&(s.mode&1)!==0?(zt&1073741824)!==0&&(kt(s),s.subtreeFlags&6&&(s.flags|=8192)):kt(s),null;case 24:return null;case 25:return null}throw Error(n(156,s.tag))}function tS(r,s){switch(xu(s),s.tag){case 1:return Ot(s.type)&&qo(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return _i(),Fe(Rt),Fe(_t),Ou(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 5:return Nu(s),null;case 13:if(Fe(We),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(n(340));yi()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return Fe(We),null;case 4:return _i(),null;case 10:return Cu(s.type._context),null;case 22:case 23:return fc(),null;case 24:return null;default:return null}}var ca=!1,bt=!1,nS=typeof WeakSet=="function"?WeakSet:Set,me=null;function ki(r,s){var a=r.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){Qe(r,s,c)}else a.current=null}function Zu(r,s,a){try{a()}catch(c){Qe(r,s,c)}}var Mm=!1;function rS(r,s){if(fu=jo,r=pp(),ru(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var h=c.anchorOffset,y=c.focusNode;c=c.focusOffset;try{a.nodeType,y.nodeType}catch{a=null;break e}var A=0,M=-1,V=-1,Q=0,re=0,se=r,ne=null;t:for(;;){for(var fe;se!==a||h!==0&&se.nodeType!==3||(M=A+h),se!==y||c!==0&&se.nodeType!==3||(V=A+c),se.nodeType===3&&(A+=se.nodeValue.length),(fe=se.firstChild)!==null;)ne=se,se=fe;for(;;){if(se===r)break t;if(ne===a&&++Q===h&&(M=A),ne===y&&++re===c&&(V=A),(fe=se.nextSibling)!==null)break;se=ne,ne=se.parentNode}se=fe}a=M===-1||V===-1?null:{start:M,end:V}}else a=null}a=a||{start:0,end:0}}else a=null;for(du={focusedElem:r,selectionRange:a},jo=!1,me=s;me!==null;)if(s=me,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,me=r;else for(;me!==null;){s=me;try{var ve=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(ve!==null){var ge=ve.memoizedProps,Ye=ve.memoizedState,W=s.stateNode,z=W.getSnapshotBeforeUpdate(s.elementType===s.type?ge:un(s.type,ge),Ye);W.__reactInternalSnapshotBeforeUpdate=z}break;case 3:var H=s.stateNode.containerInfo;H.nodeType===1?H.textContent="":H.nodeType===9&&H.documentElement&&H.removeChild(H.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(le){Qe(s,s.return,le)}if(r=s.sibling,r!==null){r.return=s.return,me=r;break}me=s.return}return ve=Mm,Mm=!1,ve}function Ps(r,s,a){var c=s.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var h=c=c.next;do{if((h.tag&r)===r){var y=h.destroy;h.destroy=void 0,y!==void 0&&Zu(s,a,y)}h=h.next}while(h!==c)}}function fa(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&r)===r){var c=a.create;a.destroy=c()}a=a.next}while(a!==s)}}function ec(r){var s=r.ref;if(s!==null){var a=r.stateNode;switch(r.tag){case 5:r=a;break;default:r=a}typeof s=="function"?s(r):s.current=r}}function Im(r){var s=r.alternate;s!==null&&(r.alternate=null,Im(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[xn],delete s[ys],delete s[vu],delete s[B_],delete s[F_])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function $m(r){return r.tag===5||r.tag===3||r.tag===4}function Bm(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||$m(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function tc(r,s,a){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(r,s):a.insertBefore(r,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(r,a)):(s=a,s.appendChild(r)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Uo));else if(c!==4&&(r=r.child,r!==null))for(tc(r,s,a),r=r.sibling;r!==null;)tc(r,s,a),r=r.sibling}function nc(r,s,a){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?a.insertBefore(r,s):a.appendChild(r);else if(c!==4&&(r=r.child,r!==null))for(nc(r,s,a),r=r.sibling;r!==null;)nc(r,s,a),r=r.sibling}var vt=null,cn=!1;function rr(r,s,a){for(a=a.child;a!==null;)Fm(r,s,a),a=a.sibling}function Fm(r,s,a){if(wn&&typeof wn.onCommitFiberUnmount=="function")try{wn.onCommitFiberUnmount(bo,a)}catch{}switch(a.tag){case 5:bt||ki(a,s);case 6:var c=vt,h=cn;vt=null,rr(r,s,a),vt=c,cn=h,vt!==null&&(cn?(r=vt,a=a.stateNode,r.nodeType===8?r.parentNode.removeChild(a):r.removeChild(a)):vt.removeChild(a.stateNode));break;case 18:vt!==null&&(cn?(r=vt,a=a.stateNode,r.nodeType===8?mu(r.parentNode,a):r.nodeType===1&&mu(r,a),os(r)):mu(vt,a.stateNode));break;case 4:c=vt,h=cn,vt=a.stateNode.containerInfo,cn=!0,rr(r,s,a),vt=c,cn=h;break;case 0:case 11:case 14:case 15:if(!bt&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){h=c=c.next;do{var y=h,A=y.destroy;y=y.tag,A!==void 0&&((y&2)!==0||(y&4)!==0)&&Zu(a,s,A),h=h.next}while(h!==c)}rr(r,s,a);break;case 1:if(!bt&&(ki(a,s),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(M){Qe(a,s,M)}rr(r,s,a);break;case 21:rr(r,s,a);break;case 22:a.mode&1?(bt=(c=bt)||a.memoizedState!==null,rr(r,s,a),bt=c):rr(r,s,a);break;default:rr(r,s,a)}}function Vm(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var a=r.stateNode;a===null&&(a=r.stateNode=new nS),s.forEach(function(c){var h=dS.bind(null,r,c);a.has(c)||(a.add(c),c.then(h,h))})}}function fn(r,s){var a=s.deletions;if(a!==null)for(var c=0;c<a.length;c++){var h=a[c];try{var y=r,A=s,M=A;e:for(;M!==null;){switch(M.tag){case 5:vt=M.stateNode,cn=!1;break e;case 3:vt=M.stateNode.containerInfo,cn=!0;break e;case 4:vt=M.stateNode.containerInfo,cn=!0;break e}M=M.return}if(vt===null)throw Error(n(160));Fm(y,A,h),vt=null,cn=!1;var V=h.alternate;V!==null&&(V.return=null),h.return=null}catch(Q){Qe(h,s,Q)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Um(s,r),s=s.sibling}function Um(r,s){var a=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(fn(s,r),kn(r),c&4){try{Ps(3,r,r.return),fa(3,r)}catch(ge){Qe(r,r.return,ge)}try{Ps(5,r,r.return)}catch(ge){Qe(r,r.return,ge)}}break;case 1:fn(s,r),kn(r),c&512&&a!==null&&ki(a,a.return);break;case 5:if(fn(s,r),kn(r),c&512&&a!==null&&ki(a,a.return),r.flags&32){var h=r.stateNode;try{Qi(h,"")}catch(ge){Qe(r,r.return,ge)}}if(c&4&&(h=r.stateNode,h!=null)){var y=r.memoizedProps,A=a!==null?a.memoizedProps:y,M=r.type,V=r.updateQueue;if(r.updateQueue=null,V!==null)try{M==="input"&&y.type==="radio"&&y.name!=null&&ye(h,y),Ol(M,A);var Q=Ol(M,y);for(A=0;A<V.length;A+=2){var re=V[A],se=V[A+1];re==="style"?bh(h,se):re==="dangerouslySetInnerHTML"?Sh(h,se):re==="children"?Qi(h,se):w(h,re,se,Q)}switch(M){case"input":he(h,y);break;case"textarea":wh(h,y);break;case"select":var ne=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!y.multiple;var fe=y.value;fe!=null?Ce(h,!!y.multiple,fe,!1):ne!==!!y.multiple&&(y.defaultValue!=null?Ce(h,!!y.multiple,y.defaultValue,!0):Ce(h,!!y.multiple,y.multiple?[]:"",!1))}h[ys]=y}catch(ge){Qe(r,r.return,ge)}}break;case 6:if(fn(s,r),kn(r),c&4){if(r.stateNode===null)throw Error(n(162));h=r.stateNode,y=r.memoizedProps;try{h.nodeValue=y}catch(ge){Qe(r,r.return,ge)}}break;case 3:if(fn(s,r),kn(r),c&4&&a!==null&&a.memoizedState.isDehydrated)try{os(s.containerInfo)}catch(ge){Qe(r,r.return,ge)}break;case 4:fn(s,r),kn(r);break;case 13:fn(s,r),kn(r),h=r.child,h.flags&8192&&(y=h.memoizedState!==null,h.stateNode.isHidden=y,!y||h.alternate!==null&&h.alternate.memoizedState!==null||(sc=Xe())),c&4&&Vm(r);break;case 22:if(re=a!==null&&a.memoizedState!==null,r.mode&1?(bt=(Q=bt)||re,fn(s,r),bt=Q):fn(s,r),kn(r),c&8192){if(Q=r.memoizedState!==null,(r.stateNode.isHidden=Q)&&!re&&(r.mode&1)!==0)for(me=r,re=r.child;re!==null;){for(se=me=re;me!==null;){switch(ne=me,fe=ne.child,ne.tag){case 0:case 11:case 14:case 15:Ps(4,ne,ne.return);break;case 1:ki(ne,ne.return);var ve=ne.stateNode;if(typeof ve.componentWillUnmount=="function"){c=ne,a=ne.return;try{s=c,ve.props=s.memoizedProps,ve.state=s.memoizedState,ve.componentWillUnmount()}catch(ge){Qe(c,a,ge)}}break;case 5:ki(ne,ne.return);break;case 22:if(ne.memoizedState!==null){Km(se);continue}}fe!==null?(fe.return=ne,me=fe):Km(se)}re=re.sibling}e:for(re=null,se=r;;){if(se.tag===5){if(re===null){re=se;try{h=se.stateNode,Q?(y=h.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(M=se.stateNode,V=se.memoizedProps.style,A=V!=null&&V.hasOwnProperty("display")?V.display:null,M.style.display=kh("display",A))}catch(ge){Qe(r,r.return,ge)}}}else if(se.tag===6){if(re===null)try{se.stateNode.nodeValue=Q?"":se.memoizedProps}catch(ge){Qe(r,r.return,ge)}}else if((se.tag!==22&&se.tag!==23||se.memoizedState===null||se===r)&&se.child!==null){se.child.return=se,se=se.child;continue}if(se===r)break e;for(;se.sibling===null;){if(se.return===null||se.return===r)break e;re===se&&(re=null),se=se.return}re===se&&(re=null),se.sibling.return=se.return,se=se.sibling}}break;case 19:fn(s,r),kn(r),c&4&&Vm(r);break;case 21:break;default:fn(s,r),kn(r)}}function kn(r){var s=r.flags;if(s&2){try{e:{for(var a=r.return;a!==null;){if($m(a)){var c=a;break e}a=a.return}throw Error(n(160))}switch(c.tag){case 5:var h=c.stateNode;c.flags&32&&(Qi(h,""),c.flags&=-33);var y=Bm(r);nc(r,y,h);break;case 3:case 4:var A=c.stateNode.containerInfo,M=Bm(r);tc(r,M,A);break;default:throw Error(n(161))}}catch(V){Qe(r,r.return,V)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function iS(r,s,a){me=r,zm(r)}function zm(r,s,a){for(var c=(r.mode&1)!==0;me!==null;){var h=me,y=h.child;if(h.tag===22&&c){var A=h.memoizedState!==null||ca;if(!A){var M=h.alternate,V=M!==null&&M.memoizedState!==null||bt;M=ca;var Q=bt;if(ca=A,(bt=V)&&!Q)for(me=h;me!==null;)A=me,V=A.child,A.tag===22&&A.memoizedState!==null?Wm(h):V!==null?(V.return=A,me=V):Wm(h);for(;y!==null;)me=y,zm(y),y=y.sibling;me=h,ca=M,bt=Q}qm(r)}else(h.subtreeFlags&8772)!==0&&y!==null?(y.return=h,me=y):qm(r)}}function qm(r){for(;me!==null;){var s=me;if((s.flags&8772)!==0){var a=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:bt||fa(5,s);break;case 1:var c=s.stateNode;if(s.flags&4&&!bt)if(a===null)c.componentDidMount();else{var h=s.elementType===s.type?a.memoizedProps:un(s.type,a.memoizedProps);c.componentDidUpdate(h,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var y=s.updateQueue;y!==null&&Kp(s,y,c);break;case 3:var A=s.updateQueue;if(A!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}Kp(s,A,a)}break;case 5:var M=s.stateNode;if(a===null&&s.flags&4){a=M;var V=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":V.autoFocus&&a.focus();break;case"img":V.src&&(a.src=V.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var Q=s.alternate;if(Q!==null){var re=Q.memoizedState;if(re!==null){var se=re.dehydrated;se!==null&&os(se)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}bt||s.flags&512&&ec(s)}catch(ne){Qe(s,s.return,ne)}}if(s===r){me=null;break}if(a=s.sibling,a!==null){a.return=s.return,me=a;break}me=s.return}}function Km(r){for(;me!==null;){var s=me;if(s===r){me=null;break}var a=s.sibling;if(a!==null){a.return=s.return,me=a;break}me=s.return}}function Wm(r){for(;me!==null;){var s=me;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{fa(4,s)}catch(V){Qe(s,a,V)}break;case 1:var c=s.stateNode;if(typeof c.componentDidMount=="function"){var h=s.return;try{c.componentDidMount()}catch(V){Qe(s,h,V)}}var y=s.return;try{ec(s)}catch(V){Qe(s,y,V)}break;case 5:var A=s.return;try{ec(s)}catch(V){Qe(s,A,V)}}}catch(V){Qe(s,s.return,V)}if(s===r){me=null;break}var M=s.sibling;if(M!==null){M.return=s.return,me=M;break}me=s.return}}var sS=Math.ceil,da=g.ReactCurrentDispatcher,rc=g.ReactCurrentOwner,Xt=g.ReactCurrentBatchConfig,Re=0,pt=null,it=null,yt=0,zt=0,bi=Yn(0),ut=0,As=null,Pr=0,ha=0,ic=0,js=null,Lt=null,sc=0,Ei=1/0,Bn=null,pa=!1,oc=null,ir=null,ma=!1,sr=null,va=0,Ns=0,ac=null,ya=-1,ga=0;function At(){return(Re&6)!==0?Xe():ya!==-1?ya:ya=Xe()}function or(r){return(r.mode&1)===0?1:(Re&2)!==0&&yt!==0?yt&-yt:U_.transition!==null?(ga===0&&(ga=Bh()),ga):(r=Me,r!==0||(r=window.event,r=r===void 0?16:Gh(r.type)),r)}function dn(r,s,a,c){if(50<Ns)throw Ns=0,ac=null,Error(n(185));ts(r,a,c),((Re&2)===0||r!==pt)&&(r===pt&&((Re&2)===0&&(ha|=a),ut===4&&ar(r,yt)),Mt(r,c),a===1&&Re===0&&(s.mode&1)===0&&(Ei=Xe()+500,Wo&&er()))}function Mt(r,s){var a=r.callbackNode;U1(r,s);var c=To(r,r===pt?yt:0);if(c===0)a!==null&&Mh(a),r.callbackNode=null,r.callbackPriority=0;else if(s=c&-c,r.callbackPriority!==s){if(a!=null&&Mh(a),s===1)r.tag===0?V_(Gm.bind(null,r)):Op(Gm.bind(null,r)),I_(function(){(Re&6)===0&&er()}),a=null;else{switch(Fh(c)){case 1:a=Fl;break;case 4:a=Ih;break;case 16:a=ko;break;case 536870912:a=$h;break;default:a=ko}a=nv(a,Hm.bind(null,r))}r.callbackPriority=s,r.callbackNode=a}}function Hm(r,s){if(ya=-1,ga=0,(Re&6)!==0)throw Error(n(327));var a=r.callbackNode;if(Ci()&&r.callbackNode!==a)return null;var c=To(r,r===pt?yt:0);if(c===0)return null;if((c&30)!==0||(c&r.expiredLanes)!==0||s)s=wa(r,c);else{s=c;var h=Re;Re|=2;var y=Jm();(pt!==r||yt!==s)&&(Bn=null,Ei=Xe()+500,jr(r,s));do try{lS();break}catch(M){Qm(r,M)}while(!0);Eu(),da.current=y,Re=h,it!==null?s=0:(pt=null,yt=0,s=ut)}if(s!==0){if(s===2&&(h=Vl(r),h!==0&&(c=h,s=lc(r,h))),s===1)throw a=As,jr(r,0),ar(r,c),Mt(r,Xe()),a;if(s===6)ar(r,c);else{if(h=r.current.alternate,(c&30)===0&&!oS(h)&&(s=wa(r,c),s===2&&(y=Vl(r),y!==0&&(c=y,s=lc(r,y))),s===1))throw a=As,jr(r,0),ar(r,c),Mt(r,Xe()),a;switch(r.finishedWork=h,r.finishedLanes=c,s){case 0:case 1:throw Error(n(345));case 2:Nr(r,Lt,Bn);break;case 3:if(ar(r,c),(c&130023424)===c&&(s=sc+500-Xe(),10<s)){if(To(r,0)!==0)break;if(h=r.suspendedLanes,(h&c)!==c){At(),r.pingedLanes|=r.suspendedLanes&h;break}r.timeoutHandle=pu(Nr.bind(null,r,Lt,Bn),s);break}Nr(r,Lt,Bn);break;case 4:if(ar(r,c),(c&4194240)===c)break;for(s=r.eventTimes,h=-1;0<c;){var A=31-on(c);y=1<<A,A=s[A],A>h&&(h=A),c&=~y}if(c=h,c=Xe()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*sS(c/1960))-c,10<c){r.timeoutHandle=pu(Nr.bind(null,r,Lt,Bn),c);break}Nr(r,Lt,Bn);break;case 5:Nr(r,Lt,Bn);break;default:throw Error(n(329))}}}return Mt(r,Xe()),r.callbackNode===a?Hm.bind(null,r):null}function lc(r,s){var a=js;return r.current.memoizedState.isDehydrated&&(jr(r,s).flags|=256),r=wa(r,s),r!==2&&(s=Lt,Lt=a,s!==null&&uc(s)),r}function uc(r){Lt===null?Lt=r:Lt.push.apply(Lt,r)}function oS(r){for(var s=r;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var h=a[c],y=h.getSnapshot;h=h.value;try{if(!an(y(),h))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ar(r,s){for(s&=~ic,s&=~ha,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var a=31-on(s),c=1<<a;r[a]=-1,s&=~c}}function Gm(r){if((Re&6)!==0)throw Error(n(327));Ci();var s=To(r,0);if((s&1)===0)return Mt(r,Xe()),null;var a=wa(r,s);if(r.tag!==0&&a===2){var c=Vl(r);c!==0&&(s=c,a=lc(r,c))}if(a===1)throw a=As,jr(r,0),ar(r,s),Mt(r,Xe()),a;if(a===6)throw Error(n(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,Nr(r,Lt,Bn),Mt(r,Xe()),null}function cc(r,s){var a=Re;Re|=1;try{return r(s)}finally{Re=a,Re===0&&(Ei=Xe()+500,Wo&&er())}}function Ar(r){sr!==null&&sr.tag===0&&(Re&6)===0&&Ci();var s=Re;Re|=1;var a=Xt.transition,c=Me;try{if(Xt.transition=null,Me=1,r)return r()}finally{Me=c,Xt.transition=a,Re=s,(Re&6)===0&&er()}}function fc(){zt=bi.current,Fe(bi)}function jr(r,s){r.finishedWork=null,r.finishedLanes=0;var a=r.timeoutHandle;if(a!==-1&&(r.timeoutHandle=-1,M_(a)),it!==null)for(a=it.return;a!==null;){var c=a;switch(xu(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&qo();break;case 3:_i(),Fe(Rt),Fe(_t),Ou();break;case 5:Nu(c);break;case 4:_i();break;case 13:Fe(We);break;case 19:Fe(We);break;case 10:Cu(c.type._context);break;case 22:case 23:fc()}a=a.return}if(pt=r,it=r=lr(r.current,null),yt=zt=s,ut=0,As=null,ic=ha=Pr=0,Lt=js=null,Er!==null){for(s=0;s<Er.length;s++)if(a=Er[s],c=a.interleaved,c!==null){a.interleaved=null;var h=c.next,y=a.pending;if(y!==null){var A=y.next;y.next=h,c.next=A}a.pending=c}Er=null}return r}function Qm(r,s){do{var a=it;try{if(Eu(),na.current=oa,ra){for(var c=He.memoizedState;c!==null;){var h=c.queue;h!==null&&(h.pending=null),c=c.next}ra=!1}if(Tr=0,ht=lt=He=null,ks=!1,bs=0,rc.current=null,a===null||a.return===null){ut=1,As=s,it=null;break}e:{var y=r,A=a.return,M=a,V=s;if(s=yt,M.flags|=32768,V!==null&&typeof V=="object"&&typeof V.then=="function"){var Q=V,re=M,se=re.tag;if((re.mode&1)===0&&(se===0||se===11||se===15)){var ne=re.alternate;ne?(re.updateQueue=ne.updateQueue,re.memoizedState=ne.memoizedState,re.lanes=ne.lanes):(re.updateQueue=null,re.memoizedState=null)}var fe=xm(A);if(fe!==null){fe.flags&=-257,_m(fe,A,M,y,s),fe.mode&1&&wm(y,Q,s),s=fe,V=Q;var ve=s.updateQueue;if(ve===null){var ge=new Set;ge.add(V),s.updateQueue=ge}else ve.add(V);break e}else{if((s&1)===0){wm(y,Q,s),dc();break e}V=Error(n(426))}}else if(qe&&M.mode&1){var Ye=xm(A);if(Ye!==null){(Ye.flags&65536)===0&&(Ye.flags|=256),_m(Ye,A,M,y,s),ku(Si(V,M));break e}}y=V=Si(V,M),ut!==4&&(ut=2),js===null?js=[y]:js.push(y),y=A;do{switch(y.tag){case 3:y.flags|=65536,s&=-s,y.lanes|=s;var W=ym(y,V,s);qp(y,W);break e;case 1:M=V;var z=y.type,H=y.stateNode;if((y.flags&128)===0&&(typeof z.getDerivedStateFromError=="function"||H!==null&&typeof H.componentDidCatch=="function"&&(ir===null||!ir.has(H)))){y.flags|=65536,s&=-s,y.lanes|=s;var le=gm(y,M,s);qp(y,le);break e}}y=y.return}while(y!==null)}Ym(a)}catch(xe){s=xe,it===a&&a!==null&&(it=a=a.return);continue}break}while(!0)}function Jm(){var r=da.current;return da.current=oa,r===null?oa:r}function dc(){(ut===0||ut===3||ut===2)&&(ut=4),pt===null||(Pr&268435455)===0&&(ha&268435455)===0||ar(pt,yt)}function wa(r,s){var a=Re;Re|=2;var c=Jm();(pt!==r||yt!==s)&&(Bn=null,jr(r,s));do try{aS();break}catch(h){Qm(r,h)}while(!0);if(Eu(),Re=a,da.current=c,it!==null)throw Error(n(261));return pt=null,yt=0,ut}function aS(){for(;it!==null;)Xm(it)}function lS(){for(;it!==null&&!O1();)Xm(it)}function Xm(r){var s=tv(r.alternate,r,zt);r.memoizedProps=r.pendingProps,s===null?Ym(r):it=s,rc.current=null}function Ym(r){var s=r;do{var a=s.alternate;if(r=s.return,(s.flags&32768)===0){if(a=eS(a,s,zt),a!==null){it=a;return}}else{if(a=tS(a,s),a!==null){a.flags&=32767,it=a;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{ut=6,it=null;return}}if(s=s.sibling,s!==null){it=s;return}it=s=r}while(s!==null);ut===0&&(ut=5)}function Nr(r,s,a){var c=Me,h=Xt.transition;try{Xt.transition=null,Me=1,uS(r,s,a,c)}finally{Xt.transition=h,Me=c}return null}function uS(r,s,a,c){do Ci();while(sr!==null);if((Re&6)!==0)throw Error(n(327));a=r.finishedWork;var h=r.finishedLanes;if(a===null)return null;if(r.finishedWork=null,r.finishedLanes=0,a===r.current)throw Error(n(177));r.callbackNode=null,r.callbackPriority=0;var y=a.lanes|a.childLanes;if(z1(r,y),r===pt&&(it=pt=null,yt=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||ma||(ma=!0,nv(ko,function(){return Ci(),null})),y=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||y){y=Xt.transition,Xt.transition=null;var A=Me;Me=1;var M=Re;Re|=4,rc.current=null,rS(r,a),Um(a,r),A_(du),jo=!!fu,du=fu=null,r.current=a,iS(a),D1(),Re=M,Me=A,Xt.transition=y}else r.current=a;if(ma&&(ma=!1,sr=r,va=h),y=r.pendingLanes,y===0&&(ir=null),I1(a.stateNode),Mt(r,Xe()),s!==null)for(c=r.onRecoverableError,a=0;a<s.length;a++)h=s[a],c(h.value,{componentStack:h.stack,digest:h.digest});if(pa)throw pa=!1,r=oc,oc=null,r;return(va&1)!==0&&r.tag!==0&&Ci(),y=r.pendingLanes,(y&1)!==0?r===ac?Ns++:(Ns=0,ac=r):Ns=0,er(),null}function Ci(){if(sr!==null){var r=Fh(va),s=Xt.transition,a=Me;try{if(Xt.transition=null,Me=16>r?16:r,sr===null)var c=!1;else{if(r=sr,sr=null,va=0,(Re&6)!==0)throw Error(n(331));var h=Re;for(Re|=4,me=r.current;me!==null;){var y=me,A=y.child;if((me.flags&16)!==0){var M=y.deletions;if(M!==null){for(var V=0;V<M.length;V++){var Q=M[V];for(me=Q;me!==null;){var re=me;switch(re.tag){case 0:case 11:case 15:Ps(8,re,y)}var se=re.child;if(se!==null)se.return=re,me=se;else for(;me!==null;){re=me;var ne=re.sibling,fe=re.return;if(Im(re),re===Q){me=null;break}if(ne!==null){ne.return=fe,me=ne;break}me=fe}}}var ve=y.alternate;if(ve!==null){var ge=ve.child;if(ge!==null){ve.child=null;do{var Ye=ge.sibling;ge.sibling=null,ge=Ye}while(ge!==null)}}me=y}}if((y.subtreeFlags&2064)!==0&&A!==null)A.return=y,me=A;else e:for(;me!==null;){if(y=me,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:Ps(9,y,y.return)}var W=y.sibling;if(W!==null){W.return=y.return,me=W;break e}me=y.return}}var z=r.current;for(me=z;me!==null;){A=me;var H=A.child;if((A.subtreeFlags&2064)!==0&&H!==null)H.return=A,me=H;else e:for(A=z;me!==null;){if(M=me,(M.flags&2048)!==0)try{switch(M.tag){case 0:case 11:case 15:fa(9,M)}}catch(xe){Qe(M,M.return,xe)}if(M===A){me=null;break e}var le=M.sibling;if(le!==null){le.return=M.return,me=le;break e}me=M.return}}if(Re=h,er(),wn&&typeof wn.onPostCommitFiberRoot=="function")try{wn.onPostCommitFiberRoot(bo,r)}catch{}c=!0}return c}finally{Me=a,Xt.transition=s}}return!1}function Zm(r,s,a){s=Si(a,s),s=ym(r,s,1),r=nr(r,s,1),s=At(),r!==null&&(ts(r,1,s),Mt(r,s))}function Qe(r,s,a){if(r.tag===3)Zm(r,r,a);else for(;s!==null;){if(s.tag===3){Zm(s,r,a);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(ir===null||!ir.has(c))){r=Si(a,r),r=gm(s,r,1),s=nr(s,r,1),r=At(),s!==null&&(ts(s,1,r),Mt(s,r));break}}s=s.return}}function cS(r,s,a){var c=r.pingCache;c!==null&&c.delete(s),s=At(),r.pingedLanes|=r.suspendedLanes&a,pt===r&&(yt&a)===a&&(ut===4||ut===3&&(yt&130023424)===yt&&500>Xe()-sc?jr(r,0):ic|=a),Mt(r,s)}function ev(r,s){s===0&&((r.mode&1)===0?s=1:(s=Co,Co<<=1,(Co&130023424)===0&&(Co=4194304)));var a=At();r=Mn(r,s),r!==null&&(ts(r,s,a),Mt(r,a))}function fS(r){var s=r.memoizedState,a=0;s!==null&&(a=s.retryLane),ev(r,a)}function dS(r,s){var a=0;switch(r.tag){case 13:var c=r.stateNode,h=r.memoizedState;h!==null&&(a=h.retryLane);break;case 19:c=r.stateNode;break;default:throw Error(n(314))}c!==null&&c.delete(s),ev(r,a)}var tv;tv=function(r,s,a){if(r!==null)if(r.memoizedProps!==s.pendingProps||Rt.current)Dt=!0;else{if((r.lanes&a)===0&&(s.flags&128)===0)return Dt=!1,Z_(r,s,a);Dt=(r.flags&131072)!==0}else Dt=!1,qe&&(s.flags&1048576)!==0&&Dp(s,Go,s.index);switch(s.lanes=0,s.tag){case 2:var c=s.type;ua(r,s),r=s.pendingProps;var h=pi(s,_t.current);xi(s,a),h=Mu(null,s,c,r,h,a);var y=Iu();return s.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Ot(c)?(y=!0,Ko(s)):y=!1,s.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,Au(s),h.updater=aa,s.stateNode=h,h._reactInternals=s,zu(s,c,r,a),s=Hu(null,s,c,!0,y,a)):(s.tag=0,qe&&y&&wu(s),Pt(null,s,h,a),s=s.child),s;case 16:c=s.elementType;e:{switch(ua(r,s),r=s.pendingProps,h=c._init,c=h(c._payload),s.type=c,h=s.tag=pS(c),r=un(c,r),h){case 0:s=Wu(null,s,c,r,a);break e;case 1:s=Tm(null,s,c,r,a);break e;case 11:s=Sm(null,s,c,r,a);break e;case 14:s=km(null,s,c,un(c.type,r),a);break e}throw Error(n(306,c,""))}return s;case 0:return c=s.type,h=s.pendingProps,h=s.elementType===c?h:un(c,h),Wu(r,s,c,h,a);case 1:return c=s.type,h=s.pendingProps,h=s.elementType===c?h:un(c,h),Tm(r,s,c,h,a);case 3:e:{if(Pm(s),r===null)throw Error(n(387));c=s.pendingProps,y=s.memoizedState,h=y.element,zp(r,s),ea(s,c,null,a);var A=s.memoizedState;if(c=A.element,y.isDehydrated)if(y={element:c,isDehydrated:!1,cache:A.cache,pendingSuspenseBoundaries:A.pendingSuspenseBoundaries,transitions:A.transitions},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){h=Si(Error(n(423)),s),s=Am(r,s,c,a,h);break e}else if(c!==h){h=Si(Error(n(424)),s),s=Am(r,s,c,a,h);break e}else for(Ut=Xn(s.stateNode.containerInfo.firstChild),Vt=s,qe=!0,ln=null,a=Vp(s,null,c,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(yi(),c===h){s=$n(r,s,a);break e}Pt(r,s,c,a)}s=s.child}return s;case 5:return Wp(s),r===null&&Su(s),c=s.type,h=s.pendingProps,y=r!==null?r.memoizedProps:null,A=h.children,hu(c,h)?A=null:y!==null&&hu(c,y)&&(s.flags|=32),Cm(r,s),Pt(r,s,A,a),s.child;case 6:return r===null&&Su(s),null;case 13:return jm(r,s,a);case 4:return ju(s,s.stateNode.containerInfo),c=s.pendingProps,r===null?s.child=gi(s,null,c,a):Pt(r,s,c,a),s.child;case 11:return c=s.type,h=s.pendingProps,h=s.elementType===c?h:un(c,h),Sm(r,s,c,h,a);case 7:return Pt(r,s,s.pendingProps,a),s.child;case 8:return Pt(r,s,s.pendingProps.children,a),s.child;case 12:return Pt(r,s,s.pendingProps.children,a),s.child;case 10:e:{if(c=s.type._context,h=s.pendingProps,y=s.memoizedProps,A=h.value,$e(Xo,c._currentValue),c._currentValue=A,y!==null)if(an(y.value,A)){if(y.children===h.children&&!Rt.current){s=$n(r,s,a);break e}}else for(y=s.child,y!==null&&(y.return=s);y!==null;){var M=y.dependencies;if(M!==null){A=y.child;for(var V=M.firstContext;V!==null;){if(V.context===c){if(y.tag===1){V=In(-1,a&-a),V.tag=2;var Q=y.updateQueue;if(Q!==null){Q=Q.shared;var re=Q.pending;re===null?V.next=V:(V.next=re.next,re.next=V),Q.pending=V}}y.lanes|=a,V=y.alternate,V!==null&&(V.lanes|=a),Tu(y.return,a,s),M.lanes|=a;break}V=V.next}}else if(y.tag===10)A=y.type===s.type?null:y.child;else if(y.tag===18){if(A=y.return,A===null)throw Error(n(341));A.lanes|=a,M=A.alternate,M!==null&&(M.lanes|=a),Tu(A,a,s),A=y.sibling}else A=y.child;if(A!==null)A.return=y;else for(A=y;A!==null;){if(A===s){A=null;break}if(y=A.sibling,y!==null){y.return=A.return,A=y;break}A=A.return}y=A}Pt(r,s,h.children,a),s=s.child}return s;case 9:return h=s.type,c=s.pendingProps.children,xi(s,a),h=Qt(h),c=c(h),s.flags|=1,Pt(r,s,c,a),s.child;case 14:return c=s.type,h=un(c,s.pendingProps),h=un(c.type,h),km(r,s,c,h,a);case 15:return bm(r,s,s.type,s.pendingProps,a);case 17:return c=s.type,h=s.pendingProps,h=s.elementType===c?h:un(c,h),ua(r,s),s.tag=1,Ot(c)?(r=!0,Ko(s)):r=!1,xi(s,a),mm(s,c,h),zu(s,c,h,a),Hu(null,s,c,!0,r,a);case 19:return Rm(r,s,a);case 22:return Em(r,s,a)}throw Error(n(156,s.tag))};function nv(r,s){return Lh(r,s)}function hS(r,s,a,c){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yt(r,s,a,c){return new hS(r,s,a,c)}function hc(r){return r=r.prototype,!(!r||!r.isReactComponent)}function pS(r){if(typeof r=="function")return hc(r)?1:0;if(r!=null){if(r=r.$$typeof,r===ce)return 11;if(r===pe)return 14}return 2}function lr(r,s){var a=r.alternate;return a===null?(a=Yt(r.tag,s,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=s,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&14680064,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,s=r.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a}function xa(r,s,a,c,h,y){var A=2;if(c=r,typeof r=="function")hc(r)&&(A=1);else if(typeof r=="string")A=5;else e:switch(r){case $:return Rr(a.children,h,y,s);case I:A=8,h|=8;break;case U:return r=Yt(12,a,s,h|2),r.elementType=U,r.lanes=y,r;case oe:return r=Yt(13,a,s,h),r.elementType=oe,r.lanes=y,r;case ae:return r=Yt(19,a,s,h),r.elementType=ae,r.lanes=y,r;case ue:return _a(a,h,y,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case G:A=10;break e;case te:A=9;break e;case ce:A=11;break e;case pe:A=14;break e;case de:A=16,c=null;break e}throw Error(n(130,r==null?r:typeof r,""))}return s=Yt(A,a,s,h),s.elementType=r,s.type=c,s.lanes=y,s}function Rr(r,s,a,c){return r=Yt(7,r,c,s),r.lanes=a,r}function _a(r,s,a,c){return r=Yt(22,r,c,s),r.elementType=ue,r.lanes=a,r.stateNode={isHidden:!1},r}function pc(r,s,a){return r=Yt(6,r,null,s),r.lanes=a,r}function mc(r,s,a){return s=Yt(4,r.children!==null?r.children:[],r.key,s),s.lanes=a,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function mS(r,s,a,c,h){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ul(0),this.expirationTimes=Ul(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ul(0),this.identifierPrefix=c,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function vc(r,s,a,c,h,y,A,M,V){return r=new mS(r,s,a,M,V),s===1?(s=1,y===!0&&(s|=8)):s=0,y=Yt(3,null,null,s),r.current=y,y.stateNode=r,y.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Au(y),r}function vS(r,s,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:E,key:c==null?null:""+c,children:r,containerInfo:s,implementation:a}}function rv(r){if(!r)return Zn;r=r._reactInternals;e:{if(xr(r)!==r||r.tag!==1)throw Error(n(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Ot(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(n(171))}if(r.tag===1){var a=r.type;if(Ot(a))return Np(r,a,s)}return s}function iv(r,s,a,c,h,y,A,M,V){return r=vc(a,c,!0,r,h,y,A,M,V),r.context=rv(null),a=r.current,c=At(),h=or(a),y=In(c,h),y.callback=s??null,nr(a,y,h),r.current.lanes=h,ts(r,h,c),Mt(r,c),r}function Sa(r,s,a,c){var h=s.current,y=At(),A=or(h);return a=rv(a),s.context===null?s.context=a:s.pendingContext=a,s=In(y,A),s.payload={element:r},c=c===void 0?null:c,c!==null&&(s.callback=c),r=nr(h,s,A),r!==null&&(dn(r,h,A,y),Zo(r,h,A)),A}function ka(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function sv(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<s?a:s}}function yc(r,s){sv(r,s),(r=r.alternate)&&sv(r,s)}function yS(){return null}var ov=typeof reportError=="function"?reportError:function(r){console.error(r)};function gc(r){this._internalRoot=r}ba.prototype.render=gc.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(n(409));Sa(r,s,null,null)},ba.prototype.unmount=gc.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;Ar(function(){Sa(null,r,null,null)}),s[Rn]=null}};function ba(r){this._internalRoot=r}ba.prototype.unstable_scheduleHydration=function(r){if(r){var s=zh();r={blockedOn:null,target:r,priority:s};for(var a=0;a<Gn.length&&s!==0&&s<Gn[a].priority;a++);Gn.splice(a,0,r),a===0&&Wh(r)}};function wc(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Ea(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function av(){}function gS(r,s,a,c,h){if(h){if(typeof c=="function"){var y=c;c=function(){var Q=ka(A);y.call(Q)}}var A=iv(s,c,r,0,null,!1,!1,"",av);return r._reactRootContainer=A,r[Rn]=A.current,ms(r.nodeType===8?r.parentNode:r),Ar(),A}for(;h=r.lastChild;)r.removeChild(h);if(typeof c=="function"){var M=c;c=function(){var Q=ka(V);M.call(Q)}}var V=vc(r,0,!1,null,null,!1,!1,"",av);return r._reactRootContainer=V,r[Rn]=V.current,ms(r.nodeType===8?r.parentNode:r),Ar(function(){Sa(s,V,a,c)}),V}function Ca(r,s,a,c,h){var y=a._reactRootContainer;if(y){var A=y;if(typeof h=="function"){var M=h;h=function(){var V=ka(A);M.call(V)}}Sa(s,A,r,h)}else A=gS(a,s,r,h,c);return ka(A)}Vh=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var a=es(s.pendingLanes);a!==0&&(zl(s,a|1),Mt(s,Xe()),(Re&6)===0&&(Ei=Xe()+500,er()))}break;case 13:Ar(function(){var c=Mn(r,1);if(c!==null){var h=At();dn(c,r,1,h)}}),yc(r,1)}},ql=function(r){if(r.tag===13){var s=Mn(r,134217728);if(s!==null){var a=At();dn(s,r,134217728,a)}yc(r,134217728)}},Uh=function(r){if(r.tag===13){var s=or(r),a=Mn(r,s);if(a!==null){var c=At();dn(a,r,s,c)}yc(r,s)}},zh=function(){return Me},qh=function(r,s){var a=Me;try{return Me=r,s()}finally{Me=a}},Ml=function(r,s,a){switch(s){case"input":if(he(r,a),s=a.name,a.type==="radio"&&s!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var c=a[s];if(c!==r&&c.form===r.form){var h=zo(c);if(!h)throw Error(n(90));Ne(c),he(c,h)}}}break;case"textarea":wh(r,a);break;case"select":s=a.value,s!=null&&Ce(r,!!a.multiple,s,!1)}},Ph=cc,Ah=Ar;var wS={usingClientEntryPoint:!1,Events:[gs,di,zo,Ch,Th,cc]},Rs={findFiberByHostInstance:_r,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},xS={bundleType:Rs.bundleType,version:Rs.version,rendererPackageName:Rs.rendererPackageName,rendererConfig:Rs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:g.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Oh(r),r===null?null:r.stateNode},findFiberByHostInstance:Rs.findFiberByHostInstance||yS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ta=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ta.isDisabled&&Ta.supportsFiber)try{bo=Ta.inject(xS),wn=Ta}catch{}}return It.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wS,It.createPortal=function(r,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wc(s))throw Error(n(200));return vS(r,s,null,a)},It.createRoot=function(r,s){if(!wc(r))throw Error(n(299));var a=!1,c="",h=ov;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onRecoverableError!==void 0&&(h=s.onRecoverableError)),s=vc(r,1,!1,null,null,a,!1,c,h),r[Rn]=s.current,ms(r.nodeType===8?r.parentNode:r),new gc(s)},It.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=Oh(s),r=r===null?null:r.stateNode,r},It.flushSync=function(r){return Ar(r)},It.hydrate=function(r,s,a){if(!Ea(s))throw Error(n(200));return Ca(null,r,s,!0,a)},It.hydrateRoot=function(r,s,a){if(!wc(r))throw Error(n(405));var c=a!=null&&a.hydratedSources||null,h=!1,y="",A=ov;if(a!=null&&(a.unstable_strictMode===!0&&(h=!0),a.identifierPrefix!==void 0&&(y=a.identifierPrefix),a.onRecoverableError!==void 0&&(A=a.onRecoverableError)),s=iv(s,null,r,1,a??null,h,!1,y,A),r[Rn]=s.current,ms(r),c)for(r=0;r<c.length;r++)a=c[r],h=a._getVersion,h=h(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,h]:s.mutableSourceEagerHydrationData.push(a,h);return new ba(s)},It.render=function(r,s,a){if(!Ea(s))throw Error(n(200));return Ca(null,r,s,!1,a)},It.unmountComponentAtNode=function(r){if(!Ea(r))throw Error(n(40));return r._reactRootContainer?(Ar(function(){Ca(null,null,r,!1,function(){r._reactRootContainer=null,r[Rn]=null})}),!0):!1},It.unstable_batchedUpdates=cc,It.unstable_renderSubtreeIntoContainer=function(r,s,a,c){if(!Ea(a))throw Error(n(200));if(r==null||r._reactInternals===void 0)throw Error(n(38));return Ca(r,s,a,!1,c)},It.version="18.3.1-next-f1338f8080-20240426",It}var mv;function Qg(){if(mv)return Sc.exports;mv=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Sc.exports=AS(),Sc.exports}var vv;function jS(){if(vv)return Pa;vv=1;var e=Qg();return Pa.createRoot=e.createRoot,Pa.hydrateRoot=e.hydrateRoot,Pa}var NS=jS();const RS=ro(NS);Qg();/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gs(){return Gs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Gs.apply(this,arguments)}var hr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(hr||(hr={}));const yv="popstate";function OS(e){e===void 0&&(e={});function t(i,o){let{pathname:l,search:u,hash:f}=i.location;return ff("",{pathname:l,search:u,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){return typeof o=="string"?o:Ga(o)}return LS(t,n,null,e)}function at(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ld(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function DS(){return Math.random().toString(36).substr(2,8)}function gv(e,t){return{usr:e.state,key:e.key,idx:t}}function ff(e,t,n,i){return n===void 0&&(n=null),Gs({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ui(t):t,{state:n,key:t&&t.key||i||DS()})}function Ga(e){let{pathname:t="/",search:n="",hash:i=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(t+=i.charAt(0)==="#"?i:"#"+i),t}function Ui(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substr(i),e=e.substr(0,i)),e&&(t.pathname=e)}return t}function LS(e,t,n,i){i===void 0&&(i={});let{window:o=document.defaultView,v5Compat:l=!1}=i,u=o.history,f=hr.Pop,d=null,m=v();m==null&&(m=0,u.replaceState(Gs({},u.state,{idx:m}),""));function v(){return(u.state||{idx:null}).idx}function p(){f=hr.Pop;let k=v(),S=k==null?null:k-m;m=k,d&&d({action:f,location:N.location,delta:S})}function x(k,S){f=hr.Push;let C=ff(N.location,k,S);m=v()+1;let w=gv(C,m),g=N.createHref(C);try{u.pushState(w,"",g)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;o.location.assign(g)}l&&d&&d({action:f,location:N.location,delta:1})}function P(k,S){f=hr.Replace;let C=ff(N.location,k,S);m=v();let w=gv(C,m),g=N.createHref(C);u.replaceState(w,"",g),l&&d&&d({action:f,location:N.location,delta:0})}function T(k){let S=o.location.origin!=="null"?o.location.origin:o.location.href,C=typeof k=="string"?k:Ga(k);return C=C.replace(/ $/,"%20"),at(S,"No window.location.(origin|href) available to create URL for href: "+C),new URL(C,S)}let N={get action(){return f},get location(){return e(o,u)},listen(k){if(d)throw new Error("A history only accepts one active listener");return o.addEventListener(yv,p),d=k,()=>{o.removeEventListener(yv,p),d=null}},createHref(k){return t(o,k)},createURL:T,encodeLocation(k){let S=T(k);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:x,replace:P,go(k){return u.go(k)}};return N}var wv;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(wv||(wv={}));function MS(e,t,n){return n===void 0&&(n="/"),IS(e,t,n)}function IS(e,t,n,i){let o=typeof t=="string"?Ui(t):t,l=ud(o.pathname||"/",n);if(l==null)return null;let u=Jg(e);$S(u);let f=null;for(let d=0;f==null&&d<u.length;++d){let m=JS(l);f=HS(u[d],m)}return f}function Jg(e,t,n,i){t===void 0&&(t=[]),n===void 0&&(n=[]),i===void 0&&(i="");let o=(l,u,f)=>{let d={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};d.relativePath.startsWith("/")&&(at(d.relativePath.startsWith(i),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(i.length));let m=pr([i,d.relativePath]),v=n.concat(d);l.children&&l.children.length>0&&(at(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),Jg(l.children,t,v,m)),!(l.path==null&&!l.index)&&t.push({path:m,score:KS(m,l.index),routesMeta:v})};return e.forEach((l,u)=>{var f;if(l.path===""||!((f=l.path)!=null&&f.includes("?")))o(l,u);else for(let d of Xg(l.path))o(l,u,d)}),t}function Xg(e){let t=e.split("/");if(t.length===0)return[];let[n,...i]=t,o=n.endsWith("?"),l=n.replace(/\?$/,"");if(i.length===0)return o?[l,""]:[l];let u=Xg(i.join("/")),f=[];return f.push(...u.map(d=>d===""?l:[l,d].join("/"))),o&&f.push(...u),f.map(d=>e.startsWith("/")&&d===""?"/":d)}function $S(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:WS(t.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const BS=/^:[\w-]+$/,FS=3,VS=2,US=1,zS=10,qS=-2,xv=e=>e==="*";function KS(e,t){let n=e.split("/"),i=n.length;return n.some(xv)&&(i+=qS),t&&(i+=VS),n.filter(o=>!xv(o)).reduce((o,l)=>o+(BS.test(l)?FS:l===""?US:zS),i)}function WS(e,t){return e.length===t.length&&e.slice(0,-1).every((i,o)=>i===t[o])?e[e.length-1]-t[t.length-1]:0}function HS(e,t,n){let{routesMeta:i}=e,o={},l="/",u=[];for(let f=0;f<i.length;++f){let d=i[f],m=f===i.length-1,v=l==="/"?t:t.slice(l.length)||"/",p=GS({path:d.relativePath,caseSensitive:d.caseSensitive,end:m},v),x=d.route;if(!p)return null;Object.assign(o,p.params),u.push({params:o,pathname:pr([l,p.pathname]),pathnameBase:tk(pr([l,p.pathnameBase])),route:x}),p.pathnameBase!=="/"&&(l=pr([l,p.pathnameBase]))}return u}function GS(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=QS(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let l=o[0],u=l.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:i.reduce((m,v,p)=>{let{paramName:x,isOptional:P}=v;if(x==="*"){let N=f[p]||"";u=l.slice(0,l.length-N.length).replace(/(.)\/+$/,"$1")}const T=f[p];return P&&!T?m[x]=void 0:m[x]=(T||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:u,pattern:e}}function QS(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),ld(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let i=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,d)=>(i.push({paramName:f,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(i.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),i]}function JS(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ld(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function ud(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&i!=="/"?null:e.slice(n)||"/"}const XS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,YS=e=>XS.test(e);function ZS(e,t){t===void 0&&(t="/");let{pathname:n,search:i="",hash:o=""}=typeof e=="string"?Ui(e):e,l;if(n)if(YS(n))l=n;else{if(n.includes("//")){let u=n;n=n.replace(/\/\/+/g,"/"),ld(!1,"Pathnames cannot have embedded double slashes - normalizing "+(u+" -> "+n))}n.startsWith("/")?l=_v(n.substring(1),"/"):l=_v(n,t)}else l=t;return{pathname:l,search:nk(i),hash:rk(o)}}function _v(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Ec(e,t,n,i){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ek(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Yg(e,t){let n=ek(e);return t?n.map((i,o)=>o===n.length-1?i.pathname:i.pathnameBase):n.map(i=>i.pathnameBase)}function Zg(e,t,n,i){i===void 0&&(i=!1);let o;typeof e=="string"?o=Ui(e):(o=Gs({},e),at(!o.pathname||!o.pathname.includes("?"),Ec("?","pathname","search",o)),at(!o.pathname||!o.pathname.includes("#"),Ec("#","pathname","hash",o)),at(!o.search||!o.search.includes("#"),Ec("#","search","hash",o)));let l=e===""||o.pathname==="",u=l?"/":o.pathname,f;if(u==null)f=n;else{let p=t.length-1;if(!i&&u.startsWith("..")){let x=u.split("/");for(;x[0]==="..";)x.shift(),p-=1;o.pathname=x.join("/")}f=p>=0?t[p]:"/"}let d=ZS(o,f),m=u&&u!=="/"&&u.endsWith("/"),v=(l||u===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(m||v)&&(d.pathname+="/"),d}const pr=e=>e.join("/").replace(/\/\/+/g,"/"),tk=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),nk=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,rk=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function ik(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const e0=["post","put","patch","delete"];new Set(e0);const sk=["get",...e0];new Set(sk);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qs(){return Qs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Qs.apply(this,arguments)}const cd=F.createContext(null),ok=F.createContext(null),ei=F.createContext(null),hl=F.createContext(null),yr=F.createContext({outlet:null,matches:[],isDataRoute:!1}),t0=F.createContext(null);function ak(e,t){let{relative:n}=t===void 0?{}:t;io()||at(!1);let{basename:i,navigator:o}=F.useContext(ei),{hash:l,pathname:u,search:f}=r0(e,{relative:n}),d=u;return i!=="/"&&(d=u==="/"?i:pr([i,u])),o.createHref({pathname:d,search:f,hash:l})}function io(){return F.useContext(hl)!=null}function zi(){return io()||at(!1),F.useContext(hl).location}function n0(e){F.useContext(ei).static||F.useLayoutEffect(e)}function gr(){let{isDataRoute:e}=F.useContext(yr);return e?xk():lk()}function lk(){io()||at(!1);let e=F.useContext(cd),{basename:t,future:n,navigator:i}=F.useContext(ei),{matches:o}=F.useContext(yr),{pathname:l}=zi(),u=JSON.stringify(Yg(o,n.v7_relativeSplatPath)),f=F.useRef(!1);return n0(()=>{f.current=!0}),F.useCallback(function(m,v){if(v===void 0&&(v={}),!f.current)return;if(typeof m=="number"){i.go(m);return}let p=Zg(m,JSON.parse(u),l,v.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:pr([t,p.pathname])),(v.replace?i.replace:i.push)(p,v.state,v)},[t,i,u,l,e])}function fd(){let{matches:e}=F.useContext(yr),t=e[e.length-1];return t?t.params:{}}function r0(e,t){let{relative:n}=t===void 0?{}:t,{future:i}=F.useContext(ei),{matches:o}=F.useContext(yr),{pathname:l}=zi(),u=JSON.stringify(Yg(o,i.v7_relativeSplatPath));return F.useMemo(()=>Zg(e,JSON.parse(u),l,n==="path"),[e,u,l,n])}function uk(e,t){return ck(e,t)}function ck(e,t,n,i){io()||at(!1);let{navigator:o}=F.useContext(ei),{matches:l}=F.useContext(yr),u=l[l.length-1],f=u?u.params:{};u&&u.pathname;let d=u?u.pathnameBase:"/";u&&u.route;let m=zi(),v;if(t){var p;let k=typeof t=="string"?Ui(t):t;d==="/"||(p=k.pathname)!=null&&p.startsWith(d)||at(!1),v=k}else v=m;let x=v.pathname||"/",P=x;if(d!=="/"){let k=d.replace(/^\//,"").split("/");P="/"+x.replace(/^\//,"").split("/").slice(k.length).join("/")}let T=MS(e,{pathname:P}),N=mk(T&&T.map(k=>Object.assign({},k,{params:Object.assign({},f,k.params),pathname:pr([d,o.encodeLocation?o.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?d:pr([d,o.encodeLocation?o.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),l,n,i);return t&&N?F.createElement(hl.Provider,{value:{location:Qs({pathname:"/",search:"",hash:"",state:null,key:"default"},v),navigationType:hr.Pop}},N):N}function fk(){let e=wk(),t=ik(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},t),n?F.createElement("pre",{style:o},n):null,null)}const dk=F.createElement(fk,null);class hk extends F.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?F.createElement(yr.Provider,{value:this.props.routeContext},F.createElement(t0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function pk(e){let{routeContext:t,match:n,children:i}=e,o=F.useContext(cd);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),F.createElement(yr.Provider,{value:t},i)}function mk(e,t,n,i){var o;if(t===void 0&&(t=[]),n===void 0&&(n=null),i===void 0&&(i=null),e==null){var l;if(!n)return null;if(n.errors)e=n.matches;else if((l=i)!=null&&l.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let u=e,f=(o=n)==null?void 0:o.errors;if(f!=null){let v=u.findIndex(p=>p.route.id&&(f==null?void 0:f[p.route.id])!==void 0);v>=0||at(!1),u=u.slice(0,Math.min(u.length,v+1))}let d=!1,m=-1;if(n&&i&&i.v7_partialHydration)for(let v=0;v<u.length;v++){let p=u[v];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(m=v),p.route.id){let{loaderData:x,errors:P}=n,T=p.route.loader&&x[p.route.id]===void 0&&(!P||P[p.route.id]===void 0);if(p.route.lazy||T){d=!0,m>=0?u=u.slice(0,m+1):u=[u[0]];break}}}return u.reduceRight((v,p,x)=>{let P,T=!1,N=null,k=null;n&&(P=f&&p.route.id?f[p.route.id]:void 0,N=p.route.errorElement||dk,d&&(m<0&&x===0?(_k("route-fallback"),T=!0,k=null):m===x&&(T=!0,k=p.route.hydrateFallbackElement||null)));let S=t.concat(u.slice(0,x+1)),C=()=>{let w;return P?w=N:T?w=k:p.route.Component?w=F.createElement(p.route.Component,null):p.route.element?w=p.route.element:w=v,F.createElement(pk,{match:p,routeContext:{outlet:v,matches:S,isDataRoute:n!=null},children:w})};return n&&(p.route.ErrorBoundary||p.route.errorElement||x===0)?F.createElement(hk,{location:n.location,revalidation:n.revalidation,component:N,error:P,children:C(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):C()},null)}var i0=(function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e})(i0||{}),s0=(function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e})(s0||{});function vk(e){let t=F.useContext(cd);return t||at(!1),t}function yk(e){let t=F.useContext(ok);return t||at(!1),t}function gk(e){let t=F.useContext(yr);return t||at(!1),t}function o0(e){let t=gk(),n=t.matches[t.matches.length-1];return n.route.id||at(!1),n.route.id}function wk(){var e;let t=F.useContext(t0),n=yk(),i=o0();return t!==void 0?t:(e=n.errors)==null?void 0:e[i]}function xk(){let{router:e}=vk(i0.UseNavigateStable),t=o0(s0.UseNavigateStable),n=F.useRef(!1);return n0(()=>{n.current=!0}),F.useCallback(function(o,l){l===void 0&&(l={}),n.current&&(typeof o=="number"?e.navigate(o):e.navigate(o,Qs({fromRouteId:t},l)))},[e,t])}const Sv={};function _k(e,t,n){Sv[e]||(Sv[e]=!0)}function Sk(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function cr(e){at(!1)}function kk(e){let{basename:t="/",children:n=null,location:i,navigationType:o=hr.Pop,navigator:l,static:u=!1,future:f}=e;io()&&at(!1);let d=t.replace(/^\/*/,"/"),m=F.useMemo(()=>({basename:d,navigator:l,static:u,future:Qs({v7_relativeSplatPath:!1},f)}),[d,f,l,u]);typeof i=="string"&&(i=Ui(i));let{pathname:v="/",search:p="",hash:x="",state:P=null,key:T="default"}=i,N=F.useMemo(()=>{let k=ud(v,d);return k==null?null:{location:{pathname:k,search:p,hash:x,state:P,key:T},navigationType:o}},[d,v,p,x,P,T,o]);return N==null?null:F.createElement(ei.Provider,{value:m},F.createElement(hl.Provider,{children:n,value:N}))}function bk(e){let{children:t,location:n}=e;return uk(df(t),n)}new Promise(()=>{});function df(e,t){t===void 0&&(t=[]);let n=[];return F.Children.forEach(e,(i,o)=>{if(!F.isValidElement(i))return;let l=[...t,o];if(i.type===F.Fragment){n.push.apply(n,df(i.props.children,l));return}i.type!==cr&&at(!1),!i.props.index||!i.props.children||at(!1);let u={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=df(i.props.children,l)),n.push(u)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hf(){return hf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},hf.apply(this,arguments)}function Ek(e,t){if(e==null)return{};var n={},i=Object.keys(e),o,l;for(l=0;l<i.length;l++)o=i[l],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function Ck(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Tk(e,t){return e.button===0&&(!t||t==="_self")&&!Ck(e)}function pf(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let i=e[n];return t.concat(Array.isArray(i)?i.map(o=>[n,o]):[[n,i]])},[]))}function Pk(e,t){let n=pf(e);return t&&t.forEach((i,o)=>{n.has(o)||t.getAll(o).forEach(l=>{n.append(o,l)})}),n}const Ak=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],jk="6";try{window.__reactRouterVersion=jk}catch{}const Nk="startTransition",kv=CS[Nk];function Rk(e){let{basename:t,children:n,future:i,window:o}=e,l=F.useRef();l.current==null&&(l.current=OS({window:o,v5Compat:!0}));let u=l.current,[f,d]=F.useState({action:u.action,location:u.location}),{v7_startTransition:m}=i||{},v=F.useCallback(p=>{m&&kv?kv(()=>d(p)):d(p)},[d,m]);return F.useLayoutEffect(()=>u.listen(v),[u,v]),F.useEffect(()=>Sk(i),[i]),F.createElement(kk,{basename:t,children:n,location:f.location,navigationType:f.action,navigator:u,future:i})}const Ok=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Dk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Cc=F.forwardRef(function(t,n){let{onClick:i,relative:o,reloadDocument:l,replace:u,state:f,target:d,to:m,preventScrollReset:v,viewTransition:p}=t,x=Ek(t,Ak),{basename:P}=F.useContext(ei),T,N=!1;if(typeof m=="string"&&Dk.test(m)&&(T=m,Ok))try{let w=new URL(window.location.href),g=m.startsWith("//")?new URL(w.protocol+m):new URL(m),_=ud(g.pathname,P);g.origin===w.origin&&_!=null?m=_+g.search+g.hash:N=!0}catch{}let k=ak(m,{relative:o}),S=Lk(m,{replace:u,state:f,target:d,preventScrollReset:v,relative:o,viewTransition:p});function C(w){i&&i(w),w.defaultPrevented||S(w)}return F.createElement("a",hf({},x,{href:T||k,onClick:N||l?i:C,ref:n,target:d}))});var bv;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(bv||(bv={}));var Ev;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Ev||(Ev={}));function Lk(e,t){let{target:n,replace:i,state:o,preventScrollReset:l,relative:u,viewTransition:f}=t===void 0?{}:t,d=gr(),m=zi(),v=r0(e,{relative:u});return F.useCallback(p=>{if(Tk(p,n)){p.preventDefault();let x=i!==void 0?i:Ga(m)===Ga(v);d(e,{replace:x,state:o,preventScrollReset:l,relative:u,viewTransition:f})}},[m,d,v,i,o,n,e,l,u,f])}function Mk(e){let t=F.useRef(pf(e)),n=F.useRef(!1),i=zi(),o=F.useMemo(()=>Pk(i.search,n.current?null:t.current),[i.search]),l=gr(),u=F.useCallback((f,d)=>{const m=pf(typeof f=="function"?f(o):f);n.current=!0,l("?"+m,d)},[l,o]);return[o,u]}/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ik=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),a0=(...e)=>e.filter((t,n,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var $k={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bk=F.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:o="",children:l,iconNode:u,...f},d)=>F.createElement("svg",{ref:d,...$k,width:t,height:t,stroke:e,strokeWidth:i?Number(n)*24/Number(t):n,className:a0("lucide",o),...f},[...u.map(([m,v])=>F.createElement(m,v)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=(e,t)=>{const n=F.forwardRef(({className:i,...o},l)=>F.createElement(Bk,{ref:l,iconNode:t,className:a0(`lucide-${Ik(e)}`,i),...o}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cv=rt("Beaker",[["path",{d:"M4.5 3h15",key:"c7n0jr"}],["path",{d:"M6 3v16a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V3",key:"m1uhx7"}],["path",{d:"M6 14h12",key:"4cwo0f"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fk=rt("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vk=rt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uk=rt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zk=rt("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qk=rt("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kk=rt("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dd=rt("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l0=rt("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wk=rt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hk=rt("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gk=rt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qk=rt("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jk=rt("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u0=rt("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c0=rt("Stethoscope",[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xk=rt("TestTubeDiagonal",[["path",{d:"M21 7 6.82 21.18a2.83 2.83 0 0 1-3.99-.01a2.83 2.83 0 0 1 0-4L17 3",key:"1ub6xw"}],["path",{d:"m16 2 6 6",key:"1gw87d"}],["path",{d:"M12 16H4",key:"1cjfip"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yk=rt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zk=rt("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eb=rt("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f0=rt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),tb=F.createContext(null);let $a=null;function d0(e){$a==null||$a(e)}function nb(e){switch(e){case"success":return{border:"border-emerald-200",bg:"bg-emerald-50",title:"text-emerald-900",text:"text-emerald-800"};case"error":return{border:"border-red-200",bg:"bg-red-50",title:"text-red-900",text:"text-red-800"};case"info":default:return{border:"border-blue-200",bg:"bg-blue-50",title:"text-blue-900",text:"text-blue-800"}}}function rb({children:e}){const[t,n]=F.useState([]),i=F.useCallback(f=>{n(d=>d.filter(m=>m.id!==f))},[]),o=F.useCallback(()=>n([]),[]),l=F.useCallback(f=>{const d=crypto.randomUUID(),m={...f,id:d,createdAt:Date.now()};n(v=>[m,...v].slice(0,5)),window.setTimeout(()=>i(d),4e3)},[i]);$a=l;const u=F.useMemo(()=>({toasts:t,push:l,dismiss:i,clear:o}),[t,l,i,o]);return O.jsxs(tb.Provider,{value:u,children:[e,O.jsx("div",{className:"pointer-events-none fixed right-4 top-4 z-[9999] flex w-[min(420px,calc(100vw-2rem))] flex-col gap-3",children:t.map(f=>{const d=nb(f.type);return O.jsxs("div",{className:["pointer-events-auto rounded-2xl border px-4 py-3 shadow-xl",d.border,d.bg].join(" "),role:"status",children:[f.title&&O.jsx("div",{className:["text-sm font-semibold",d.title].join(" "),children:f.title}),O.jsx("div",{className:["text-sm",d.text].join(" "),children:f.message})]},f.id)})})]})}function h0(){const[e,t]=F.useState(()=>navigator.onLine);return F.useEffect(()=>{const n=()=>t(!0),i=()=>t(!1);return window.addEventListener("online",n),window.addEventListener("offline",i),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",i)}},[]),e}function ib(e=6e3){const[t,n]=F.useState("checking"),i=h0();return F.useEffect(()=>{let o=!1,l=0;async function u(){if(!i){o||n("offline");return}try{const d=await fetch("http://localhost:8000/health",{method:"GET"});o||n(d.ok?"ready":"offline")}catch{o||n("offline");const d=Date.now();d-l>7e3&&(l=d,d0({type:"error",title:"AI Server Offline",message:"Python backend is unreachable. You can continue with manual entry."}))}}u();const f=window.setInterval(()=>void u(),e);return()=>{o=!0,window.clearInterval(f)}},[i,e]),t}function sb({children:e}){const t=zi(),n=h0(),i=ib(),o=F.useMemo(()=>{const l=t.pathname;return l.startsWith("/lab")?"Lab":l.startsWith("/doctor")||l.startsWith("/consultation")||l.startsWith("/post-lab")?"Doctor":"Nurse"},[t.pathname]);return O.jsxs("div",{className:"min-h-full bg-slate-50",children:[O.jsx("div",{className:"border-b border-slate-200 bg-white",children:O.jsxs("div",{className:"mx-auto flex max-w-6xl items-center justify-between px-6 py-4",children:[O.jsxs("div",{className:"flex items-center gap-3",children:[O.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"MediVoice"}),O.jsxs("div",{className:"rounded-full bg-slate-100 px-2 py-1 text-xs font-semibold text-slate-600",children:[o," Module"]}),O.jsxs("div",{className:"hidden items-center gap-2 sm:flex",children:[O.jsx(Cc,{to:"/",className:["rounded-xl px-3 py-1.5 text-xs font-semibold",o==="Nurse"?"bg-slate-900 text-white":"text-slate-700 hover:bg-slate-50"].join(" "),children:"Nurse"}),O.jsx(Cc,{to:"/doctor",className:["rounded-xl px-3 py-1.5 text-xs font-semibold",o==="Doctor"?"bg-slate-900 text-white":"text-slate-700 hover:bg-slate-50"].join(" "),children:"Doctor"}),O.jsx(Cc,{to:"/lab",className:["rounded-xl px-3 py-1.5 text-xs font-semibold",o==="Lab"?"bg-slate-900 text-white":"text-slate-700 hover:bg-slate-50"].join(" "),children:"Lab"})]})]}),O.jsxs("div",{className:"flex items-center gap-4 text-sm font-semibold text-slate-700",children:[O.jsxs("div",{className:"inline-flex items-center gap-2",title:"DB Status",children:[O.jsx(Kk,{className:"h-4 w-4 text-slate-600"}),n?O.jsx(eb,{className:"h-4 w-4 text-emerald-600"}):O.jsx(Zk,{className:"h-4 w-4 text-slate-400"}),O.jsx("span",{className:n?"text-emerald-700":"text-slate-500",children:n?"DB Online":"DB Offline"})]}),O.jsxs("div",{className:"inline-flex items-center gap-2",title:"AI Status (GET /health)",children:[O.jsx(Fk,{className:["h-4 w-4",i==="ready"?"text-emerald-600":i==="offline"?"text-red-600":"text-slate-400"].join(" ")}),O.jsx("span",{className:i==="ready"?"text-emerald-700":i==="offline"?"text-red-700":"text-slate-500",children:i==="ready"?"AI Ready":i==="offline"?"AI Offline":"AI Checking"})]})]})]})}),e]})}var Tc={exports:{}},Tv;function ob(){return Tv||(Tv=1,(function(e,t){(function(n){e.exports=n()})(function(n){var i=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function o(S,C){var w=S[0],g=S[1],_=S[2],E=S[3];w+=(g&_|~g&E)+C[0]-680876936|0,w=(w<<7|w>>>25)+g|0,E+=(w&g|~w&_)+C[1]-389564586|0,E=(E<<12|E>>>20)+w|0,_+=(E&w|~E&g)+C[2]+606105819|0,_=(_<<17|_>>>15)+E|0,g+=(_&E|~_&w)+C[3]-1044525330|0,g=(g<<22|g>>>10)+_|0,w+=(g&_|~g&E)+C[4]-176418897|0,w=(w<<7|w>>>25)+g|0,E+=(w&g|~w&_)+C[5]+1200080426|0,E=(E<<12|E>>>20)+w|0,_+=(E&w|~E&g)+C[6]-1473231341|0,_=(_<<17|_>>>15)+E|0,g+=(_&E|~_&w)+C[7]-45705983|0,g=(g<<22|g>>>10)+_|0,w+=(g&_|~g&E)+C[8]+1770035416|0,w=(w<<7|w>>>25)+g|0,E+=(w&g|~w&_)+C[9]-1958414417|0,E=(E<<12|E>>>20)+w|0,_+=(E&w|~E&g)+C[10]-42063|0,_=(_<<17|_>>>15)+E|0,g+=(_&E|~_&w)+C[11]-1990404162|0,g=(g<<22|g>>>10)+_|0,w+=(g&_|~g&E)+C[12]+1804603682|0,w=(w<<7|w>>>25)+g|0,E+=(w&g|~w&_)+C[13]-40341101|0,E=(E<<12|E>>>20)+w|0,_+=(E&w|~E&g)+C[14]-1502002290|0,_=(_<<17|_>>>15)+E|0,g+=(_&E|~_&w)+C[15]+1236535329|0,g=(g<<22|g>>>10)+_|0,w+=(g&E|_&~E)+C[1]-165796510|0,w=(w<<5|w>>>27)+g|0,E+=(w&_|g&~_)+C[6]-1069501632|0,E=(E<<9|E>>>23)+w|0,_+=(E&g|w&~g)+C[11]+643717713|0,_=(_<<14|_>>>18)+E|0,g+=(_&w|E&~w)+C[0]-373897302|0,g=(g<<20|g>>>12)+_|0,w+=(g&E|_&~E)+C[5]-701558691|0,w=(w<<5|w>>>27)+g|0,E+=(w&_|g&~_)+C[10]+38016083|0,E=(E<<9|E>>>23)+w|0,_+=(E&g|w&~g)+C[15]-660478335|0,_=(_<<14|_>>>18)+E|0,g+=(_&w|E&~w)+C[4]-405537848|0,g=(g<<20|g>>>12)+_|0,w+=(g&E|_&~E)+C[9]+568446438|0,w=(w<<5|w>>>27)+g|0,E+=(w&_|g&~_)+C[14]-1019803690|0,E=(E<<9|E>>>23)+w|0,_+=(E&g|w&~g)+C[3]-187363961|0,_=(_<<14|_>>>18)+E|0,g+=(_&w|E&~w)+C[8]+1163531501|0,g=(g<<20|g>>>12)+_|0,w+=(g&E|_&~E)+C[13]-1444681467|0,w=(w<<5|w>>>27)+g|0,E+=(w&_|g&~_)+C[2]-51403784|0,E=(E<<9|E>>>23)+w|0,_+=(E&g|w&~g)+C[7]+1735328473|0,_=(_<<14|_>>>18)+E|0,g+=(_&w|E&~w)+C[12]-1926607734|0,g=(g<<20|g>>>12)+_|0,w+=(g^_^E)+C[5]-378558|0,w=(w<<4|w>>>28)+g|0,E+=(w^g^_)+C[8]-2022574463|0,E=(E<<11|E>>>21)+w|0,_+=(E^w^g)+C[11]+1839030562|0,_=(_<<16|_>>>16)+E|0,g+=(_^E^w)+C[14]-35309556|0,g=(g<<23|g>>>9)+_|0,w+=(g^_^E)+C[1]-1530992060|0,w=(w<<4|w>>>28)+g|0,E+=(w^g^_)+C[4]+1272893353|0,E=(E<<11|E>>>21)+w|0,_+=(E^w^g)+C[7]-155497632|0,_=(_<<16|_>>>16)+E|0,g+=(_^E^w)+C[10]-1094730640|0,g=(g<<23|g>>>9)+_|0,w+=(g^_^E)+C[13]+681279174|0,w=(w<<4|w>>>28)+g|0,E+=(w^g^_)+C[0]-358537222|0,E=(E<<11|E>>>21)+w|0,_+=(E^w^g)+C[3]-722521979|0,_=(_<<16|_>>>16)+E|0,g+=(_^E^w)+C[6]+76029189|0,g=(g<<23|g>>>9)+_|0,w+=(g^_^E)+C[9]-640364487|0,w=(w<<4|w>>>28)+g|0,E+=(w^g^_)+C[12]-421815835|0,E=(E<<11|E>>>21)+w|0,_+=(E^w^g)+C[15]+530742520|0,_=(_<<16|_>>>16)+E|0,g+=(_^E^w)+C[2]-995338651|0,g=(g<<23|g>>>9)+_|0,w+=(_^(g|~E))+C[0]-198630844|0,w=(w<<6|w>>>26)+g|0,E+=(g^(w|~_))+C[7]+1126891415|0,E=(E<<10|E>>>22)+w|0,_+=(w^(E|~g))+C[14]-1416354905|0,_=(_<<15|_>>>17)+E|0,g+=(E^(_|~w))+C[5]-57434055|0,g=(g<<21|g>>>11)+_|0,w+=(_^(g|~E))+C[12]+1700485571|0,w=(w<<6|w>>>26)+g|0,E+=(g^(w|~_))+C[3]-1894986606|0,E=(E<<10|E>>>22)+w|0,_+=(w^(E|~g))+C[10]-1051523|0,_=(_<<15|_>>>17)+E|0,g+=(E^(_|~w))+C[1]-2054922799|0,g=(g<<21|g>>>11)+_|0,w+=(_^(g|~E))+C[8]+1873313359|0,w=(w<<6|w>>>26)+g|0,E+=(g^(w|~_))+C[15]-30611744|0,E=(E<<10|E>>>22)+w|0,_+=(w^(E|~g))+C[6]-1560198380|0,_=(_<<15|_>>>17)+E|0,g+=(E^(_|~w))+C[13]+1309151649|0,g=(g<<21|g>>>11)+_|0,w+=(_^(g|~E))+C[4]-145523070|0,w=(w<<6|w>>>26)+g|0,E+=(g^(w|~_))+C[11]-1120210379|0,E=(E<<10|E>>>22)+w|0,_+=(w^(E|~g))+C[2]+718787259|0,_=(_<<15|_>>>17)+E|0,g+=(E^(_|~w))+C[9]-343485551|0,g=(g<<21|g>>>11)+_|0,S[0]=w+S[0]|0,S[1]=g+S[1]|0,S[2]=_+S[2]|0,S[3]=E+S[3]|0}function l(S){var C=[],w;for(w=0;w<64;w+=4)C[w>>2]=S.charCodeAt(w)+(S.charCodeAt(w+1)<<8)+(S.charCodeAt(w+2)<<16)+(S.charCodeAt(w+3)<<24);return C}function u(S){var C=[],w;for(w=0;w<64;w+=4)C[w>>2]=S[w]+(S[w+1]<<8)+(S[w+2]<<16)+(S[w+3]<<24);return C}function f(S){var C=S.length,w=[1732584193,-271733879,-1732584194,271733878],g,_,E,$,I,U;for(g=64;g<=C;g+=64)o(w,l(S.substring(g-64,g)));for(S=S.substring(g-64),_=S.length,E=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],g=0;g<_;g+=1)E[g>>2]|=S.charCodeAt(g)<<(g%4<<3);if(E[g>>2]|=128<<(g%4<<3),g>55)for(o(w,E),g=0;g<16;g+=1)E[g]=0;return $=C*8,$=$.toString(16).match(/(.*?)(.{0,8})$/),I=parseInt($[2],16),U=parseInt($[1],16)||0,E[14]=I,E[15]=U,o(w,E),w}function d(S){var C=S.length,w=[1732584193,-271733879,-1732584194,271733878],g,_,E,$,I,U;for(g=64;g<=C;g+=64)o(w,u(S.subarray(g-64,g)));for(S=g-64<C?S.subarray(g-64):new Uint8Array(0),_=S.length,E=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],g=0;g<_;g+=1)E[g>>2]|=S[g]<<(g%4<<3);if(E[g>>2]|=128<<(g%4<<3),g>55)for(o(w,E),g=0;g<16;g+=1)E[g]=0;return $=C*8,$=$.toString(16).match(/(.*?)(.{0,8})$/),I=parseInt($[2],16),U=parseInt($[1],16)||0,E[14]=I,E[15]=U,o(w,E),w}function m(S){var C="",w;for(w=0;w<4;w+=1)C+=i[S>>w*8+4&15]+i[S>>w*8&15];return C}function v(S){var C;for(C=0;C<S.length;C+=1)S[C]=m(S[C]);return S.join("")}v(f("hello")),typeof ArrayBuffer<"u"&&!ArrayBuffer.prototype.slice&&(function(){function S(C,w){return C=C|0||0,C<0?Math.max(C+w,0):Math.min(C,w)}ArrayBuffer.prototype.slice=function(C,w){var g=this.byteLength,_=S(C,g),E=g,$,I,U,G;return w!==n&&(E=S(w,g)),_>E?new ArrayBuffer(0):($=E-_,I=new ArrayBuffer($),U=new Uint8Array(I),G=new Uint8Array(this,_,$),U.set(G),I)}})();function p(S){return/[\u0080-\uFFFF]/.test(S)&&(S=unescape(encodeURIComponent(S))),S}function x(S,C){var w=S.length,g=new ArrayBuffer(w),_=new Uint8Array(g),E;for(E=0;E<w;E+=1)_[E]=S.charCodeAt(E);return C?_:g}function P(S){return String.fromCharCode.apply(null,new Uint8Array(S))}function T(S,C,w){var g=new Uint8Array(S.byteLength+C.byteLength);return g.set(new Uint8Array(S)),g.set(new Uint8Array(C),S.byteLength),g}function N(S){var C=[],w=S.length,g;for(g=0;g<w-1;g+=2)C.push(parseInt(S.substr(g,2),16));return String.fromCharCode.apply(String,C)}function k(){this.reset()}return k.prototype.append=function(S){return this.appendBinary(p(S)),this},k.prototype.appendBinary=function(S){this._buff+=S,this._length+=S.length;var C=this._buff.length,w;for(w=64;w<=C;w+=64)o(this._hash,l(this._buff.substring(w-64,w)));return this._buff=this._buff.substring(w-64),this},k.prototype.end=function(S){var C=this._buff,w=C.length,g,_=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],E;for(g=0;g<w;g+=1)_[g>>2]|=C.charCodeAt(g)<<(g%4<<3);return this._finish(_,w),E=v(this._hash),S&&(E=N(E)),this.reset(),E},k.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},k.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},k.prototype.setState=function(S){return this._buff=S.buff,this._length=S.length,this._hash=S.hash,this},k.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},k.prototype._finish=function(S,C){var w=C,g,_,E;if(S[w>>2]|=128<<(w%4<<3),w>55)for(o(this._hash,S),w=0;w<16;w+=1)S[w]=0;g=this._length*8,g=g.toString(16).match(/(.*?)(.{0,8})$/),_=parseInt(g[2],16),E=parseInt(g[1],16)||0,S[14]=_,S[15]=E,o(this._hash,S)},k.hash=function(S,C){return k.hashBinary(p(S),C)},k.hashBinary=function(S,C){var w=f(S),g=v(w);return C?N(g):g},k.ArrayBuffer=function(){this.reset()},k.ArrayBuffer.prototype.append=function(S){var C=T(this._buff.buffer,S),w=C.length,g;for(this._length+=S.byteLength,g=64;g<=w;g+=64)o(this._hash,u(C.subarray(g-64,g)));return this._buff=g-64<w?new Uint8Array(C.buffer.slice(g-64)):new Uint8Array(0),this},k.ArrayBuffer.prototype.end=function(S){var C=this._buff,w=C.length,g=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],_,E;for(_=0;_<w;_+=1)g[_>>2]|=C[_]<<(_%4<<3);return this._finish(g,w),E=v(this._hash),S&&(E=N(E)),this.reset(),E},k.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},k.ArrayBuffer.prototype.getState=function(){var S=k.prototype.getState.call(this);return S.buff=P(S.buff),S},k.ArrayBuffer.prototype.setState=function(S){return S.buff=x(S.buff,!0),k.prototype.setState.call(this,S)},k.ArrayBuffer.prototype.destroy=k.prototype.destroy,k.ArrayBuffer.prototype._finish=k.prototype._finish,k.ArrayBuffer.hash=function(S,C){var w=d(new Uint8Array(S)),g=v(w);return C?N(g):g},k})})(Tc)),Tc.exports}var ab=ob();const Qa=ro(ab);var Aa,lb=new Uint8Array(16);function ub(){if(!Aa&&(Aa=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Aa))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Aa(lb)}const cb=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function fb(e){return typeof e=="string"&&cb.test(e)}var gt=[];for(var Pc=0;Pc<256;++Pc)gt.push((Pc+256).toString(16).substr(1));function db(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(gt[e[t+0]]+gt[e[t+1]]+gt[e[t+2]]+gt[e[t+3]]+"-"+gt[e[t+4]]+gt[e[t+5]]+"-"+gt[e[t+6]]+gt[e[t+7]]+"-"+gt[e[t+8]]+gt[e[t+9]]+"-"+gt[e[t+10]]+gt[e[t+11]]+gt[e[t+12]]+gt[e[t+13]]+gt[e[t+14]]+gt[e[t+15]]).toLowerCase();if(!fb(n))throw TypeError("Stringified UUID is invalid");return n}function hd(e,t,n){e=e||{};var i=e.random||(e.rng||ub)();if(i[6]=i[6]&15|64,i[8]=i[8]&63|128,t){n=n||0;for(var o=0;o<16;++o)t[n+o]=i[o];return t}return db(i)}var ja={},Pv;function hb(){if(Pv)return ja;Pv=1,ja.stringify=function(n){var i=[];i.push({obj:n});for(var o="",l,u,f,d,m,v,p,x,P,T,N;l=i.pop();)if(u=l.obj,f=l.prefix||"",d=l.val||"",o+=f,d)o+=d;else if(typeof u!="object")o+=typeof u>"u"?null:JSON.stringify(u);else if(u===null)o+="null";else if(Array.isArray(u)){for(i.push({val:"]"}),m=u.length-1;m>=0;m--)v=m===0?"":",",i.push({obj:u[m],prefix:v});i.push({val:"["})}else{p=[];for(x in u)u.hasOwnProperty(x)&&p.push(x);for(i.push({val:"}"}),m=p.length-1;m>=0;m--)P=p[m],T=u[P],N=m>0?",":"",N+=JSON.stringify(P)+":",i.push({obj:T,prefix:N});i.push({val:"{"})}return o};function e(t,n,i){var o=i[i.length-1];t===o.element&&(i.pop(),o=i[i.length-1]);var l=o.element,u=o.index;if(Array.isArray(l))l.push(t);else if(u===n.length-2){var f=n.pop();l[f]=t}else n.push(t)}return ja.parse=function(t){for(var n=[],i=[],o=0,l,u,f,d,m,v,p,x,P;;){if(l=t[o++],l==="}"||l==="]"||typeof l>"u"){if(n.length===1)return n.pop();e(n.pop(),n,i);continue}switch(l){case" ":case"	":case`
`:case":":case",":break;case"n":o+=3,e(null,n,i);break;case"t":o+=3,e(!0,n,i);break;case"f":o+=4,e(!1,n,i);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"-":for(u="",o--;;)if(f=t[o++],/[\d\.\-e\+]/.test(f))u+=f;else{o--;break}e(parseFloat(u),n,i);break;case'"':for(d="",m=void 0,v=0;p=t[o++],p!=='"'||m==="\\"&&v%2===1;)d+=p,m=p,m==="\\"?v++:v=0;e(JSON.parse('"'+d+'"'),n,i);break;case"[":x={element:[],index:n.length},n.push(x.element),i.push(x);break;case"{":P={element:{},index:n.length},n.push(P.element),i.push(P);break;default:throw new Error("unexpectedly reached end of input: "+l)}}},ja}var pb=hb();const p0=ro(pb);var Na={exports:{}},Av;function mb(){if(Av)return Na.exports;Av=1;var e=typeof Reflect=="object"?Reflect:null,t=e&&typeof e.apply=="function"?e.apply:function(_,E,$){return Function.prototype.apply.call(_,E,$)},n;e&&typeof e.ownKeys=="function"?n=e.ownKeys:Object.getOwnPropertySymbols?n=function(_){return Object.getOwnPropertyNames(_).concat(Object.getOwnPropertySymbols(_))}:n=function(_){return Object.getOwnPropertyNames(_)};function i(g){console&&console.warn&&console.warn(g)}var o=Number.isNaN||function(_){return _!==_};function l(){l.init.call(this)}Na.exports=l,Na.exports.once=S,l.EventEmitter=l,l.prototype._events=void 0,l.prototype._eventsCount=0,l.prototype._maxListeners=void 0;var u=10;function f(g){if(typeof g!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof g)}Object.defineProperty(l,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(g){if(typeof g!="number"||g<0||o(g))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+g+".");u=g}}),l.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},l.prototype.setMaxListeners=function(_){if(typeof _!="number"||_<0||o(_))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+_+".");return this._maxListeners=_,this};function d(g){return g._maxListeners===void 0?l.defaultMaxListeners:g._maxListeners}l.prototype.getMaxListeners=function(){return d(this)},l.prototype.emit=function(_){for(var E=[],$=1;$<arguments.length;$++)E.push(arguments[$]);var I=_==="error",U=this._events;if(U!==void 0)I=I&&U.error===void 0;else if(!I)return!1;if(I){var G;if(E.length>0&&(G=E[0]),G instanceof Error)throw G;var te=new Error("Unhandled error."+(G?" ("+G.message+")":""));throw te.context=G,te}var ce=U[_];if(ce===void 0)return!1;if(typeof ce=="function")t(ce,this,E);else for(var oe=ce.length,ae=T(ce,oe),$=0;$<oe;++$)t(ae[$],this,E);return!0};function m(g,_,E,$){var I,U,G;if(f(E),U=g._events,U===void 0?(U=g._events=Object.create(null),g._eventsCount=0):(U.newListener!==void 0&&(g.emit("newListener",_,E.listener?E.listener:E),U=g._events),G=U[_]),G===void 0)G=U[_]=E,++g._eventsCount;else if(typeof G=="function"?G=U[_]=$?[E,G]:[G,E]:$?G.unshift(E):G.push(E),I=d(g),I>0&&G.length>I&&!G.warned){G.warned=!0;var te=new Error("Possible EventEmitter memory leak detected. "+G.length+" "+String(_)+" listeners added. Use emitter.setMaxListeners() to increase limit");te.name="MaxListenersExceededWarning",te.emitter=g,te.type=_,te.count=G.length,i(te)}return g}l.prototype.addListener=function(_,E){return m(this,_,E,!1)},l.prototype.on=l.prototype.addListener,l.prototype.prependListener=function(_,E){return m(this,_,E,!0)};function v(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(g,_,E){var $={fired:!1,wrapFn:void 0,target:g,type:_,listener:E},I=v.bind($);return I.listener=E,$.wrapFn=I,I}l.prototype.once=function(_,E){return f(E),this.on(_,p(this,_,E)),this},l.prototype.prependOnceListener=function(_,E){return f(E),this.prependListener(_,p(this,_,E)),this},l.prototype.removeListener=function(_,E){var $,I,U,G,te;if(f(E),I=this._events,I===void 0)return this;if($=I[_],$===void 0)return this;if($===E||$.listener===E)--this._eventsCount===0?this._events=Object.create(null):(delete I[_],I.removeListener&&this.emit("removeListener",_,$.listener||E));else if(typeof $!="function"){for(U=-1,G=$.length-1;G>=0;G--)if($[G]===E||$[G].listener===E){te=$[G].listener,U=G;break}if(U<0)return this;U===0?$.shift():N($,U),$.length===1&&(I[_]=$[0]),I.removeListener!==void 0&&this.emit("removeListener",_,te||E)}return this},l.prototype.off=l.prototype.removeListener,l.prototype.removeAllListeners=function(_){var E,$,I;if($=this._events,$===void 0)return this;if($.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):$[_]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete $[_]),this;if(arguments.length===0){var U=Object.keys($),G;for(I=0;I<U.length;++I)G=U[I],G!=="removeListener"&&this.removeAllListeners(G);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(E=$[_],typeof E=="function")this.removeListener(_,E);else if(E!==void 0)for(I=E.length-1;I>=0;I--)this.removeListener(_,E[I]);return this};function x(g,_,E){var $=g._events;if($===void 0)return[];var I=$[_];return I===void 0?[]:typeof I=="function"?E?[I.listener||I]:[I]:E?k(I):T(I,I.length)}l.prototype.listeners=function(_){return x(this,_,!0)},l.prototype.rawListeners=function(_){return x(this,_,!1)},l.listenerCount=function(g,_){return typeof g.listenerCount=="function"?g.listenerCount(_):P.call(g,_)},l.prototype.listenerCount=P;function P(g){var _=this._events;if(_!==void 0){var E=_[g];if(typeof E=="function")return 1;if(E!==void 0)return E.length}return 0}l.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]};function T(g,_){for(var E=new Array(_),$=0;$<_;++$)E[$]=g[$];return E}function N(g,_){for(;_+1<g.length;_++)g[_]=g[_+1];g.pop()}function k(g){for(var _=new Array(g.length),E=0;E<_.length;++E)_[E]=g[E].listener||g[E];return _}function S(g,_){return new Promise(function(E,$){function I(G){g.removeListener(_,U),$(G)}function U(){typeof g.removeListener=="function"&&g.removeListener("error",I),E([].slice.call(arguments))}w(g,_,U,{once:!0}),_!=="error"&&C(g,I,{once:!0})})}function C(g,_,E){typeof g.on=="function"&&w(g,"error",_,E)}function w(g,_,E,$){if(typeof g.on=="function")$.once?g.once(_,E):g.on(_,E);else if(typeof g.addEventListener=="function")g.addEventListener(_,function I(U){$.once&&g.removeEventListener(_,I),E(U)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof g)}return Na.exports}var vb=mb();const zn=ro(vb);function yb(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer||typeof Blob<"u"&&e instanceof Blob}function gb(e){return e instanceof ArrayBuffer?e.slice(0):e.slice(0,e.size,e.type)}var m0=Function.prototype.toString,wb=m0.call(Object);function xb(e){var t=Object.getPrototypeOf(e);if(t===null)return!0;var n=t.constructor;return typeof n=="function"&&n instanceof n&&m0.call(n)==wb}function ft(e){var t,n,i;if(!e||typeof e!="object")return e;if(Array.isArray(e)){for(t=[],n=0,i=e.length;n<i;n++)t[n]=ft(e[n]);return t}if(e instanceof Date&&isFinite(e))return e.toISOString();if(yb(e))return gb(e);if(!xb(e))return e;t={};for(n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var o=ft(e[n]);typeof o<"u"&&(t[n]=o)}return t}function v0(e){var t=!1;return function(...n){if(t)throw new Error("once called more than once");t=!0,e.apply(this,n)}}function y0(e){return function(...t){t=ft(t);var n=this,i=typeof t[t.length-1]=="function"?t.pop():!1,o=new Promise(function(l,u){var f;try{var d=v0(function(m,v){m?u(m):l(v)});t.push(d),f=e.apply(n,t),f&&typeof f.then=="function"&&l(f)}catch(m){u(m)}});return i&&o.then(function(l){i(null,l)},i),o}}function _b(e,t,n){if(e.constructor.listeners("debug").length){for(var i=["api",e.name,t],o=0;o<n.length-1;o++)i.push(n[o]);e.constructor.emit("debug",i);var l=n[n.length-1];n[n.length-1]=function(u,f){var d=["api",e.name,t];d=d.concat(u?["error",u]:["success",f]),e.constructor.emit("debug",d),l(u,f)}}}function Ze(e,t){return y0(function(...n){if(this._closed)return Promise.reject(new Error("database is closed"));if(this._destroyed)return Promise.reject(new Error("database is destroyed"));var i=this;return _b(i,e,n),this.taskqueue.isReady?t.apply(this,n):new Promise(function(o,l){i.taskqueue.addTask(function(u){u?l(u):o(i[e].apply(i,n))})})})}function so(e,t){for(var n={},i=0,o=t.length;i<o;i++){var l=t[i];l in e&&(n[l]=e[l])}return n}var Sb=6;function jv(e){return e}function kb(e){return[{ok:e}]}function g0(e,t,n){var i=t.docs,o=new Map;i.forEach(function(N){o.has(N.id)?o.get(N.id).push(N):o.set(N.id,[N])});var l=o.size,u=0,f=new Array(l);function d(){var N=[];f.forEach(function(k){k.docs.forEach(function(S){N.push({id:k.id,docs:[S]})})}),n(null,{results:N})}function m(){++u===l&&d()}function v(N,k,S){f[N]={id:k,docs:S},m()}var p=[];o.forEach(function(N,k){p.push(k)});var x=0;function P(){if(!(x>=p.length)){var N=Math.min(x+Sb,p.length),k=p.slice(x,N);T(k,x),x+=k.length}}function T(N,k){N.forEach(function(S,C){var w=k+C,g=o.get(S),_=so(g[0],["atts_since","attachments"]);_.open_revs=g.map(function($){return $.rev}),_.open_revs=_.open_revs.filter(jv);var E=jv;_.open_revs.length===0&&(delete _.open_revs,E=kb),["revs","attachments","binary","ajax","latest"].forEach(function($){$ in t&&(_[$]=t[$])}),e.get(S,_,function($,I){var U;$?U=[{error:$}]:U=E(I),v(w,S,U),P()})})}P()}var mf;try{localStorage.setItem("_pouch_check_localstorage",1),mf=!!localStorage.getItem("_pouch_check_localstorage")}catch{mf=!1}function Ja(){return mf}const jn=typeof queueMicrotask=="function"?queueMicrotask:function(t){Promise.resolve().then(t)};class bb extends zn{constructor(){super(),this._listeners={},Ja()&&addEventListener("storage",t=>{this.emit(t.key)})}addListener(t,n,i,o){if(this._listeners[n])return;var l=!1,u=this;function f(){if(!u._listeners[n])return;if(l){l="waiting";return}l=!0;var d=so(o,["style","include_docs","attachments","conflicts","filter","doc_ids","view","since","query_params","binary","return_docs"]);function m(){l=!1}i.changes(d).on("change",function(v){v.seq>o.since&&!o.cancelled&&(o.since=v.seq,o.onChange(v))}).on("complete",function(){l==="waiting"&&jn(f),l=!1}).on("error",m)}this._listeners[n]=f,this.on(t,f)}removeListener(t,n){n in this._listeners&&(super.removeListener(t,this._listeners[n]),delete this._listeners[n])}notifyLocalWindows(t){Ja()&&(localStorage[t]=localStorage[t]==="a"?"b":"a")}notify(t){this.emit(t),this.notifyLocalWindows(t)}}function rn(e){if(typeof console<"u"&&typeof console[e]=="function"){var t=Array.prototype.slice.call(arguments,1);console[e].apply(console,t)}}function Eb(e,t){var n=6e5;e=parseInt(e,10)||0,t=parseInt(t,10),t!==t||t<=e?t=(e||1)<<1:t=t+1,t>n&&(e=n>>1,t=n);var i=Math.random(),o=t-e;return~~(o*i+e)}function Cb(e){var t=0;return e||(t=2e3),Eb(e,t)}function vf(e,t){rn("info","The above "+e+" is totally normal. "+t)}let Ue=class extends Error{constructor(t,n,i){super(),this.status=t,this.name=n,this.message=i,this.error=!0}toString(){return JSON.stringify({status:this.status,name:this.name,message:this.message,reason:this.reason})}};new Ue(401,"unauthorized","Name or password is incorrect.");var Tb=new Ue(400,"bad_request","Missing JSON list of 'docs'"),tn=new Ue(404,"not_found","missing"),Mi=new Ue(409,"conflict","Document update conflict"),w0=new Ue(400,"bad_request","_id field must contain a string"),Pb=new Ue(412,"missing_id","_id is required for puts"),Ab=new Ue(400,"bad_request","Only reserved document ids may start with underscore.");new Ue(412,"precondition_failed","Database not open");var pd=new Ue(500,"unknown_error","Database encountered an unknown error"),x0=new Ue(500,"badarg","Some query argument is invalid");new Ue(400,"invalid_request","Request was invalid");var jb=new Ue(400,"query_parse_error","Some query parameter is invalid"),Nv=new Ue(500,"doc_validation","Bad special document member"),pl=new Ue(400,"bad_request","Something wrong with the request"),Ac=new Ue(400,"bad_request","Document must be a JSON object");new Ue(404,"not_found","Database not found");var md=new Ue(500,"indexed_db_went_bad","unknown");new Ue(500,"web_sql_went_bad","unknown");new Ue(500,"levelDB_went_went_bad","unknown");new Ue(403,"forbidden","Forbidden by design doc validate_doc_update function");var Ba=new Ue(400,"bad_request","Invalid rev format");new Ue(412,"file_exists","The database could not be created, the file already exists.");var Nb=new Ue(412,"missing_stub","A pre-existing attachment stub wasn't found");new Ue(413,"invalid_url","Provided URL is invalid");function Te(e,t){function n(i){for(var o=Object.getOwnPropertyNames(e),l=0,u=o.length;l<u;l++)typeof e[o[l]]!="function"&&(this[o[l]]=e[o[l]]);this.stack===void 0&&(this.stack=new Error().stack),i!==void 0&&(this.reason=i)}return n.prototype=Ue.prototype,new n(t)}function Ii(e){if(typeof e!="object"){var t=e;e=pd,e.data=t}return"error"in e&&e.error==="conflict"&&(e.name="conflict",e.status=409),"name"in e||(e.name=e.error||"unknown"),"status"in e||(e.status=500),"message"in e||(e.message=e.message||e.reason),"stack"in e||(e.stack=new Error().stack),e}function Rb(e,t,n){try{return!e(t,n)}catch(o){var i="Filter function threw: "+o.toString();return Te(pl,i)}}function vd(e){var t={},n=e.filter&&typeof e.filter=="function";return t.query=e.query_params,function(o){o.doc||(o.doc={});var l=n&&Rb(e.filter,o.doc,t);if(typeof l=="object")return l;if(l)return!1;if(!e.include_docs)delete o.doc;else if(!e.attachments)for(var u in o.doc._attachments)Object.prototype.hasOwnProperty.call(o.doc._attachments,u)&&(o.doc._attachments[u].stub=!0);return!0}}function _0(e){var t;if(e?typeof e!="string"?t=Te(w0):/^_/.test(e)&&!/^_(design|local)/.test(e)&&(t=Te(Ab)):t=Te(Pb),t)throw t}function Tn(e){return typeof e._remote=="boolean"?e._remote:typeof e.type=="function"?(rn("warn","db.type() is deprecated and will be removed in a future version of PouchDB"),e.type()==="http"):!1}function Ob(e,t){return"listenerCount"in e?e.listenerCount(t):zn.listenerCount(e,t)}function yf(e){if(!e)return null;var t=e.split("/");return t.length===2?t:t.length===1?[e,e]:null}function Rv(e){var t=yf(e);return t?t.join("/"):null}var Ov=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],Dv="queryKey",Db=/(?:^|&)([^&=]*)=?([^&]*)/g,Lb=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/;function S0(e){for(var t=Lb.exec(e),n={},i=14;i--;){var o=Ov[i],l=t[i]||"",u=["user","password"].indexOf(o)!==-1;n[o]=u?decodeURIComponent(l):l}return n[Dv]={},n[Ov[12]].replace(Db,function(f,d,m){d&&(n[Dv][d]=m)}),n}function yd(e,t){var n=[],i=[];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n.push(o),i.push(t[o]));return n.push(e),Function.apply(null,n).apply(null,i)}function Xa(e,t,n){return e.get(t).catch(function(i){if(i.status!==404)throw i;return{}}).then(function(i){var o=i._rev,l=n(i);return l?(l._id=t,l._rev=o,Mb(e,l,n)):{updated:!1,rev:o}})}function Mb(e,t,n){return e.put(t).then(function(i){return{updated:!0,rev:i.rev}},function(i){if(i.status!==409)throw i;return Xa(e,t._id,n)})}var gd=function(e){return atob(e)},oo=function(e){return btoa(e)};function wd(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(l){if(l.name!=="TypeError")throw l;for(var n=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,i=new n,o=0;o<e.length;o+=1)i.append(e[o]);return i.getBlob(t.type)}}function Ib(e){for(var t=e.length,n=new ArrayBuffer(t),i=new Uint8Array(n),o=0;o<t;o++)i[o]=e.charCodeAt(o);return n}function xd(e,t){return wd([Ib(e)],{type:t})}function _d(e,t){return xd(gd(e),t)}function $b(e){for(var t="",n=new Uint8Array(e),i=n.byteLength,o=0;o<i;o++)t+=String.fromCharCode(n[o]);return t}function k0(e,t){var n=new FileReader,i=typeof n.readAsBinaryString=="function";n.onloadend=function(o){var l=o.target.result||"";if(i)return t(l);t($b(l))},i?n.readAsBinaryString(e):n.readAsArrayBuffer(e)}function b0(e,t){k0(e,function(n){t(n)})}function Sd(e,t){b0(e,function(n){t(oo(n))})}function Bb(e,t){var n=new FileReader;n.onloadend=function(i){var o=i.target.result||new ArrayBuffer(0);t(o)},n.readAsArrayBuffer(e)}var Fb=self.setImmediate||self.setTimeout,Vb=32768;function Ub(e){return oo(e)}function zb(e,t,n,i,o){(n>0||i<t.size)&&(t=t.slice(n,i)),Bb(t,function(l){e.append(l),o()})}function qb(e,t,n,i,o){(n>0||i<t.length)&&(t=t.substring(n,i)),e.appendBinary(t),o()}function kd(e,t){var n=typeof e=="string",i=n?e.length:e.size,o=Math.min(Vb,i),l=Math.ceil(i/o),u=0,f=n?new Qa:new Qa.ArrayBuffer,d=n?qb:zb;function m(){Fb(p)}function v(){var x=f.end(!0),P=Ub(x);t(P),f.destroy()}function p(){var x=u*o,P=x+o;u++,u<l?d(f,e,x,P,m):d(f,e,x,P,v)}p()}function E0(e){return Qa.hash(e)}function C0(e,t){if(!t)return hd().replace(/-/g,"").toLowerCase();var n=Object.assign({},e);return delete n._rev_tree,E0(JSON.stringify(n))}var ml=hd;function Hr(e){for(var t,n,i,o=e.rev_tree.slice(),l;l=o.pop();){var u=l.ids,f=u[2],d=l.pos;if(f.length){for(var m=0,v=f.length;m<v;m++)o.push({pos:d+1,ids:f[m]});continue}var p=!!u[1].deleted,x=u[0];(!t||(i!==p?i:n!==d?n<d:t<x))&&(t=x,n=d,i=p)}return n+"-"+t}function Gr(e,t){for(var n=e.slice(),i;i=n.pop();)for(var o=i.pos,l=i.ids,u=l[2],f=t(u.length===0,o,l[0],i.ctx,l[1]),d=0,m=u.length;d<m;d++)n.push({pos:o+1,ids:u[d],ctx:f})}function Kb(e,t){return e.pos-t.pos}function bd(e){var t=[];Gr(e,function(o,l,u,f,d){o&&t.push({rev:l+"-"+u,pos:l,opts:d})}),t.sort(Kb).reverse();for(var n=0,i=t.length;n<i;n++)delete t[n].pos;return t}function Ed(e){for(var t=Hr(e),n=bd(e.rev_tree),i=[],o=0,l=n.length;o<l;o++){var u=n[o];u.rev!==t&&!u.opts.deleted&&i.push(u.rev)}return i}function Wb(e){var t=[];return Gr(e.rev_tree,function(n,i,o,l,u){u.status==="available"&&!n&&(t.push(i+"-"+o),u.status="missing")}),t}function Hb(e,t){let n=[];const i=e.slice();let o;for(;o=i.pop();){const{pos:l,ids:u}=o,f=`${l}-${u[0]}`,d=u[2];if(n.push(f),f===t){if(d.length!==0)throw new Error("The requested revision is not a leaf");return n.reverse()}(d.length===0||d.length>1)&&(n=[]);for(let m=0,v=d.length;m<v;m++)i.push({pos:l+1,ids:d[m]})}if(n.length===0)throw new Error("The requested revision does not exist");return n.reverse()}function T0(e){for(var t=[],n=e.slice(),i;i=n.pop();){var o=i.pos,l=i.ids,u=l[0],f=l[1],d=l[2],m=d.length===0,v=i.history?i.history.slice():[];v.push({id:u,opts:f}),m&&t.push({pos:o+1-v.length,ids:v});for(var p=0,x=d.length;p<x;p++)n.push({pos:o+1,ids:d[p],history:v})}return t.reverse()}function Gb(e,t){return e.pos-t.pos}function Qb(e,t,n){for(var i=0,o=e.length,l;i<o;)l=i+o>>>1,n(e[l],t)<0?i=l+1:o=l;return i}function Jb(e,t,n){var i=Qb(e,t,n);e.splice(i,0,t)}function Lv(e,t){for(var n,i,o=t,l=e.length;o<l;o++){var u=e[o],f=[u.id,u.opts,[]];i?(i[2].push(f),i=f):n=i=f}return n}function Xb(e,t){return e[0]<t[0]?-1:1}function Mv(e,t){for(var n=[{tree1:e,tree2:t}],i=!1;n.length>0;){var o=n.pop(),l=o.tree1,u=o.tree2;(l[1].status||u[1].status)&&(l[1].status=l[1].status==="available"||u[1].status==="available"?"available":"missing");for(var f=0;f<u[2].length;f++){if(!l[2][0]){i="new_leaf",l[2][0]=u[2][f];continue}for(var d=!1,m=0;m<l[2].length;m++)l[2][m][0]===u[2][f][0]&&(n.push({tree1:l[2][m],tree2:u[2][f]}),d=!0);d||(i="new_branch",Jb(l[2],u[2][f],Xb))}}return{conflicts:i,tree:e}}function P0(e,t,n){var i=[],o=!1,l=!1,u;if(!e.length)return{tree:[t],conflicts:"new_leaf"};for(var f=0,d=e.length;f<d;f++){var m=e[f];if(m.pos===t.pos&&m.ids[0]===t.ids[0])u=Mv(m.ids,t.ids),i.push({pos:m.pos,ids:u.tree}),o=o||u.conflicts,l=!0;else if(n!==!0){var v=m.pos<t.pos?m:t,p=m.pos<t.pos?t:m,x=p.pos-v.pos,P=[],T=[];for(T.push({ids:v.ids,diff:x,parent:null,parentIdx:null});T.length>0;){var N=T.pop();if(N.diff===0){N.ids[0]===p.ids[0]&&P.push(N);continue}for(var k=N.ids[2],S=0,C=k.length;S<C;S++)T.push({ids:k[S],diff:N.diff-1,parent:N.ids,parentIdx:S})}var w=P[0];w?(u=Mv(w.ids,p.ids),w.parent[2][w.parentIdx]=u.tree,i.push({pos:v.pos,ids:v.ids}),o=o||u.conflicts,l=!0):i.push(m)}else i.push(m)}return l||i.push(t),i.sort(Gb),{tree:i,conflicts:o||"internal_node"}}function Yb(e,t){for(var n=T0(e),i,o,l=0,u=n.length;l<u;l++){var f=n[l],d=f.ids,m;if(d.length>t){i||(i={});var v=d.length-t;m={pos:f.pos+v,ids:Lv(d,v)};for(var p=0;p<v;p++){var x=f.pos+p+"-"+d[p].id;i[x]=!0}}else m={pos:f.pos,ids:Lv(d,0)};o?o=P0(o,m,!0).tree:o=[m]}return i&&Gr(o,function(P,T,N){delete i[T+"-"+N]}),{tree:o,revs:i?Object.keys(i):[]}}function A0(e,t,n){var i=P0(e,t),o=Yb(i.tree,n);return{tree:o.tree,stemmedRevs:o.revs,conflicts:i.conflicts}}function Zb(e,t){for(var n=e.slice(),i=t.split("-"),o=parseInt(i[0],10),l=i[1],u;u=n.pop();){if(u.pos===o&&u.ids[0]===l)return!0;for(var f=u.ids[2],d=0,m=f.length;d<m;d++)n.push({pos:u.pos+1,ids:f[d]})}return!1}function eE(e){return e.ids}function Fn(e,t){t||(t=Hr(e));for(var n=t.substring(t.indexOf("-")+1),i=e.rev_tree.map(eE),o;o=i.pop();){if(o[0]===n)return!!o[1].deleted;i=i.concat(o[2])}}function qr(e){return typeof e=="string"&&e.startsWith("_local/")}function tE(e,t){for(var n=t.rev_tree.slice(),i;i=n.pop();){var o=i.pos,l=i.ids,u=l[0],f=l[1],d=l[2],m=d.length===0,v=i.history?i.history.slice():[];if(v.push({id:u,pos:o,opts:f}),m)for(var p=0,x=v.length;p<x;p++){var P=v[p],T=P.pos+"-"+P.id;if(T===e)return o+"-"+u}for(var N=0,k=d.length;N<k;N++)n.push({pos:o+1,ids:d[N],history:v})}throw new Error("Unable to resolve latest revision for id "+t.id+", rev "+e)}function nE(e,t,n,i){try{e.emit("change",t,n,i)}catch(o){rn("error",'Error in .on("change", function):',o)}}function rE(e,t,n){var i=[{rev:e._rev}];n.style==="all_docs"&&(i=bd(t.rev_tree).map(function(l){return{rev:l.rev}}));var o={id:t.id,changes:i,doc:e};return Fn(t,e._rev)&&(o.deleted=!0),n.conflicts&&(o.doc._conflicts=Ed(t),o.doc._conflicts.length||delete o.doc._conflicts),o}class iE extends zn{constructor(t,n,i){super(),this.db=t,n=n?ft(n):{};var o=n.complete=v0((f,d)=>{f?Ob(this,"error")>0&&this.emit("error",f):this.emit("complete",d),this.removeAllListeners(),t.removeListener("destroyed",l)});i&&(this.on("complete",function(f){i(null,f)}),this.on("error",i));const l=()=>{this.cancel()};t.once("destroyed",l),n.onChange=(f,d,m)=>{this.isCancelled||nE(this,f,d,m)};var u=new Promise(function(f,d){n.complete=function(m,v){m?d(m):f(v)}});this.once("cancel",function(){t.removeListener("destroyed",l),n.complete(null,{status:"cancelled"})}),this.then=u.then.bind(u),this.catch=u.catch.bind(u),this.then(function(f){o(null,f)},o),t.taskqueue.isReady?this.validateChanges(n):t.taskqueue.addTask(f=>{f?n.complete(f):this.isCancelled?this.emit("cancel"):this.validateChanges(n)})}cancel(){this.isCancelled=!0,this.db.taskqueue.isReady&&this.emit("cancel")}validateChanges(t){var n=t.complete;Pe._changesFilterPlugin?Pe._changesFilterPlugin.validate(t,i=>{if(i)return n(i);this.doChanges(t)}):this.doChanges(t)}doChanges(t){var n=t.complete;if(t=ft(t),"live"in t&&!("continuous"in t)&&(t.continuous=t.live),t.processChange=rE,t.since==="latest"&&(t.since="now"),t.since||(t.since=0),t.since==="now"){this.db.info().then(o=>{if(this.isCancelled){n(null,{status:"cancelled"});return}t.since=o.update_seq,this.doChanges(t)},n);return}if(Pe._changesFilterPlugin){if(Pe._changesFilterPlugin.normalize(t),Pe._changesFilterPlugin.shouldFilter(this,t))return Pe._changesFilterPlugin.filter(this,t)}else["doc_ids","filter","selector","view"].forEach(function(o){o in t&&rn("warn",'The "'+o+'" option was passed in to changes/replicate, but pouchdb-changes-filter plugin is not installed, so it was ignored. Please install the plugin to enable filtering.')});"descending"in t||(t.descending=!1),t.limit=t.limit===0?1:t.limit,t.complete=n;var i=this.db._changes(t);if(i&&typeof i.cancel=="function"){const o=this.cancel;this.cancel=(...l)=>{i.cancel(),o.apply(this,l)}}}}function jc(e,t){return function(n,i){n||i[0]&&i[0].error?(n=n||i[0],n.docId=t,e(n)):e(null,i.length?i[0]:i)}}function sE(e){for(var t=0;t<e.length;t++){var n=e[t];if(n._deleted)delete n._attachments;else if(n._attachments)for(var i=Object.keys(n._attachments),o=0;o<i.length;o++){var l=i[o];n._attachments[l]=so(n._attachments[l],["data","digest","content_type","length","revpos","stub"])}}}function oE(e,t){if(e._id===t._id){const n=e._revisions?e._revisions.start:0,i=t._revisions?t._revisions.start:0;return n-i}return e._id<t._id?-1:1}function aE(e){var t={},n=[];return Gr(e,function(i,o,l,u){var f=o+"-"+l;return i&&(t[f]=0),u!==void 0&&n.push({from:u,to:f}),f}),n.reverse(),n.forEach(function(i){t[i.from]===void 0?t[i.from]=1+t[i.to]:t[i.from]=Math.min(t[i.from],1+t[i.to])}),t}function lE(e){var t="limit"in e?e.keys.slice(e.skip,e.limit+e.skip):e.skip>0?e.keys.slice(e.skip):e.keys;e.keys=t,e.skip=0,delete e.limit,e.descending&&(t.reverse(),e.descending=!1)}function j0(e){var t=e._compactionQueue[0],n=t.opts,i=t.callback;e.get("_local/compaction").catch(function(){return!1}).then(function(o){o&&o.last_seq&&(n.last_seq=o.last_seq),e._compact(n,function(l,u){l?i(l):i(null,u),jn(function(){e._compactionQueue.shift(),e._compactionQueue.length&&j0(e)})})})}function uE(e,t,n){return e.get("_local/purges").then(function(i){const o=i.purgeSeq+1;return i.purges.push({docId:t,rev:n,purgeSeq:o}),i.purges.length>self.purged_infos_limit&&i.purges.splice(0,i.purges.length-self.purged_infos_limit),i.purgeSeq=o,i}).catch(function(i){if(i.status!==404)throw i;return{_id:"_local/purges",purges:[{docId:t,rev:n,purgeSeq:0}],purgeSeq:0}}).then(function(i){return e.put(i)})}function cE(e){return e.charAt(0)==="_"?e+" is not a valid attachment name, attachment names cannot start with '_'":!1}function Nc(e){return e===null||typeof e!="object"||Array.isArray(e)}const fE=/^\d+-[^-]*$/;function Rc(e){return typeof e=="string"&&fE.test(e)}class N0 extends zn{_setup(){this.post=Ze("post",function(t,n,i){if(typeof n=="function"&&(i=n,n={}),Nc(t))return i(Te(Ac));this.bulkDocs({docs:[t]},n,jc(i,t._id))}).bind(this),this.put=Ze("put",function(t,n,i){if(typeof n=="function"&&(i=n,n={}),Nc(t))return i(Te(Ac));if(_0(t._id),"_rev"in t&&!Rc(t._rev))return i(Te(Ba));if(qr(t._id)&&typeof this._putLocal=="function")return t._deleted?this._removeLocal(t,i):this._putLocal(t,i);const o=u=>{typeof this._put=="function"&&n.new_edits!==!1?this._put(t,n,u):this.bulkDocs({docs:[t]},n,jc(u,t._id))};n.force&&t._rev?(l(),o(function(u){var f=u?null:{ok:!0,id:t._id,rev:t._rev};i(u,f)})):o(i);function l(){var u=t._rev.split("-"),f=u[1],d=parseInt(u[0],10),m=d+1,v=C0();t._revisions={start:m,ids:[v,f]},t._rev=m+"-"+v,n.new_edits=!1}}).bind(this),this.putAttachment=Ze("putAttachment",function(t,n,i,o,l){var u=this;typeof l=="function"&&(l=o,o=i,i=null),typeof l>"u"&&(l=o,o=i,i=null),l||rn("warn","Attachment",n,"on document",t,"is missing content_type");function f(d){var m="_rev"in d?parseInt(d._rev,10):0;return d._attachments=d._attachments||{},d._attachments[n]={content_type:l,data:o,revpos:++m},u.put(d)}return u.get(t).then(function(d){if(d._rev!==i)throw Te(Mi);return f(d)},function(d){if(d.reason===tn.message)return f({_id:t});throw d})}).bind(this),this.removeAttachment=Ze("removeAttachment",function(t,n,i,o){this.get(t,(l,u)=>{if(l){o(l);return}if(u._rev!==i){o(Te(Mi));return}if(!u._attachments)return o();delete u._attachments[n],Object.keys(u._attachments).length===0&&delete u._attachments,this.put(u,o)})}).bind(this),this.remove=Ze("remove",function(t,n,i,o){var l;typeof n=="string"?(l={_id:t,_rev:n},typeof i=="function"&&(o=i,i={})):(l=t,typeof n=="function"?(o=n,i={}):(o=i,i=n)),i=i||{},i.was_delete=!0;var u={_id:l._id,_rev:l._rev||i.rev};if(u._deleted=!0,qr(u._id)&&typeof this._removeLocal=="function")return this._removeLocal(l,o);this.bulkDocs({docs:[u]},i,jc(o,u._id))}).bind(this),this.revsDiff=Ze("revsDiff",function(t,n,i){typeof n=="function"&&(i=n,n={});var o=Object.keys(t);if(!o.length)return i(null,{});var l=0,u=new Map;function f(m,v){u.has(m)||u.set(m,{missing:[]}),u.get(m).missing.push(v)}function d(m,v){var p=t[m].slice(0);Gr(v,function(x,P,T,N,k){var S=P+"-"+T,C=p.indexOf(S);C!==-1&&(p.splice(C,1),k.status!=="available"&&f(m,S))}),p.forEach(function(x){f(m,x)})}o.forEach(function(m){this._getRevisionTree(m,function(v,p){if(v&&v.status===404&&v.message==="missing")u.set(m,{missing:t[m]});else{if(v)return i(v);d(m,p)}if(++l===o.length){var x={};return u.forEach(function(P,T){x[T]=P}),i(null,x)}})},this)}).bind(this),this.bulkGet=Ze("bulkGet",function(t,n){g0(this,t,n)}).bind(this),this.compactDocument=Ze("compactDocument",function(t,n,i){this._getRevisionTree(t,(o,l)=>{if(o)return i(o);var u=aE(l),f=[],d=[];Object.keys(u).forEach(function(m){u[m]>n&&f.push(m)}),Gr(l,function(m,v,p,x,P){var T=v+"-"+p;P.status==="available"&&f.indexOf(T)!==-1&&d.push(T)}),this._doCompaction(t,d,i)})}).bind(this),this.compact=Ze("compact",function(t,n){typeof t=="function"&&(n=t,t={}),t=t||{},this._compactionQueue=this._compactionQueue||[],this._compactionQueue.push({opts:t,callback:n}),this._compactionQueue.length===1&&j0(this)}).bind(this),this.get=Ze("get",function(t,n,i){if(typeof n=="function"&&(i=n,n={}),n=n||{},typeof t!="string")return i(Te(w0));if(qr(t)&&typeof this._getLocal=="function")return this._getLocal(t,i);var o=[];const l=()=>{var d=[],m=o.length;if(!m)return i(null,d);o.forEach(v=>{this.get(t,{rev:v,revs:n.revs,latest:n.latest,attachments:n.attachments,binary:n.binary},function(p,x){if(p)d.push({missing:v});else{for(var P,T=0,N=d.length;T<N;T++)if(d[T].ok&&d[T].ok._rev===x._rev){P=!0;break}P||d.push({ok:x})}m--,m||i(null,d)})})};if(n.open_revs){if(n.open_revs==="all")this._getRevisionTree(t,function(d,m){if(d)return i(d);o=bd(m).map(function(v){return v.rev}),l()});else if(Array.isArray(n.open_revs)){o=n.open_revs;for(var u=0;u<o.length;u++){var f=o[u];if(!Rc(f))return i(Te(Ba))}l()}else return i(Te(pd,"function_clause"));return}return this._get(t,n,(d,m)=>{if(d)return d.docId=t,i(d);var v=m.doc,p=m.metadata,x=m.ctx;if(n.conflicts){var P=Ed(p);P.length&&(v._conflicts=P)}if(Fn(p,v._rev)&&(v._deleted=!0),n.revs||n.revs_info){for(var T=v._rev.split("-"),N=parseInt(T[0],10),k=T[1],S=T0(p.rev_tree),C=null,w=0;w<S.length;w++){var g=S[w];const oe=g.ids.findIndex(ae=>ae.id===k);var _=oe===N-1;(_||!C&&oe!==-1)&&(C=g)}if(!C)return d=new Error("invalid rev tree"),d.docId=t,i(d);const te=v._rev.split("-")[1],ce=C.ids.findIndex(oe=>oe.id===te)+1;var E=C.ids.length-ce;if(C.ids.splice(ce,E),C.ids.reverse(),n.revs&&(v._revisions={start:C.pos+C.ids.length-1,ids:C.ids.map(function(oe){return oe.id})}),n.revs_info){var $=C.pos+C.ids.length;v._revs_info=C.ids.map(function(oe){return $--,{rev:$+"-"+oe.id,status:oe.opts.status}})}}if(n.attachments&&v._attachments){var I=v._attachments,U=Object.keys(I).length;if(U===0)return i(null,v);Object.keys(I).forEach(te=>{this._getAttachment(v._id,te,I[te],{binary:n.binary,metadata:p,ctx:x},function(ce,oe){var ae=v._attachments[te];ae.data=oe,delete ae.stub,delete ae.length,--U||i(null,v)})})}else{if(v._attachments)for(var G in v._attachments)Object.prototype.hasOwnProperty.call(v._attachments,G)&&(v._attachments[G].stub=!0);i(null,v)}})}).bind(this),this.getAttachment=Ze("getAttachment",function(t,n,i,o){i instanceof Function&&(o=i,i={}),this._get(t,i,(l,u)=>{if(l)return o(l);if(u.doc._attachments&&u.doc._attachments[n])i.ctx=u.ctx,i.binary=!0,i.metadata=u.metadata,this._getAttachment(t,n,u.doc._attachments[n],i,o);else return o(Te(tn))})}).bind(this),this.allDocs=Ze("allDocs",function(t,n){if(typeof t=="function"&&(n=t,t={}),t.skip=typeof t.skip<"u"?t.skip:0,t.start_key&&(t.startkey=t.start_key),t.end_key&&(t.endkey=t.end_key),"keys"in t){if(!Array.isArray(t.keys))return n(new TypeError("options.keys must be an array"));var i=["startkey","endkey","key"].filter(function(o){return o in t})[0];if(i){n(Te(jb,"Query parameter `"+i+"` is not compatible with multi-get"));return}if(!Tn(this)&&(lE(t),t.keys.length===0))return this._allDocs({limit:0},n)}return this._allDocs(t,n)}).bind(this),this.close=Ze("close",function(t){return this._closed=!0,this.emit("closed"),this._close(t)}).bind(this),this.info=Ze("info",function(t){this._info((n,i)=>{if(n)return t(n);i.db_name=i.db_name||this.name,i.auto_compaction=!!(this.auto_compaction&&!Tn(this)),i.adapter=this.adapter,t(null,i)})}).bind(this),this.id=Ze("id",function(t){return this._id(t)}).bind(this),this.bulkDocs=Ze("bulkDocs",function(t,n,i){if(typeof n=="function"&&(i=n,n={}),n=n||{},Array.isArray(t)&&(t={docs:t}),!t||!t.docs||!Array.isArray(t.docs))return i(Te(Tb));for(var o=0;o<t.docs.length;++o){const d=t.docs[o];if(Nc(d))return i(Te(Ac));if("_rev"in d&&!Rc(d._rev))return i(Te(Ba))}var l;if(t.docs.forEach(function(d){d._attachments&&Object.keys(d._attachments).forEach(function(m){l=l||cE(m),d._attachments[m].content_type||rn("warn","Attachment",m,"on document",d._id,"is missing content_type")})}),l)return i(Te(pl,l));"new_edits"in n||("new_edits"in t?n.new_edits=t.new_edits:n.new_edits=!0);var u=this;!n.new_edits&&!Tn(u)&&t.docs.sort(oE),sE(t.docs);var f=t.docs.map(function(d){return d._id});this._bulkDocs(t,n,function(d,m){if(d)return i(d);if(n.new_edits||(m=m.filter(function(x){return x.error})),!Tn(u))for(var v=0,p=m.length;v<p;v++)m[v].id=m[v].id||f[v];i(null,m)})}).bind(this),this.registerDependentDatabase=Ze("registerDependentDatabase",function(t,n){var i=ft(this.__opts);this.__opts.view_adapter&&(i.adapter=this.__opts.view_adapter);var o=new this.constructor(t,i);function l(u){return u.dependentDbs=u.dependentDbs||{},u.dependentDbs[t]?!1:(u.dependentDbs[t]=!0,u)}Xa(this,"_local/_pouch_dependentDbs",l).then(function(){n(null,{db:o})}).catch(n)}).bind(this),this.destroy=Ze("destroy",function(t,n){typeof t=="function"&&(n=t,t={});var i="use_prefix"in this?this.use_prefix:!0;const o=()=>{this._destroy(t,(l,u)=>{if(l)return n(l);this._destroyed=!0,this.emit("destroyed"),n(null,u||{ok:!0})})};if(Tn(this))return o();this.get("_local/_pouch_dependentDbs",(l,u)=>{if(l)return l.status!==404?n(l):o();var f=u.dependentDbs,d=this.constructor,m=Object.keys(f).map(v=>{var p=i?v.replace(new RegExp("^"+d.prefix),""):v;return new d(p,this.__opts).destroy()});Promise.all(m).then(o,n)})}).bind(this)}_compact(t,n){var i={return_docs:!1,last_seq:t.last_seq||0,since:t.last_seq||0},o=[],l,u=0;const f=v=>{this.activeTasks.update(l,{completed_items:++u}),o.push(this.compactDocument(v.id,0))},d=v=>{this.activeTasks.remove(l,v),n(v)},m=v=>{var p=v.last_seq;Promise.all(o).then(()=>Xa(this,"_local/compaction",x=>!x.last_seq||x.last_seq<p?(x.last_seq=p,x):!1)).then(()=>{this.activeTasks.remove(l),n(null,{ok:!0})}).catch(d)};this.info().then(v=>{l=this.activeTasks.add({name:"database_compaction",total_items:v.update_seq-i.last_seq}),this.changes(i).on("change",f).on("complete",m).on("error",d)})}changes(t,n){return typeof t=="function"&&(n=t,t={}),t=t||{},t.return_docs="return_docs"in t?t.return_docs:!t.live,new iE(this,t,n)}type(){return typeof this._type=="function"?this._type():this.adapter}}N0.prototype.purge=Ze("_purge",function(e,t,n){if(typeof this._purge>"u")return n(Te(pd,"Purge is not implemented in the "+this.adapter+" adapter."));var i=this;i._getRevisionTree(e,(o,l)=>{if(o)return n(o);if(!l)return n(Te(tn));let u;try{u=Hb(l,t)}catch(f){return n(f.message||f)}i._purge(e,u,(f,d)=>{if(f)return n(f);uE(i,e,t).then(function(){return n(null,d)})})})});let dE=class{constructor(){this.isReady=!1,this.failed=!1,this.queue=[]}execute(){var t;if(this.failed)for(;t=this.queue.shift();)t(this.failed);else for(;t=this.queue.shift();)t()}fail(t){this.failed=t,this.execute()}ready(t){this.isReady=!0,this.db=t,this.execute()}addTask(t){this.queue.push(t),this.failed&&this.execute()}};function hE(e,t){var n=e.match(/([a-z-]*):\/\/(.*)/);if(n)return{name:/https?/.test(n[1])?n[1]+"://"+n[2]:n[2],adapter:n[1]};var i=Pe.adapters,o=Pe.preferredAdapters,l=Pe.prefix,u=t.adapter;if(!u)for(var f=0;f<o.length;++f){if(u=o[f],u==="idb"&&"websql"in i&&Ja()&&localStorage["_pouch__websqldb_"+l+e]){rn("log",'PouchDB is downgrading "'+e+'" to WebSQL to avoid data loss, because it was already opened with WebSQL.');continue}break}var d=i[u],m=d&&"use_prefix"in d?d.use_prefix:!0;return{name:m?l+e:e,adapter:u}}function pE(e,t){e.prototype=Object.create(t.prototype,{constructor:{value:e}})}function R0(e,t){let n=function(...i){if(!(this instanceof n))return new n(...i);t.apply(this,i)};return pE(n,e),n}function mE(e){function t(i){e.removeListener("closed",n),i||e.constructor.emit("destroyed",e.name)}function n(){e.removeListener("destroyed",t),e.constructor.emit("unref",e)}e.once("destroyed",t),e.once("closed",n),e.constructor.emit("ref",e)}class Iv extends N0{constructor(t,n){super(),this._setup(t,n)}_setup(t,n){if(super._setup(),n=n||{},t&&typeof t=="object"&&(n=t,t=n.name,delete n.name),n.deterministic_revs===void 0&&(n.deterministic_revs=!0),this.__opts=n=ft(n),this.auto_compaction=n.auto_compaction,this.purged_infos_limit=n.purged_infos_limit||1e3,this.prefix=Pe.prefix,typeof t!="string")throw new Error("Missing/invalid DB name");var i=(n.prefix||"")+t,o=hE(i,n);if(n.name=o.name,n.adapter=n.adapter||o.adapter,this.name=t,this._adapter=n.adapter,Pe.emit("debug",["adapter","Picked adapter: ",n.adapter]),!Pe.adapters[n.adapter]||!Pe.adapters[n.adapter].valid())throw new Error("Invalid Adapter: "+n.adapter);if(n.view_adapter&&(!Pe.adapters[n.view_adapter]||!Pe.adapters[n.view_adapter].valid()))throw new Error("Invalid View Adapter: "+n.view_adapter);this.taskqueue=new dE,this.adapter=n.adapter,Pe.adapters[n.adapter].call(this,n,l=>{if(l)return this.taskqueue.fail(l);mE(this),this.emit("created",this),Pe.emit("created",this.name),this.taskqueue.ready(this)})}}const Pe=R0(Iv,function(e,t){Iv.prototype._setup.call(this,e,t)});var O0=fetch,Oi=Headers;class vE{constructor(){this.tasks={}}list(){return Object.values(this.tasks)}add(t){const n=hd();return this.tasks[n]={id:n,name:t.name,total_items:t.total_items,created_at:new Date().toJSON()},n}get(t){return this.tasks[t]}remove(t,n){return delete this.tasks[t],this.tasks}update(t,n){const i=this.tasks[t];if(typeof i<"u"){const o={id:i.id,name:i.name,created_at:i.created_at,total_items:n.total_items||i.total_items,completed_items:n.completed_items||i.completed_items,updated_at:new Date().toJSON()};this.tasks[t]=o}return this.tasks}}Pe.adapters={};Pe.preferredAdapters=[];Pe.prefix="_pouch_";var $v=new zn;function yE(e){Object.keys(zn.prototype).forEach(function(n){typeof zn.prototype[n]=="function"&&(e[n]=$v[n].bind($v))});var t=e._destructionListeners=new Map;e.on("ref",function(i){t.has(i.name)||t.set(i.name,[]),t.get(i.name).push(i)}),e.on("unref",function(i){if(t.has(i.name)){var o=t.get(i.name),l=o.indexOf(i);l<0||(o.splice(l,1),o.length>1?t.set(i.name,o):t.delete(i.name))}}),e.on("destroyed",function(i){if(t.has(i)){var o=t.get(i);t.delete(i),o.forEach(function(l){l.emit("destroyed",!0)})}})}yE(Pe);Pe.adapter=function(e,t,n){t.valid()&&(Pe.adapters[e]=t,n&&Pe.preferredAdapters.push(e))};Pe.plugin=function(e){if(typeof e=="function")e(Pe);else{if(typeof e!="object"||Object.keys(e).length===0)throw new Error('Invalid plugin: got "'+e+'", expected an object or a function');Object.keys(e).forEach(function(t){Pe.prototype[t]=e[t]})}return this.__defaults&&(Pe.__defaults=Object.assign({},this.__defaults)),Pe};Pe.defaults=function(e){let t=R0(Pe,function(n,i){i=i||{},n&&typeof n=="object"&&(i=n,n=i.name,delete i.name),i=Object.assign({},t.__defaults,i),Pe.call(this,n,i)});return t.preferredAdapters=Pe.preferredAdapters.slice(),Object.keys(Pe).forEach(function(n){n in t||(t[n]=Pe[n])}),t.__defaults=Object.assign({},this.__defaults,e),t};Pe.fetch=function(e,t){return O0(e,t)};Pe.prototype.activeTasks=Pe.activeTasks=new vE;var gE="9.0.0";function Cd(e,t){for(var n=e,i=0,o=t.length;i<o;i++){var l=t[i];if(n=n[l],!n)break}return n}function wE(e,t){return e<t?-1:e>t?1:0}function Td(e){for(var t=[],n="",i=0,o=e.length;i<o;i++){var l=e[i];i>0&&e[i-1]==="\\"&&(l==="$"||l===".")?n=n.substring(0,n.length-1)+l:l==="."?(t.push(n),n=""):n+=l}return t.push(n),t}var xE=["$or","$nor","$not"];function D0(e){return xE.indexOf(e)>-1}function L0(e){return Object.keys(e)[0]}function _E(e){return e[L0(e)]}function Js(e){var t={},n={$or:!0,$nor:!0};return e.forEach(function(i){Object.keys(i).forEach(function(o){var l=i[o];if(typeof l!="object"&&(l={$eq:l}),D0(o))if(l instanceof Array){if(n[o]){n[o]=!1,t[o]=l;return}var u=[];t[o].forEach(function(d){Object.keys(l).forEach(function(m){var v=l[m],p=Math.max(Object.keys(d).length,Object.keys(v).length),x=Js([d,v]);Object.keys(x).length<=p||u.push(x)})}),t[o]=u}else t[o]=Js([l]);else{var f=t[o]=t[o]||{};Object.keys(l).forEach(function(d){var m=l[d];if(d==="$gt"||d==="$gte")return SE(d,m,f);if(d==="$lt"||d==="$lte")return kE(d,m,f);if(d==="$ne")return bE(m,f);if(d==="$eq")return EE(m,f);if(d==="$regex")return CE(m,f);f[d]=m})}})}),t}function SE(e,t,n){typeof n.$eq<"u"||(typeof n.$gte<"u"?e==="$gte"?t>n.$gte&&(n.$gte=t):t>=n.$gte&&(delete n.$gte,n.$gt=t):typeof n.$gt<"u"?e==="$gte"?t>n.$gt&&(delete n.$gt,n.$gte=t):t>n.$gt&&(n.$gt=t):n[e]=t)}function kE(e,t,n){typeof n.$eq<"u"||(typeof n.$lte<"u"?e==="$lte"?t<n.$lte&&(n.$lte=t):t<=n.$lte&&(delete n.$lte,n.$lt=t):typeof n.$lt<"u"?e==="$lte"?t<n.$lt&&(delete n.$lt,n.$lte=t):t<n.$lt&&(n.$lt=t):n[e]=t)}function bE(e,t){"$ne"in t?t.$ne.push(e):t.$ne=[e]}function EE(e,t){delete t.$gt,delete t.$gte,delete t.$lt,delete t.$lte,delete t.$ne,t.$eq=e}function CE(e,t){"$regex"in t?t.$regex.push(e):t.$regex=[e]}function M0(e){for(var t in e){if(Array.isArray(e))for(var n in e)e[n].$and&&(e[n]=Js(e[n].$and));var i=e[t];typeof i=="object"&&M0(i)}return e}function I0(e,t){for(var n in e){n==="$and"&&(t=!0);var i=e[n];typeof i=="object"&&(t=I0(i,t))}return t}function TE(e){var t=ft(e);I0(t,!1)&&(t=M0(t),"$and"in t&&(t=Js(t.$and))),["$or","$nor"].forEach(function(u){u in t&&t[u].forEach(function(f){for(var d=Object.keys(f),m=0;m<d.length;m++){var v=d[m],p=f[v];(typeof p!="object"||p===null)&&(f[v]={$eq:p})}})}),"$not"in t&&(t.$not=Js([t.$not]));for(var n=Object.keys(t),i=0;i<n.length;i++){var o=n[i],l=t[o];(typeof l!="object"||l===null)&&(l={$eq:l}),t[o]=l}return gf(t),t}function gf(e){Object.keys(e).forEach(function(t){var n=e[t];Array.isArray(n)?n.forEach(function(i){i&&typeof i=="object"&&gf(i)}):t==="$ne"?e.$ne=[n]:t==="$regex"?e.$regex=[n]:n&&typeof n=="object"&&gf(n)})}function PE(e,t,n){for(var i="",o=n-e.length;i.length<o;)i+=t;return i}function AE(e,t,n){var i=PE(e,t,n);return i+e}var $0=-324,wf=3,xf="";function tt(e,t){if(e===t)return 0;e=Qr(e),t=Qr(t);var n=_f(e),i=_f(t);if(n-i!==0)return n-i;switch(typeof e){case"number":return e-t;case"boolean":return e<t?-1:1;case"string":return LE(e,t)}return Array.isArray(e)?DE(e,t):ME(e,t)}function Qr(e){switch(typeof e){case"undefined":return null;case"number":return e===1/0||e===-1/0||isNaN(e)?null:e;case"object":var t=e;if(Array.isArray(e)){var n=e.length;e=new Array(n);for(var i=0;i<n;i++)e[i]=Qr(t[i])}else{if(e instanceof Date)return e.toJSON();if(e!==null){e={};for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var l=t[o];typeof l<"u"&&(e[o]=Qr(l))}}}}return e}function jE(e){if(e!==null)switch(typeof e){case"boolean":return e?1:0;case"number":return IE(e);case"string":return e.replace(/\u0002/g,"").replace(/\u0001/g,"").replace(/\u0000/g,"");case"object":var t=Array.isArray(e),n=t?e:Object.keys(e),i=-1,o=n.length,l="";if(t)for(;++i<o;)l+=mn(n[i]);else for(;++i<o;){var u=n[i];l+=mn(u)+mn(e[u])}return l}return""}function mn(e){var t="\0";return e=Qr(e),_f(e)+xf+jE(e)+t}function NE(e,t){var n=t,i,o=e[t]==="1";if(o)i=0,t++;else{var l=e[t]==="0";t++;var u="",f=e.substring(t,t+wf),d=parseInt(f,10)+$0;for(l&&(d=-d),t+=wf;;){var m=e[t];if(m==="\0")break;u+=m,t++}u=u.split("."),u.length===1?i=parseInt(u,10):i=parseFloat(u[0]+"."+u[1]),l&&(i=i-10),d!==0&&(i=parseFloat(i+"e"+d))}return{num:i,length:t-n}}function RE(e,t){var n=e.pop();if(t.length){var i=t[t.length-1];n===i.element&&(t.pop(),i=t[t.length-1]);var o=i.element,l=i.index;if(Array.isArray(o))o.push(n);else if(l===e.length-2){var u=e.pop();o[u]=n}else e.push(n)}}function OE(e){for(var t=[],n=[],i=0;;){var o=e[i++];if(o==="\0"){if(t.length===1)return t.pop();RE(t,n);continue}switch(o){case"1":t.push(null);break;case"2":t.push(e[i]==="1"),i++;break;case"3":var l=NE(e,i);t.push(l.num),i+=l.length;break;case"4":for(var u="";;){var f=e[i];if(f==="\0")break;u+=f,i++}u=u.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"").replace(/\u0002\u0002/g,""),t.push(u);break;case"5":var d={element:[],index:t.length};t.push(d.element),n.push(d);break;case"6":var m={element:{},index:t.length};t.push(m.element),n.push(m);break;default:throw new Error("bad collationIndex or unexpectedly reached end of input: "+o)}}}function DE(e,t){for(var n=Math.min(e.length,t.length),i=0;i<n;i++){var o=tt(e[i],t[i]);if(o!==0)return o}return e.length===t.length?0:e.length>t.length?1:-1}function LE(e,t){return e===t?0:e>t?1:-1}function ME(e,t){for(var n=Object.keys(e),i=Object.keys(t),o=Math.min(n.length,i.length),l=0;l<o;l++){var u=tt(n[l],i[l]);if(u!==0||(u=tt(e[n[l]],t[i[l]]),u!==0))return u}return n.length===i.length?0:n.length>i.length?1:-1}function _f(e){var t=["boolean","number","string","object"],n=t.indexOf(typeof e);if(~n)return e===null?1:Array.isArray(e)?5:n<3?n+2:n+3;if(Array.isArray(e))return 5}function IE(e){if(e===0)return"1";var t=e.toExponential().split(/e\+?/),n=parseInt(t[1],10),i=e<0,o=i?"0":"2",l=(i?-n:n)-$0,u=AE(l.toString(),"0",wf);o+=xf+u;var f=Math.abs(parseFloat(t[0]));i&&(f=10-f);var d=f.toFixed(20);return d=d.replace(/\.?0+$/,""),o+=xf+d,o}function $E(e){function t(n){return e.map(function(i){var o=L0(i),l=Td(o),u=Cd(n,l);return u})}return function(n,i){var o=t(n.doc),l=t(i.doc),u=tt(o,l);return u!==0?u:wE(n.doc._id,i.doc._id)}}function BE(e,t,n){if(e=e.filter(function(u){return Di(u.doc,t.selector,n)}),t.sort){var i=$E(t.sort);e=e.sort(i),typeof t.sort[0]!="string"&&_E(t.sort[0])==="desc"&&(e=e.reverse())}if("limit"in t||"skip"in t){var o=t.skip||0,l=("limit"in t?t.limit:e.length)+o;e=e.slice(o,l)}return e}function Di(e,t,n){return n.every(function(i){var o=t[i],l=Td(i),u=Cd(e,l);return D0(i)?FE(i,o,e):Ya(o,e,l,u)})}function Ya(e,t,n,i){return e?typeof e=="object"?Object.keys(e).every(function(o){var l=e[o];if(o.indexOf("$")===0)return Bv(o,t,l,n,i);var u=Td(o);if(i===void 0&&typeof l!="object"&&u.length>0)return!1;var f=Cd(i,u);return typeof l=="object"?Ya(l,t,n,f):Bv("$eq",t,l,u,f)}):e===i:!0}function FE(e,t,n){return e==="$or"?t.some(function(i){return Di(n,i,Object.keys(i))}):e==="$not"?!Di(n,t,Object.keys(t)):!t.find(function(i){return Di(n,i,Object.keys(i))})}function Bv(e,t,n,i,o){if(!Vv[e])throw new Error('unknown operator "'+e+'" - should be one of $eq, $lte, $lt, $gt, $gte, $exists, $ne, $in, $nin, $size, $mod, $regex, $elemMatch, $type, $allMatch or $all');return Vv[e](t,n,i,o)}function Ds(e){return typeof e<"u"&&e!==null}function Or(e){return typeof e<"u"}function VE(e,t){if(typeof e!="number"||parseInt(e,10)!==e)return!1;var n=t[0],i=t[1];return e%n===i}function Fv(e,t){return t.some(function(n){return e instanceof Array?e.some(function(i){return tt(n,i)===0}):tt(n,e)===0})}function UE(e,t){return t.every(function(n){return e.some(function(i){return tt(n,i)===0})})}function zE(e,t){return e.length===t}function qE(e,t){var n=new RegExp(t);return n.test(e)}function KE(e,t){switch(t){case"null":return e===null;case"boolean":return typeof e=="boolean";case"number":return typeof e=="number";case"string":return typeof e=="string";case"array":return e instanceof Array;case"object":return{}.toString.call(e)==="[object Object]"}}var Vv={$elemMatch:function(e,t,n,i){return!Array.isArray(i)||i.length===0?!1:typeof i[0]=="object"&&i[0]!==null?i.some(function(o){return Di(o,t,Object.keys(t))}):i.some(function(o){return Ya(t,e,n,o)})},$allMatch:function(e,t,n,i){return!Array.isArray(i)||i.length===0?!1:typeof i[0]=="object"&&i[0]!==null?i.every(function(o){return Di(o,t,Object.keys(t))}):i.every(function(o){return Ya(t,e,n,o)})},$eq:function(e,t,n,i){return Or(i)&&tt(i,t)===0},$gte:function(e,t,n,i){return Or(i)&&tt(i,t)>=0},$gt:function(e,t,n,i){return Or(i)&&tt(i,t)>0},$lte:function(e,t,n,i){return Or(i)&&tt(i,t)<=0},$lt:function(e,t,n,i){return Or(i)&&tt(i,t)<0},$exists:function(e,t,n,i){return t?Or(i):!Or(i)},$mod:function(e,t,n,i){return Ds(i)&&VE(i,t)},$ne:function(e,t,n,i){return t.every(function(o){return tt(i,o)!==0})},$in:function(e,t,n,i){return Ds(i)&&Fv(i,t)},$nin:function(e,t,n,i){return Ds(i)&&!Fv(i,t)},$size:function(e,t,n,i){return Ds(i)&&Array.isArray(i)&&zE(i,t)},$all:function(e,t,n,i){return Array.isArray(i)&&UE(i,t)},$regex:function(e,t,n,i){return Ds(i)&&typeof i=="string"&&t.every(function(o){return qE(i,o)})},$type:function(e,t,n,i){return KE(i,t)}};function WE(e,t){if(typeof t!="object")throw new Error("Selector error: expected a JSON object");t=TE(t);var n={doc:e},i=BE([n],{selector:t},Object.keys(t));return i&&i.length===1}function HE(e){return yd(`"use strict";
return `+e+";",{})}function GE(e){var t=["return function(doc) {",'  "use strict";',"  var emitted = false;","  var emit = function (a, b) {","    emitted = true;","  };","  var view = "+e+";","  view(doc);","  if (emitted) {","    return true;","  }","};"].join(`
`);return yd(t,{})}function QE(e,t){if(e.selector&&e.filter&&e.filter!=="_selector"){var n=typeof e.filter=="string"?e.filter:"function";return t(new Error('selector invalid for filter "'+n+'"'))}t()}function JE(e){e.view&&!e.filter&&(e.filter="_view"),e.selector&&!e.filter&&(e.filter="_selector"),e.filter&&typeof e.filter=="string"&&(e.filter==="_view"?e.view=Rv(e.view):e.filter=Rv(e.filter))}function XE(e,t){return t.filter&&typeof t.filter=="string"&&!t.doc_ids&&!Tn(e.db)}function YE(e,t){var n=t.complete;if(t.filter==="_view"){if(!t.view||typeof t.view!="string"){var i=Te(pl,"`view` filter parameter not found or invalid.");return n(i)}var o=yf(t.view);e.db.get("_design/"+o[0],function(u,f){if(e.isCancelled)return n(null,{status:"cancelled"});if(u)return n(Ii(u));var d=f&&f.views&&f.views[o[1]]&&f.views[o[1]].map;if(!d)return n(Te(tn,f.views?"missing json key: "+o[1]:"missing json key: views"));t.filter=GE(d),e.doChanges(t)})}else if(t.selector)t.filter=function(u){return WE(u,t.selector)},e.doChanges(t);else{var l=yf(t.filter);e.db.get("_design/"+l[0],function(u,f){if(e.isCancelled)return n(null,{status:"cancelled"});if(u)return n(Ii(u));var d=f&&f.filters&&f.filters[l[1]];if(!d)return n(Te(tn,f&&f.filters?"missing json key: "+l[1]:"missing json key: filters"));t.filter=HE(d),e.doChanges(t)})}}function ZE(e){e._changesFilterPlugin={validate:QE,normalize:JE,shouldFilter:XE,filter:YE}}Pe.plugin(ZE);Pe.version=gE;function eC(e,t,n){return new Promise(function(i){var o=wd([""]);let l;{const u=n;l=e.objectStore(t).put(o,u)}l.onsuccess=function(){var u=navigator.userAgent.match(/Chrome\/(\d+)/),f=navigator.userAgent.match(/Edge\//);i(f||!u||parseInt(u[1],10)>=43)},l.onerror=e.onabort=function(u){u.preventDefault(),u.stopPropagation(),i(!1)}}).catch(function(){return!1})}function B0(e){return e.reduce(function(t,n){return t[n]=!0,t},{})}var tC=B0(["_id","_rev","_access","_attachments","_deleted","_revisions","_revs_info","_conflicts","_deleted_conflicts","_local_seq","_rev_tree","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats","_removed"]),nC=B0(["_access","_attachments","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats"]);function Uv(e){if(!/^\d+-/.test(e))return Te(Ba);var t=e.indexOf("-"),n=e.substring(0,t),i=e.substring(t+1);return{prefix:parseInt(n,10),id:i}}function rC(e,t){for(var n=e.start-e.ids.length+1,i=e.ids,o=[i[0],t,[]],l=1,u=i.length;l<u;l++)o=[i[l],{status:"missing"},[o]];return[{pos:n,ids:o}]}function F0(e,t,n){n||(n={deterministic_revs:!0});var i,o,l,u={status:"available"};if(e._deleted&&(u.deleted=!0),t)if(e._id||(e._id=ml()),o=C0(e,n.deterministic_revs),e._rev){if(l=Uv(e._rev),l.error)return l;e._rev_tree=[{pos:l.prefix,ids:[l.id,{status:"missing"},[[o,u,[]]]]}],i=l.prefix+1}else e._rev_tree=[{pos:1,ids:[o,u,[]]}],i=1;else if(e._revisions&&(e._rev_tree=rC(e._revisions,u),i=e._revisions.start,o=e._revisions.ids[0]),!e._rev_tree){if(l=Uv(e._rev),l.error)return l;i=l.prefix,o=l.id,e._rev_tree=[{pos:i,ids:[o,u,[]]}]}_0(e._id),e._rev=i+"-"+o;var f={metadata:{},data:{}};for(var d in e)if(Object.prototype.hasOwnProperty.call(e,d)){var m=d[0]==="_";if(m&&!tC[d]){var v=Te(Nv,d);throw v.message=Nv.message+": "+d,v}else m&&!nC[d]?f.metadata[d.slice(1)]=e[d]:f.data[d]=e[d]}return f}function iC(e){try{return gd(e)}catch{var t=Te(x0,"Attachment is not a valid base64 string");return{error:t}}}function sC(e,t,n){var i=iC(e.data);if(i.error)return n(i.error);e.length=i.length,t==="blob"?e.data=xd(i,e.content_type):t==="base64"?e.data=oo(i):e.data=i,kd(i,function(o){e.digest="md5-"+o,n()})}function oC(e,t,n){kd(e.data,function(i){e.digest="md5-"+i,e.length=e.data.size||e.data.length||0,t==="binary"?b0(e.data,function(o){e.data=o,n()}):t==="base64"?Sd(e.data,function(o){e.data=o,n()}):n()})}function aC(e,t,n){if(e.stub)return n();typeof e.data=="string"?sC(e,t,n):oC(e,t,n)}function lC(e,t,n){if(!e.length)return n();var i=0,o;e.forEach(function(u){var f=u.data&&u.data._attachments?Object.keys(u.data._attachments):[],d=0;if(!f.length)return l();function m(p){o=p,d++,d===f.length&&l()}for(var v in u.data._attachments)Object.prototype.hasOwnProperty.call(u.data._attachments,v)&&aC(u.data._attachments[v],t,m)});function l(){i++,e.length===i&&(o?n(o):n())}}function uC(e,t,n,i,o,l,u,f){if(Zb(t.rev_tree,n.metadata.rev)&&!f)return i[o]=n,l();var d=t.winningRev||Hr(t),m="deleted"in t?t.deleted:Fn(t,d),v="deleted"in n.metadata?n.metadata.deleted:Fn(n.metadata),p=/^1-/.test(n.metadata.rev);if(m&&!v&&f&&p){var x=n.data;x._rev=d,x._id=n.metadata.id,n=F0(x,f)}var P=A0(t.rev_tree,n.metadata.rev_tree[0],e),T=f&&(m&&v&&P.conflicts!=="new_leaf"||!m&&P.conflicts!=="new_leaf"||m&&!v&&P.conflicts==="new_branch");if(T){var N=Te(Mi);return i[o]=N,l()}var k=n.metadata.rev;n.metadata.rev_tree=P.tree,n.stemmedRevs=P.stemmedRevs||[],t.rev_map&&(n.metadata.rev_map=t.rev_map);var S=Hr(n.metadata),C=Fn(n.metadata,S),w=m===C?0:m<C?-1:1,g;k===S?g=C:g=Fn(n.metadata,k),u(n,S,C,g,!0,w,o,l)}function cC(e){return e.metadata.rev_tree[0].ids[1].status==="missing"}function fC(e,t,n,i,o,l,u,f,d){e=e||1e3;function m(N,k,S){var C=Hr(N.metadata),w=Fn(N.metadata,C);if("was_delete"in f&&w)return l[k]=Te(tn,"deleted"),S();var g=v&&cC(N);if(g){var _=Te(Mi);return l[k]=_,S()}var E=w?0:1;u(N,C,w,w,!1,E,k,S)}var v=f.new_edits,p=new Map,x=0,P=t.length;function T(){++x===P&&d&&d()}t.forEach(function(N,k){if(N._id&&qr(N._id)){var S=N._deleted?"_removeLocal":"_putLocal";n[S](N,{ctx:o},function(w,g){l[k]=w||g,T()});return}var C=N.metadata.id;p.has(C)?(P--,p.get(C).push([N,k])):p.set(C,[[N,k]])}),p.forEach(function(N,k){var S=0;function C(){++S<N.length?w():T()}function w(){var g=N[S],_=g[0],E=g[1];if(i.has(k))uC(e,i.get(k),_,l,E,C,u,v);else{var $=A0([],_.metadata.rev_tree[0],e);_.metadata.rev_tree=$.tree,_.stemmedRevs=$.stemmedRevs||[],m(_,E,C)}}w()})}var dC=5,st="document-store",xt="by-sequence",nn="attach-store",Fr="attach-seq-store",jt="meta-store",En="local-store",Oc="detect-blob-support";function hC(e){try{return JSON.parse(e)}catch{return p0.parse(e)}}function pC(e){try{return JSON.stringify(e)}catch{return p0.stringify(e)}}function Cn(e){return function(t){var n="unknown_error";t.target&&t.target.error&&(n=t.target.error.name||t.target.error.message),e(Te(md,n,t.type))}}function Sf(e,t,n){return{data:pC(e),winningRev:t,deletedOrLocal:n?"1":"0",seq:e.seq,id:e.id}}function Vr(e){if(!e)return null;var t=hC(e.data);return t.winningRev=e.winningRev,t.deleted=e.deletedOrLocal==="1",t.seq=e.seq,t}function Za(e){if(!e)return e;var t=e._doc_id_rev.lastIndexOf(":");return e._id=e._doc_id_rev.substring(0,t-1),e._rev=e._doc_id_rev.substring(t+1),delete e._doc_id_rev,e}function V0(e,t,n,i){n?i(e?typeof e!="string"?e:_d(e,t):wd([""],{type:t})):e?typeof e!="string"?k0(e,function(o){i(oo(o))}):i(e):i("")}function U0(e,t,n,i){var o=Object.keys(e._attachments||{});if(!o.length)return i&&i();var l=0;function u(){++l===o.length&&i&&i()}function f(d,m){var v=d._attachments[m],p=v.digest,x=n.objectStore(nn).get(p);x.onsuccess=function(P){v.body=P.target.result.body,u()}}o.forEach(function(d){t.attachments&&t.include_docs?f(e,d):(e._attachments[d].stub=!0,u())})}function kf(e,t){return Promise.all(e.map(function(n){if(n.doc&&n.doc._attachments){var i=Object.keys(n.doc._attachments);return Promise.all(i.map(function(o){var l=n.doc._attachments[o];if("body"in l){var u=l.body,f=l.content_type;return new Promise(function(d){V0(u,f,t,function(m){n.doc._attachments[o]=Object.assign(so(l,["digest","content_type"]),{data:m}),d()})})}}))}}))}function z0(e,t,n){var i=[],o=n.objectStore(xt),l=n.objectStore(nn),u=n.objectStore(Fr),f=e.length;function d(){f--,f||m()}function m(){i.length&&i.forEach(function(v){var p=u.index("digestSeq").count(IDBKeyRange.bound(v+"::",v+"::",!1,!1));p.onsuccess=function(x){var P=x.target.result;P||l.delete(v)}})}e.forEach(function(v){var p=o.index("_doc_id_rev"),x=t+"::"+v;p.getKey(x).onsuccess=function(P){var T=P.target.result;if(typeof T!="number")return d();o.delete(T);var N=u.index("seq").openCursor(IDBKeyRange.only(T));N.onsuccess=function(k){var S=k.target.result;if(S){var C=S.value.digestSeq.split("::")[0];i.push(C),u.delete(S.primaryKey),S.continue()}else d()}}})}function vn(e,t,n){try{return{txn:e.transaction(t,n)}}catch(i){return{error:i}}}var zs=new bb;function mC(e,t,n,i,o,l){for(var u=t.docs,f,d,m,v,p,x,P,T,N=0,k=u.length;N<k;N++){var S=u[N];S._id&&qr(S._id)||(S=u[N]=F0(S,n.new_edits,e),S.error&&!P&&(P=S))}if(P)return l(P);var C=!1,w=0,g=new Array(u.length),_=new Map,E=!1,$=i._meta.blobSupport?"blob":"base64";lC(u,$,function(j){if(j)return l(j);I()});function I(){var j=[st,xt,nn,En,Fr,jt],L=vn(o,j,"readwrite");if(L.error)return l(L.error);f=L.txn,f.onabort=Cn(l),f.ontimeout=Cn(l),f.oncomplete=oe,d=f.objectStore(st),m=f.objectStore(xt),v=f.objectStore(nn),p=f.objectStore(Fr),x=f.objectStore(jt),x.get(jt).onsuccess=function(X){T=X.target.result,te()},pe(function(X){if(X)return E=!0,l(X);ce()})}function U(){C=!0,te()}function G(){fC(e.revs_limit,u,i,_,f,g,de,n,U)}function te(){!T||!C||(T.docCount+=w,x.put(T))}function ce(){if(!u.length)return;var j=0;function L(){++j===u.length&&G()}function X(Y){var ee=Vr(Y.target.result);ee&&_.set(ee.id,ee),L()}for(var Z=0,K=u.length;Z<K;Z++){var B=u[Z];if(B._id&&qr(B._id)){L();continue}var q=d.get(B.metadata.id);q.onsuccess=X}}function oe(){E||(zs.notify(i._meta.name),l(null,g))}function ae(j,L){var X=v.get(j);X.onsuccess=function(Z){if(Z.target.result)L();else{var K=Te(Nb,"unknown stub attachment with digest "+j);K.status=412,L(K)}}}function pe(j){var L=[];if(u.forEach(function(B){B.data&&B.data._attachments&&Object.keys(B.data._attachments).forEach(function(q){var Y=B.data._attachments[q];Y.stub&&L.push(Y.digest)})}),!L.length)return j();var X=0,Z;function K(){++X===L.length&&j(Z)}L.forEach(function(B){ae(B,function(q){q&&!Z&&(Z=q),K()})})}function de(j,L,X,Z,K,B,q,Y){j.metadata.winningRev=L,j.metadata.deleted=X;var ee=j.data;ee._id=j.metadata.id,ee._rev=j.metadata.rev,Z&&(ee._deleted=!0);var ie=ee._attachments&&Object.keys(ee._attachments).length;if(ie)return b(j,L,X,K,q,Y);w+=B,te(),ue(j,L,X,K,q,Y)}function ue(j,L,X,Z,K,B){var q=j.data,Y=j.metadata;q._doc_id_rev=Y.id+"::"+Y.rev,delete q._id,delete q._rev;function ee(Oe){var Ke=j.stemmedRevs||[];Z&&i.auto_compaction&&(Ke=Ke.concat(Wb(j.metadata))),Ke&&Ke.length&&z0(Ke,j.metadata.id,f),Y.seq=Oe.target.result;var dt=Sf(Y,L,X),ye=d.put(dt);ye.onsuccess=be}function ie(Oe){Oe.preventDefault(),Oe.stopPropagation();var Ke=m.index("_doc_id_rev"),dt=Ke.getKey(q._doc_id_rev);dt.onsuccess=function(ye){var he=m.put(q,ye.target.result);he.onsuccess=ee}}function be(){g[K]={ok:!0,id:Y.id,rev:Y.rev},_.set(j.metadata.id,j.metadata),R(j,Y.seq,B)}var Ne=m.put(q);Ne.onsuccess=ee,Ne.onerror=ie}function b(j,L,X,Z,K,B){var q=j.data,Y=0,ee=Object.keys(q._attachments);function ie(){Y===ee.length&&ue(j,L,X,Z,K,B)}function be(){Y++,ie()}ee.forEach(function(Ne){var Oe=j.data._attachments[Ne];if(Oe.stub)Y++,ie();else{var Ke=Oe.data;delete Oe.data,Oe.revpos=parseInt(L,10);var dt=Oe.digest;D(dt,Ke,be)}})}function R(j,L,X){var Z=0,K=Object.keys(j.data._attachments||{});if(!K.length)return X();function B(){++Z===K.length&&X()}function q(ee){var ie=j.data._attachments[ee].digest,be=p.put({seq:L,digestSeq:ie+"::"+L});be.onsuccess=B,be.onerror=function(Ne){Ne.preventDefault(),Ne.stopPropagation(),B()}}for(var Y=0;Y<K.length;Y++)q(K[Y])}function D(j,L,X){var Z=v.count(j);Z.onsuccess=function(K){var B=K.target.result;if(B)return X();var q={digest:j,body:L},Y=v.put(q);Y.onsuccess=X}}}function q0(e,t,n,i,o){i===-1&&(i=1e3);var l=typeof e.getAll=="function"&&typeof e.getAllKeys=="function"&&i>1&&!n,u,f,d;function m(P){f=P.target.result,u&&o(u,f,d)}function v(P){u=P.target.result,f&&o(u,f,d)}function p(){if(!u.length)return o();var P=u[u.length-1],T;if(t&&t.upper)try{T=IDBKeyRange.bound(P,t.upper,!0,t.upperOpen)}catch(N){if(N.name==="DataError"&&N.code===0)return o()}else T=IDBKeyRange.lowerBound(P,!0);t=T,u=null,f=null,e.getAll(t,i).onsuccess=m,e.getAllKeys(t,i).onsuccess=v}function x(P){var T=P.target.result;if(!T)return o();o([T.key],[T.value],T)}l?(d={continue:p},e.getAll(t,i).onsuccess=m,e.getAllKeys(t,i).onsuccess=v):n?e.openCursor(t,"prev").onsuccess=x:e.openCursor(t).onsuccess=x}function vC(e,t,n){if(typeof e.getAll=="function"){e.getAll(t).onsuccess=n;return}var i=[];function o(l){var u=l.target.result;u?(i.push(u.value),u.continue()):n({target:{result:i}})}e.openCursor(t).onsuccess=o}function yC(e,t,n){var i=new Array(e.length),o=0;e.forEach(function(l,u){t.get(l).onsuccess=function(f){f.target.result?i[u]=f.target.result:i[u]={key:l,error:"not_found"},o++,o===e.length&&n(e,i,{})}})}function gC(e,t,n,i,o){try{if(e&&t)return o?IDBKeyRange.bound(t,e,!n,!1):IDBKeyRange.bound(e,t,!1,!n);if(e)return o?IDBKeyRange.upperBound(e):IDBKeyRange.lowerBound(e);if(t)return o?IDBKeyRange.lowerBound(t,!n):IDBKeyRange.upperBound(t,!n);if(i)return IDBKeyRange.only(i)}catch(l){return{error:l}}return null}function wC(e,t,n){var i="startkey"in e?e.startkey:!1,o="endkey"in e?e.endkey:!1,l="key"in e?e.key:!1,u="keys"in e?e.keys:!1,f=e.skip||0,d=typeof e.limit=="number"?e.limit:-1,m=e.inclusive_end!==!1,v,p;if(!u&&(v=gC(i,o,m,l,e.descending),p=v&&v.error,p&&!(p.name==="DataError"&&p.code===0)))return n(Te(md,p.name,p.message));var x=[st,xt,jt];e.attachments&&x.push(nn);var P=vn(t,x,"readonly");if(P.error)return n(P.error);var T=P.txn;T.oncomplete=ce,T.onabort=Cn(n);var N=T.objectStore(st),k=T.objectStore(xt),S=T.objectStore(jt),C=k.index("_doc_id_rev"),w=[],g,_;S.get(jt).onsuccess=function(oe){g=oe.target.result.docCount},e.update_seq&&(k.openKeyCursor(null,"prev").onsuccess=oe=>{var ae=oe.target.result;ae&&ae.key&&(_=ae.key)});function E(oe,ae,pe){var de=oe.id+"::"+pe;C.get(de).onsuccess=function(b){if(ae.doc=Za(b.target.result)||{},e.conflicts){var R=Ed(oe);R.length&&(ae.doc._conflicts=R)}U0(ae.doc,e,T)}}function $(oe,ae){var pe={id:ae.id,key:ae.id,value:{rev:oe}},de=ae.deleted;de?u&&(w.push(pe),pe.value.deleted=!0,pe.doc=null):f--<=0&&(w.push(pe),e.include_docs&&E(ae,pe,oe))}function I(oe){for(var ae=0,pe=oe.length;ae<pe&&w.length!==d;ae++){var de=oe[ae];if(de.error&&u){w.push(de);continue}var ue=Vr(de),b=ue.winningRev;$(b,ue)}}function U(oe,ae,pe){pe&&(I(ae),w.length<d&&pe.continue())}function G(oe){var ae=oe.target.result;e.descending&&(ae=ae.reverse()),I(ae)}function te(){var oe={total_rows:g,offset:e.skip,rows:w};e.update_seq&&_!==void 0&&(oe.update_seq=_),n(null,oe)}function ce(){e.attachments?kf(w,e.binary).then(te):te()}if(!(p||d===0)){if(u)return yC(u,N,U);if(d===-1)return vC(N,v,G);q0(N,v,e.descending,d+f,U)}}function xC(e,t){var n=e.objectStore(st).index("deletedOrLocal");n.count(IDBKeyRange.only("0")).onsuccess=function(i){t(i.target.result)}}var bf=!1,Ef=[];function _C(e,t,n,i){try{e(t,n)}catch(o){i.emit("error",o)}}function zv(){bf||!Ef.length||(bf=!0,Ef.shift()())}function SC(e,t,n){Ef.push(function(){e(function(l,u){_C(t,l,u,n),bf=!1,jn(function(){zv()})})}),zv()}function kC(e,t,n,i){if(e=ft(e),e.continuous){var o=n+":"+ml();return zs.addListener(n,o,t,e),zs.notify(n),{cancel:function(){zs.removeListener(n,o)}}}var l=e.doc_ids&&new Set(e.doc_ids);e.since=e.since||0;var u=e.since,f="limit"in e?e.limit:-1;f===0&&(f=1);var d=[],m=0,v=vd(e),p=new Map,x,P,T,N;function k(I,U,G){if(!G||!I.length)return;var te=new Array(I.length),ce=new Array(I.length);function oe(de,ue){var b=e.processChange(ue,de,e);u=b.seq=de.seq;var R=v(b);return typeof R=="object"?Promise.reject(R):R?(m++,e.return_docs&&d.push(b),e.attachments&&e.include_docs?new Promise(function(D){U0(ue,e,x,function(){kf([b],e.binary).then(function(){D(b)})})}):Promise.resolve(b)):Promise.resolve()}function ae(){for(var de=[],ue=0,b=te.length;ue<b&&m!==f;ue++){var R=te[ue];if(R){var D=ce[ue];de.push(oe(D,R))}}Promise.all(de).then(function(j){for(var L=0,X=j.length;L<X;L++)j[L]&&e.onChange(j[L])}).catch(e.complete),m!==f&&G.continue()}var pe=0;U.forEach(function(de,ue){var b=Za(de),R=I[ue];C(b,R,function(D,j){ce[ue]=D,te[ue]=j,++pe===I.length&&ae()})})}function S(I,U,G,te){if(G.seq!==U)return te();if(G.winningRev===I._rev)return te(G,I);var ce=I._id+"::"+G.winningRev,oe=N.get(ce);oe.onsuccess=function(ae){te(G,Za(ae.target.result))}}function C(I,U,G){if(l&&!l.has(I._id))return G();var te=p.get(I._id);if(te)return S(I,U,te,G);T.get(I._id).onsuccess=function(ce){te=Vr(ce.target.result),p.set(I._id,te),S(I,U,te,G)}}function w(){e.complete(null,{results:d,last_seq:u})}function g(){!e.continuous&&e.attachments?kf(d).then(w):w()}var _=[st,xt];e.attachments&&_.push(nn);var E=vn(i,_,"readonly");if(E.error)return e.complete(E.error);x=E.txn,x.onabort=Cn(e.complete),x.oncomplete=g,P=x.objectStore(xt),T=x.objectStore(st),N=P.index("_doc_id_rev");var $=e.since&&!e.descending?IDBKeyRange.lowerBound(e.since,!0):null;q0(P,$,e.descending,f,k)}var Ti=new Map,Dc,Lc=new Map;function K0(e,t){var n=this;SC(function(i){bC(n,e,i)},t,n.constructor)}function bC(e,t,n){var i=t.name,o=null,l=null;e._meta=null;function u(k){return function(S,C){S&&S instanceof Error&&!S.reason&&l&&(S.reason=l),k(S,C)}}function f(k){var S=k.createObjectStore(st,{keyPath:"id"});k.createObjectStore(xt,{autoIncrement:!0}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0}),k.createObjectStore(nn,{keyPath:"digest"}),k.createObjectStore(jt,{keyPath:"id",autoIncrement:!1}),k.createObjectStore(Oc),S.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),k.createObjectStore(En,{keyPath:"_id"});var C=k.createObjectStore(Fr,{autoIncrement:!0});C.createIndex("seq","seq"),C.createIndex("digestSeq","digestSeq",{unique:!0})}function d(k,S){var C=k.objectStore(st);C.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),C.openCursor().onsuccess=function(w){var g=w.target.result;if(g){var _=g.value,E=Fn(_);_.deletedOrLocal=E?"1":"0",C.put(_),g.continue()}else S()}}function m(k){k.createObjectStore(En,{keyPath:"_id"}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0})}function v(k,S){var C=k.objectStore(En),w=k.objectStore(st),g=k.objectStore(xt),_=w.openCursor();_.onsuccess=function(E){var $=E.target.result;if($){var I=$.value,U=I.id,G=qr(U),te=Hr(I);if(G){var ce=U+"::"+te,oe=U+"::",ae=U+"::~",pe=g.index("_doc_id_rev"),de=IDBKeyRange.bound(oe,ae,!1,!1),ue=pe.openCursor(de);ue.onsuccess=function(b){if(ue=b.target.result,!ue)w.delete($.primaryKey),$.continue();else{var R=ue.value;R._doc_id_rev===ce&&C.put(R),g.delete(ue.primaryKey),ue.continue()}}}else $.continue()}else S&&S()}}function p(k){var S=k.createObjectStore(Fr,{autoIncrement:!0});S.createIndex("seq","seq"),S.createIndex("digestSeq","digestSeq",{unique:!0})}function x(k,S){var C=k.objectStore(xt),w=k.objectStore(nn),g=k.objectStore(Fr),_=w.count();_.onsuccess=function(E){var $=E.target.result;if(!$)return S();C.openCursor().onsuccess=function(I){var U=I.target.result;if(!U)return S();for(var G=U.value,te=U.primaryKey,ce=Object.keys(G._attachments||{}),oe={},ae=0;ae<ce.length;ae++){var pe=G._attachments[ce[ae]];oe[pe.digest]=!0}var de=Object.keys(oe);for(ae=0;ae<de.length;ae++){var ue=de[ae];g.put({seq:te,digestSeq:ue+"::"+te})}U.continue()}}}function P(k){function S(_){return _.data?Vr(_):(_.deleted=_.deletedOrLocal==="1",_)}var C=k.objectStore(xt),w=k.objectStore(st),g=w.openCursor();g.onsuccess=function(_){var E=_.target.result;if(!E)return;var $=S(E.value);$.winningRev=$.winningRev||Hr($);function I(){var G=$.id+"::",te=$.id+"::",ce=C.index("_doc_id_rev").openCursor(IDBKeyRange.bound(G,te)),oe=0;ce.onsuccess=function(ae){var pe=ae.target.result;if(!pe)return $.seq=oe,U();var de=pe.primaryKey;de>oe&&(oe=de),pe.continue()}}function U(){var G=Sf($,$.winningRev,$.deleted),te=w.put(G);te.onsuccess=function(){E.continue()}}if($.seq)return U();I()}}e._remote=!1,e.type=function(){return"idb"},e._id=y0(function(k){k(null,e._meta.instanceId)}),e._bulkDocs=function(S,C,w){mC(t,S,C,e,o,u(w))},e._get=function(S,C,w){var g,_,E,$=C.ctx;if(!$){var I=vn(o,[st,xt,nn],"readonly");if(I.error)return w(I.error);$=I.txn}function U(){w(E,{doc:g,metadata:_,ctx:$})}$.objectStore(st).get(S).onsuccess=function(G){if(_=Vr(G.target.result),!_)return E=Te(tn,"missing"),U();var te;if(C.rev)te=C.latest?tE(C.rev,_):C.rev;else{te=_.winningRev;var ce=Fn(_);if(ce)return E=Te(tn,"deleted"),U()}var oe=$.objectStore(xt),ae=_.id+"::"+te;oe.index("_doc_id_rev").get(ae).onsuccess=function(pe){if(g=pe.target.result,g&&(g=Za(g)),!g)return E=Te(tn,"missing"),U();U()}}},e._getAttachment=function(k,S,C,w,g){var _;if(w.ctx)_=w.ctx;else{var E=vn(o,[st,xt,nn],"readonly");if(E.error)return g(E.error);_=E.txn}var $=C.digest,I=C.content_type;_.objectStore(nn).get($).onsuccess=function(U){var G=U.target.result.body;V0(G,I,w.binary,function(te){g(null,te)})}},e._info=function(S){var C,w,g=vn(o,[jt,xt],"readonly");if(g.error)return S(g.error);var _=g.txn;_.objectStore(jt).get(jt).onsuccess=function(E){w=E.target.result.docCount},_.objectStore(xt).openKeyCursor(null,"prev").onsuccess=function(E){var $=E.target.result;C=$?$.key:0},_.oncomplete=function(){S(null,{doc_count:w,update_seq:C,idb_attachment_format:e._meta.blobSupport?"binary":"base64"})}},e._allDocs=function(S,C){wC(S,o,u(C))},e._changes=function(S){return kC(S,e,i,o)},e._close=function(k){o.close(),Ti.delete(i),k()},e._getRevisionTree=function(k,S){var C=vn(o,[st],"readonly");if(C.error)return S(C.error);var w=C.txn,g=w.objectStore(st).get(k);g.onsuccess=function(_){var E=Vr(_.target.result);E?S(null,E.rev_tree):S(Te(tn))}},e._doCompaction=function(k,S,C){var w=[st,xt,nn,Fr],g=vn(o,w,"readwrite");if(g.error)return C(g.error);var _=g.txn,E=_.objectStore(st);E.get(k).onsuccess=function($){var I=Vr($.target.result);Gr(I.rev_tree,function(te,ce,oe,ae,pe){var de=ce+"-"+oe;S.indexOf(de)!==-1&&(pe.status="missing")}),z0(S,k,_);var U=I.winningRev,G=I.deleted;_.objectStore(st).put(Sf(I,U,G))},_.onabort=Cn(C),_.oncomplete=function(){C()}},e._getLocal=function(k,S){var C=vn(o,[En],"readonly");if(C.error)return S(C.error);var w=C.txn,g=w.objectStore(En).get(k);g.onerror=Cn(S),g.onsuccess=function(_){var E=_.target.result;E?(delete E._doc_id_rev,S(null,E)):S(Te(tn))}},e._putLocal=function(k,S,C){typeof S=="function"&&(C=S,S={}),delete k._revisions;var w=k._rev,g=k._id;w?k._rev="0-"+(parseInt(w.split("-")[1],10)+1):k._rev="0-1";var _=S.ctx,E;if(!_){var $=vn(o,[En],"readwrite");if($.error)return C($.error);_=$.txn,_.onerror=Cn(C),_.oncomplete=function(){E&&C(null,E)}}var I=_.objectStore(En),U;w?(U=I.get(g),U.onsuccess=function(G){var te=G.target.result;if(!te||te._rev!==w)C(Te(Mi));else{var ce=I.put(k);ce.onsuccess=function(){E={ok:!0,id:k._id,rev:k._rev},S.ctx&&C(null,E)}}}):(U=I.add(k),U.onerror=function(G){C(Te(Mi)),G.preventDefault(),G.stopPropagation()},U.onsuccess=function(){E={ok:!0,id:k._id,rev:k._rev},S.ctx&&C(null,E)})},e._removeLocal=function(k,S,C){typeof S=="function"&&(C=S,S={});var w=S.ctx;if(!w){var g=vn(o,[En],"readwrite");if(g.error)return C(g.error);w=g.txn,w.oncomplete=function(){_&&C(null,_)}}var _,E=k._id,$=w.objectStore(En),I=$.get(E);I.onerror=Cn(C),I.onsuccess=function(U){var G=U.target.result;!G||G._rev!==k._rev?C(Te(tn)):($.delete(E),_={ok:!0,id:E,rev:"0-0"},S.ctx&&C(null,_))}},e._destroy=function(k,S){zs.removeAllListeners(i);var C=Lc.get(i);C&&C.result&&(C.result.close(),Ti.delete(i));var w=indexedDB.deleteDatabase(i);w.onsuccess=function(){Lc.delete(i),Ja()&&i in localStorage&&delete localStorage[i],S(null,{ok:!0})},w.onerror=Cn(S)};var T=Ti.get(i);if(T)return o=T.idb,e._meta=T.global,jn(function(){n(null,e)});var N=indexedDB.open(i,dC);Lc.set(i,N),N.onupgradeneeded=function(k){var S=k.target.result;if(k.oldVersion<1)return f(S);var C=k.currentTarget.transaction;k.oldVersion<3&&m(S),k.oldVersion<4&&p(S);var w=[d,v,x,P],g=k.oldVersion;function _(){var E=w[g-1];g++,E&&E(C,_)}_()},N.onsuccess=function(k){o=k.target.result,o.onversionchange=function(){o.close(),Ti.delete(i)},o.onabort=function(U){rn("error","Database has a global failure",U.target.error),l=U.target.error,o.close(),Ti.delete(i)};var S=o.transaction([jt,Oc,st],"readwrite"),C=!1,w,g,_,E;function $(){typeof _>"u"||!C||(e._meta={name:i,instanceId:E,blobSupport:_},Ti.set(i,{idb:o,global:e._meta}),n(null,e))}function I(){if(!(typeof g>"u"||typeof w>"u")){var U=i+"_id";U in w?E=w[U]:w[U]=E=ml(),w.docCount=g,S.objectStore(jt).put(w)}}S.objectStore(jt).get(jt).onsuccess=function(U){w=U.target.result||{id:jt},I()},xC(S,function(U){g=U,I()}),Dc||(Dc=eC(S,Oc,"key")),Dc.then(function(U){_=U,$()}),S.oncomplete=function(){C=!0,$()},S.onabort=Cn(n)},N.onerror=function(k){var S=k.target.error&&k.target.error.message;S?S.indexOf("stored database is a higher version")!==-1&&(S=new Error('This DB was created with the newer "indexeddb" adapter, but you are trying to open it with the older "idb" adapter')):S="Failed to open indexedDB, are you in private browsing mode?",rn("error",S),n(Te(md,S))}}K0.valid=function(){try{return typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}};function EC(e){e.adapter("idb",K0,!0)}function CC(e,t){return new Promise(function(n,i){var o=0,l=0,u=0,f=e.length,d;function m(){o++,e[l++]().then(p,x)}function v(){++u===f?d?i(d):n():P()}function p(){o--,v()}function x(T){o--,d=d||T,v()}function P(){for(;o<t&&l<f;)m()}P()})}const TC=25,PC=50,Ra=5e3,AC=1e4,Mc={};function Ic(e){const t=e.doc||e.ok,n=t&&t._attachments;n&&Object.keys(n).forEach(function(i){const o=n[i];o.data=_d(o.data,o.content_type)})}function Dr(e){return/^_design/.test(e)?"_design/"+encodeURIComponent(e.slice(8)):e.startsWith("_local/")?"_local/"+encodeURIComponent(e.slice(7)):encodeURIComponent(e)}function qv(e){return!e._attachments||!Object.keys(e._attachments)?Promise.resolve():Promise.all(Object.keys(e._attachments).map(function(t){const n=e._attachments[t];if(n.data&&typeof n.data!="string")return new Promise(function(i){Sd(n.data,i)}).then(function(i){n.data=i})}))}function jC(e){if(!e.prefix)return!1;const t=S0(e.prefix).protocol;return t==="http"||t==="https"}function NC(e,t){if(jC(t)){const o=t.name.substr(t.prefix.length);e=t.prefix.replace(/\/?$/,"/")+encodeURIComponent(o)}const n=S0(e);(n.user||n.password)&&(n.auth={username:n.user,password:n.password});const i=n.path.replace(/(^\/|\/$)/g,"").split("/");return n.db=i.pop(),n.db.indexOf("%")===-1&&(n.db=encodeURIComponent(n.db)),n.path=i.join("/"),n}function ct(e,t){return Fa(e,e.db+"/"+t)}function Fa(e,t){const n=e.path?"/":"";return e.protocol+"://"+e.host+(e.port?":"+e.port:"")+"/"+e.path+n+t}function Oa(e){const t=Object.keys(e);return t.length===0?"":"?"+t.map(n=>n+"="+encodeURIComponent(e[n])).join("&")}function RC(e){const t=typeof navigator<"u"&&navigator.userAgent?navigator.userAgent.toLowerCase():"",n=t.indexOf("msie")!==-1,i=t.indexOf("trident")!==-1,o=t.indexOf("edge")!==-1,l=!("method"in e)||e.method==="GET";return(n||i||o)&&l}function Cf(e,t){const n=this,i=NC(e.name,e),o=ct(i,"");e=ft(e);const l=async function(p,x){if(x=x||{},x.headers=x.headers||new Oi,x.credentials="include",e.auth||i.auth){const N=e.auth||i.auth,k=N.username+":"+N.password,S=oo(unescape(encodeURIComponent(k)));x.headers.set("Authorization","Basic "+S)}const P=e.headers||{};return Object.keys(P).forEach(function(N){x.headers.append(N,P[N])}),RC(x)&&(p+=(p.indexOf("?")===-1?"?":"&")+"_nonce="+Date.now()),await(e.fetch||O0)(p,x)};function u(p,x){return Ze(p,function(...P){m().then(function(){return x.apply(this,P)}).catch(function(T){P.pop()(T)})}).bind(n)}async function f(p,x){const P={};x=x||{},x.headers=x.headers||new Oi,x.headers.get("Content-Type")||x.headers.set("Content-Type","application/json"),x.headers.get("Accept")||x.headers.set("Accept","application/json");const T=await l(p,x);P.ok=T.ok,P.status=T.status;const N=await T.json();if(P.data=N,!P.ok)throw P.data.status=P.status,Ii(P.data);return Array.isArray(P.data)&&(P.data=P.data.map(function(k){return k.error||k.missing?Ii(k):k})),P}let d;async function m(){return e.skip_setup?Promise.resolve():d||(d=f(o).catch(function(p){return p&&p.status&&p.status===404?(vf(404,"PouchDB is just detecting if the remote exists."),f(o,{method:"PUT"})):Promise.reject(p)}).catch(function(p){return p&&p.status&&p.status===412?!0:Promise.reject(p)}),d.catch(function(){d=null}),d)}jn(function(){t(null,n)}),n._remote=!0,n.type=function(){return"http"},n.id=u("id",async function(p){let x;try{x=await(await l(Fa(i,""))).json()}catch{x={}}const P=x&&x.uuid?x.uuid+i.db:ct(i,"");p(null,P)}),n.compact=u("compact",async function(p,x){typeof p=="function"&&(x=p,p={}),p=ft(p),await f(ct(i,"_compact"),{method:"POST"});function P(){n.info(function(T,N){N&&!N.compact_running?x(null,{ok:!0}):setTimeout(P,p.interval||200)})}P()}),n.bulkGet=Ze("bulkGet",function(p,x){const P=this;async function T(C){const w={};p.revs&&(w.revs=!0),p.attachments&&(w.attachments=!0),p.latest&&(w.latest=!0);try{const g=await f(ct(i,"_bulk_get"+Oa(w)),{method:"POST",body:JSON.stringify({docs:p.docs})});p.attachments&&p.binary&&g.data.results.forEach(function(_){_.docs.forEach(Ic)}),C(null,g.data)}catch(g){C(g)}}function N(){const C=PC,w=Math.ceil(p.docs.length/C);let g=0;const _=new Array(w);function E($){return function(I,U){_[$]=U.results,++g===w&&x(null,{results:_.flat()})}}for(let $=0;$<w;$++){const I=so(p,["revs","attachments","binary","latest"]);I.docs=p.docs.slice($*C,Math.min(p.docs.length,($+1)*C)),g0(P,I,E($))}}const k=Fa(i,""),S=Mc[k];typeof S!="boolean"?T(function(C,w){C?(Mc[k]=!1,vf(C.status,"PouchDB is just detecting if the remote supports the _bulk_get API."),N()):(Mc[k]=!0,x(null,w))}):S?T(x):N()}),n._info=async function(p){try{await m();const P=await(await l(ct(i,""))).json();P.host=ct(i,""),p(null,P)}catch(x){p(x)}},n.fetch=async function(p,x){await m();const P=p.substring(0,1)==="/"?Fa(i,p.substring(1)):ct(i,p);return l(P,x)},n.get=u("get",async function(p,x,P){typeof x=="function"&&(P=x,x={}),x=ft(x);const T={};x.revs&&(T.revs=!0),x.revs_info&&(T.revs_info=!0),x.latest&&(T.latest=!0),x.open_revs&&(x.open_revs!=="all"&&(x.open_revs=JSON.stringify(x.open_revs)),T.open_revs=x.open_revs),x.rev&&(T.rev=x.rev),x.conflicts&&(T.conflicts=x.conflicts),x.update_seq&&(T.update_seq=x.update_seq),p=Dr(p);function N(C){const w=C._attachments,g=w&&Object.keys(w);if(!w||!g.length)return;async function _($){const I=w[$],U=Dr(C._id)+"/"+v($)+"?rev="+C._rev,G=await l(ct(i,U));let te;"buffer"in G?te=await G.buffer():te=await G.blob();let ce;if(x.binary){const oe=Object.getOwnPropertyDescriptor(te.__proto__,"type");(!oe||oe.set)&&(te.type=I.content_type),ce=te}else ce=await new Promise(function(oe){Sd(te,oe)});delete I.stub,delete I.length,I.data=ce}const E=g.map(function($){return function(){return _($)}});return CC(E,5)}function k(C){return Array.isArray(C)?Promise.all(C.map(function(w){if(w.ok)return N(w.ok)})):N(C)}const S=ct(i,p+Oa(T));try{const C=await f(S);x.attachments&&await k(C.data),P(null,C.data)}catch(C){C.docId=p,P(C)}}),n.remove=u("remove",async function(p,x,P,T){let N;typeof x=="string"?(N={_id:p,_rev:x},typeof P=="function"&&(T=P,P={})):(N=p,typeof x=="function"?(T=x,P={}):(T=P,P=x));const k=N._rev||P.rev,S=ct(i,Dr(N._id))+"?rev="+k;try{const C=await f(S,{method:"DELETE"});T(null,C.data)}catch(C){T(C)}});function v(p){return p.split("/").map(encodeURIComponent).join("/")}n.getAttachment=u("getAttachment",async function(p,x,P,T){typeof P=="function"&&(T=P,P={});const N=P.rev?"?rev="+P.rev:"",k=ct(i,Dr(p))+"/"+v(x)+N;let S;try{const C=await l(k,{method:"GET"});if(!C.ok)throw C;S=C.headers.get("content-type");let w;if(typeof process<"u"&&!process.browser&&typeof C.buffer=="function"?w=await C.buffer():w=await C.blob(),typeof process<"u"&&!process.browser){const g=Object.getOwnPropertyDescriptor(w.__proto__,"type");(!g||g.set)&&(w.type=S)}T(null,w)}catch(C){T(C)}}),n.removeAttachment=u("removeAttachment",async function(p,x,P,T){const N=ct(i,Dr(p)+"/"+v(x))+"?rev="+P;try{const k=await f(N,{method:"DELETE"});T(null,k.data)}catch(k){T(k)}}),n.putAttachment=u("putAttachment",async function(p,x,P,T,N,k){typeof N=="function"&&(k=N,N=T,T=P,P=null);const S=Dr(p)+"/"+v(x);let C=ct(i,S);if(P&&(C+="?rev="+P),typeof T=="string"){let w;try{w=gd(T)}catch{return k(Te(x0,"Attachment is not a valid base64 string"))}T=w?xd(w,N):""}try{const w=await f(C,{headers:new Oi({"Content-Type":N}),method:"PUT",body:T});k(null,w.data)}catch(w){k(w)}}),n._bulkDocs=async function(p,x,P){p.new_edits=x.new_edits;try{await m(),await Promise.all(p.docs.map(qv));const T=await f(ct(i,"_bulk_docs"),{method:"POST",body:JSON.stringify(p)});P(null,T.data)}catch(T){P(T)}},n._put=async function(p,x,P){try{await m(),await qv(p);const T=await f(ct(i,Dr(p._id)),{method:"PUT",body:JSON.stringify(p)});P(null,T.data)}catch(T){T.docId=p&&p._id,P(T)}},n.allDocs=u("allDocs",async function(p,x){typeof p=="function"&&(x=p,p={}),p=ft(p);const P={};let T,N="GET";p.conflicts&&(P.conflicts=!0),p.update_seq&&(P.update_seq=!0),p.descending&&(P.descending=!0),p.include_docs&&(P.include_docs=!0),p.attachments&&(P.attachments=!0),p.key&&(P.key=JSON.stringify(p.key)),p.start_key&&(p.startkey=p.start_key),p.startkey&&(P.startkey=JSON.stringify(p.startkey)),p.end_key&&(p.endkey=p.end_key),p.endkey&&(P.endkey=JSON.stringify(p.endkey)),typeof p.inclusive_end<"u"&&(P.inclusive_end=!!p.inclusive_end),typeof p.limit<"u"&&(P.limit=p.limit),typeof p.skip<"u"&&(P.skip=p.skip);const k=Oa(P);typeof p.keys<"u"&&(N="POST",T={keys:p.keys});try{const S=await f(ct(i,"_all_docs"+k),{method:N,body:JSON.stringify(T)});p.include_docs&&p.attachments&&p.binary&&S.data.rows.forEach(Ic),x(null,S.data)}catch(S){x(S)}}),n._changes=function(p){const x="batch_size"in p?p.batch_size:TC;p=ft(p),p.continuous&&!("heartbeat"in p)&&(p.heartbeat=AC);let P="timeout"in p?p.timeout:30*1e3;"timeout"in p&&p.timeout&&P-p.timeout<Ra&&(P=p.timeout+Ra),"heartbeat"in p&&p.heartbeat&&P-p.heartbeat<Ra&&(P=p.heartbeat+Ra);const T={};"timeout"in p&&p.timeout&&(T.timeout=p.timeout);const N=typeof p.limit<"u"?p.limit:!1;let k=N;if(p.style&&(T.style=p.style),(p.include_docs||p.filter&&typeof p.filter=="function")&&(T.include_docs=!0),p.attachments&&(T.attachments=!0),p.continuous&&(T.feed="longpoll"),p.seq_interval&&(T.seq_interval=p.seq_interval),p.conflicts&&(T.conflicts=!0),p.descending&&(T.descending=!0),p.update_seq&&(T.update_seq=!0),"heartbeat"in p&&p.heartbeat&&(T.heartbeat=p.heartbeat),p.filter&&typeof p.filter=="string"&&(T.filter=p.filter),p.view&&typeof p.view=="string"&&(T.filter="_view",T.view=p.view),p.query_params&&typeof p.query_params=="object")for(const I in p.query_params)Object.prototype.hasOwnProperty.call(p.query_params,I)&&(T[I]=p.query_params[I]);let S="GET",C;p.doc_ids?(T.filter="_doc_ids",S="POST",C={doc_ids:p.doc_ids}):p.selector&&(T.filter="_selector",S="POST",C={selector:p.selector});const w=new AbortController;let g;const _=async function(I,U){if(p.aborted)return;T.since=I,typeof T.since=="object"&&(T.since=JSON.stringify(T.since)),p.descending?N&&(T.limit=k):T.limit=!N||k>x?x:k;const G=ct(i,"_changes"+Oa(T)),te={signal:w.signal,method:S,body:JSON.stringify(C)};if(g=I,!p.aborted)try{await m();const ce=await f(G,te);U(null,ce.data)}catch(ce){U(ce)}},E={results:[]},$=function(I,U){if(p.aborted)return;let G=0;if(U&&U.results){G=U.results.length,E.last_seq=U.last_seq;let ce=null,oe=null;typeof U.pending=="number"&&(ce=U.pending),(typeof E.last_seq=="string"||typeof E.last_seq=="number")&&(oe=E.last_seq),p.query_params,U.results=U.results.filter(function(ae){k--;const pe=vd(p)(ae);return pe&&(p.include_docs&&p.attachments&&p.binary&&Ic(ae),p.return_docs&&E.results.push(ae),p.onChange(ae,ce,oe)),pe})}else if(I){p.aborted=!0,p.complete(I);return}U&&U.last_seq&&(g=U.last_seq);const te=N&&k<=0||U&&G<x||p.descending;p.continuous&&!(N&&k<=0)||!te?jn(function(){_(g,$)}):p.complete(null,E)};return _(p.since||0,$),{cancel:function(){p.aborted=!0,w.abort()}}},n.revsDiff=u("revsDiff",async function(p,x,P){typeof x=="function"&&(P=x,x={});try{const T=await f(ct(i,"_revs_diff"),{method:"POST",body:JSON.stringify(p)});P(null,T.data)}catch(T){P(T)}}),n._close=function(p){p()},n._destroy=async function(p,x){try{const P=await f(ct(i,""),{method:"DELETE"});x(null,P)}catch(P){P.status===404?x(null,{ok:!0}):x(P)}}}Cf.valid=function(){return!0};function OC(e){e.adapter("http",Cf,!1),e.adapter("https",Cf,!1)}let Ls=class W0 extends Error{constructor(t){super(),this.status=400,this.name="query_parse_error",this.message=t,this.error=!0;try{Error.captureStackTrace(this,W0)}catch{}}},H0=class G0 extends Error{constructor(t){super(),this.status=404,this.name="not_found",this.message=t,this.error=!0;try{Error.captureStackTrace(this,G0)}catch{}}},Q0=class J0 extends Error{constructor(t){super(),this.status=500,this.name="invalid_value",this.message=t,this.error=!0;try{Error.captureStackTrace(this,J0)}catch{}}};function X0(e,t){return t&&e.then(function(n){jn(function(){t(null,n)})},function(n){jn(function(){t(n)})}),e}function DC(e){return function(...t){var n=t.pop(),i=e.apply(this,t);return typeof n=="function"&&X0(i,n),i}}function LC(e,t){return e.then(function(n){return t().then(function(){return n})},function(n){return t().then(function(){throw n})})}function $c(e,t){return function(){var n=arguments,i=this;return e.add(function(){return t.apply(i,n)})}}function Kv(e){var t=new Set(e),n=new Array(t.size),i=-1;return t.forEach(function(o){n[++i]=o}),n}function Bc(e){var t=new Array(e.size),n=-1;return e.forEach(function(i,o){t[++n]=o}),t}function Wv(e){var t="builtin "+e+" function requires map values to be numbers or number arrays";return new Q0(t)}function Tf(e){for(var t=0,n=0,i=e.length;n<i;n++){var o=e[n];if(typeof o!="number")if(Array.isArray(o)){t=typeof t=="number"?[t]:t;for(var l=0,u=o.length;l<u;l++){var f=o[l];if(typeof f!="number")throw Wv("_sum");typeof t[l]>"u"?t.push(f):t[l]+=f}}else throw Wv("_sum");else typeof t=="number"?t+=o:t[0]+=o}return t}var MC=rn.bind(null,"log"),IC=Array.isArray,$C=JSON.parse;function Y0(e,t){return yd("return ("+e.replace(/;\s*$/,"")+");",{emit:t,sum:Tf,log:MC,isArray:IC,toJSON:$C})}let Pf=class{constructor(){this.promise=Promise.resolve()}add(t){return this.promise=this.promise.catch(()=>{}).then(()=>t()),this.promise}finish(){return this.promise}};function Hv(e){if(!e)return"undefined";switch(typeof e){case"function":return e.toString();case"string":return e.toString();default:return JSON.stringify(e)}}function BC(e,t){return Hv(e)+Hv(t)+"undefined"}async function Gv(e,t,n,i,o,l){const u=BC(n,i);let f;if(!o&&(f=e._cachedViews=e._cachedViews||{},f[u]))return f[u];const d=e.info().then(async function(m){const v=m.db_name+"-mrview-"+(o?"temp":E0(u));function p(k){k.views=k.views||{};let S=t;S.indexOf("/")===-1&&(S=t+"/"+t);const C=k.views[S]=k.views[S]||{};if(!C[v])return C[v]=!0,k}await Xa(e,"_local/"+l,p);const P=(await e.registerDependentDatabase(v)).db;P.auto_compaction=!0;const T={name:v,db:P,sourceDB:e,adapter:e.adapter,mapFun:n,reduceFun:i};let N;try{N=await T.db.get("_local/lastSeq")}catch(k){if(k.status!==404)throw k}return T.seq=N?N.seq:0,f&&T.db.once("destroyed",function(){delete f[u]}),T});return f&&(f[u]=d),d}const Qv={},Jv=new Pf,FC=50;function Fc(e){return e.indexOf("/")===-1?[e,e]:e.split("/")}function VC(e){return e.length===1&&/^1-/.test(e[0].rev)}function Xv(e,t,n){try{e.emit("error",t)}catch{rn("error",`The user's map/reduce function threw an uncaught error.
You can debug this error by doing:
myDatabase.on('error', function (err) { debugger; });
Please double-check your map/reduce function.`),rn("error",t,n)}}function UC(e,t,n,i){function o(b,R,D){try{R(D)}catch(j){Xv(b,j,{fun:R,doc:D})}}function l(b,R,D,j,L){try{return{output:R(D,j,L)}}catch(X){return Xv(b,X,{fun:R,keys:D,values:j,rereduce:L}),{error:X}}}function u(b,R){const D=tt(b.key,R.key);return D!==0?D:tt(b.value,R.value)}function f(b,R,D){return D=D||0,typeof R=="number"?b.slice(D,R+D):D>0?b.slice(D):b}function d(b){const R=b.value;return R&&typeof R=="object"&&R._id||b.id}function m(b){for(const R of b.rows){const D=R.doc&&R.doc._attachments;if(D)for(const j of Object.keys(D)){const L=D[j];D[j].data=_d(L.data,L.content_type)}}}function v(b){return function(R){return b.include_docs&&b.attachments&&b.binary&&m(R),R}}function p(b,R,D,j){let L=R[b];typeof L<"u"&&(j&&(L=encodeURIComponent(JSON.stringify(L))),D.push(b+"="+L))}function x(b){if(typeof b<"u"){const R=Number(b);return!isNaN(R)&&R===parseInt(b,10)?R:b}}function P(b){return b.group_level=x(b.group_level),b.limit=x(b.limit),b.skip=x(b.skip),b}function T(b){if(b){if(typeof b!="number")return new Ls(`Invalid value for integer: "${b}"`);if(b<0)return new Ls(`Invalid value for positive integer: "${b}"`)}}function N(b,R){const D=b.descending?"endkey":"startkey",j=b.descending?"startkey":"endkey";if(typeof b[D]<"u"&&typeof b[j]<"u"&&tt(b[D],b[j])>0)throw new Ls("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(R.reduce&&b.reduce!==!1){if(b.include_docs)throw new Ls("{include_docs:true} is invalid for reduce");if(b.keys&&b.keys.length>1&&!b.group&&!b.group_level)throw new Ls("Multi-key fetches for reduce views must use {group: true}")}for(const L of["group_level","limit","skip"]){const X=T(b[L]);if(X)throw X}}async function k(b,R,D){let j=[],L,X="GET",Z;if(p("reduce",D,j),p("include_docs",D,j),p("attachments",D,j),p("limit",D,j),p("descending",D,j),p("group",D,j),p("group_level",D,j),p("skip",D,j),p("stale",D,j),p("conflicts",D,j),p("startkey",D,j,!0),p("start_key",D,j,!0),p("endkey",D,j,!0),p("end_key",D,j,!0),p("inclusive_end",D,j),p("key",D,j,!0),p("update_seq",D,j),j=j.join("&"),j=j===""?"":"?"+j,typeof D.keys<"u"){const Y=`keys=${encodeURIComponent(JSON.stringify(D.keys))}`;Y.length+j.length+1<=2e3?j+=(j[0]==="?"?"&":"?")+Y:(X="POST",typeof R=="string"?L={keys:D.keys}:R.keys=D.keys)}if(typeof R=="string"){const q=Fc(R),Y=await b.fetch("_design/"+q[0]+"/_view/"+q[1]+j,{headers:new Oi({"Content-Type":"application/json"}),method:X,body:JSON.stringify(L)});Z=Y.ok;const ee=await Y.json();if(!Z)throw ee.status=Y.status,Ii(ee);for(const ie of ee.rows)if(ie.value&&ie.value.error&&ie.value.error==="builtin_reduce_error")throw new Error(ie.reason);return new Promise(function(ie){ie(ee)}).then(v(D))}L=L||{};for(const q of Object.keys(R))Array.isArray(R[q])?L[q]=R[q]:L[q]=R[q].toString();const K=await b.fetch("_temp_view"+j,{headers:new Oi({"Content-Type":"application/json"}),method:"POST",body:JSON.stringify(L)});Z=K.ok;const B=await K.json();if(!Z)throw B.status=K.status,Ii(B);return new Promise(function(q){q(B)}).then(v(D))}function S(b,R,D){return new Promise(function(j,L){b._query(R,D,function(X,Z){if(X)return L(X);j(Z)})})}function C(b){return new Promise(function(R,D){b._viewCleanup(function(j,L){if(j)return D(j);R(L)})})}function w(b){return function(R){if(R.status===404)return b;throw R}}async function g(b,R,D){const j="_local/doc_"+b,L={_id:j,keys:[]},X=D.get(b),Z=X[0],K=X[1];function B(){return VC(K)?Promise.resolve(L):R.db.get(j).catch(w(L))}function q(be){return be.keys.length?R.db.allDocs({keys:be.keys,include_docs:!0}):Promise.resolve({rows:[]})}function Y(be,Ne){const Oe=[],Ke=new Set;for(const ye of Ne.rows){const he=ye.doc;if(he&&(Oe.push(he),Ke.add(he._id),he._deleted=!Z.has(he._id),!he._deleted)){const we=Z.get(he._id);"value"in we&&(he.value=we.value)}}const dt=Bc(Z);for(const ye of dt)if(!Ke.has(ye)){const he={_id:ye},we=Z.get(ye);"value"in we&&(he.value=we.value),Oe.push(he)}return be.keys=Kv(dt.concat(be.keys)),Oe.push(be),Oe}const ee=await B(),ie=await q(ee);return Y(ee,ie)}function _(b){return b.sourceDB.get("_local/purges").then(function(R){const D=R.purgeSeq;return b.db.get("_local/purgeSeq").then(function(j){return j._rev}).catch(w(void 0)).then(function(j){return b.db.put({_id:"_local/purgeSeq",_rev:j,purgeSeq:D})})}).catch(function(R){if(R.status!==404)throw R})}function E(b,R,D){var j="_local/lastSeq";return b.db.get(j).catch(w({_id:j,seq:0})).then(function(L){var X=Bc(R);return Promise.all(X.map(function(Z){return g(Z,b,R)})).then(function(Z){var K=Z.flat();return L.seq=D,K.push(L),b.db.bulkDocs({docs:K})}).then(()=>_(b))})}function $(b){const R=typeof b=="string"?b:b.name;let D=Qv[R];return D||(D=Qv[R]=new Pf),D}async function I(b,R){return $c($(b),function(){return U(b,R)})()}async function U(b,R){let D,j,L;function X(ye,he){const we={id:j._id,key:Qr(ye)};typeof he<"u"&&he!==null&&(we.value=Qr(he)),D.push(we)}const Z=t(b.mapFun,X);let K=b.seq||0;function B(){return b.sourceDB.info().then(function(ye){L=b.sourceDB.activeTasks.add({name:"view_indexing",total_items:ye.update_seq-K})})}function q(ye,he){return function(){return E(b,ye,he)}}let Y=0;const ee={view:b.name,indexed_docs:Y};b.sourceDB.emit("indexing",ee);const ie=new Pf;async function be(){const ye=await b.sourceDB.changes({return_docs:!0,conflicts:!0,include_docs:!0,style:"all_docs",since:K,limit:R.changes_batch_size}),he=await Ne();return Oe(ye,he)}function Ne(){return b.db.get("_local/purgeSeq").then(function(ye){return ye.purgeSeq}).catch(w(-1)).then(function(ye){return b.sourceDB.get("_local/purges").then(function(he){const we=he.purges.filter(function(Le,Ce){return Ce>ye}).map(Le=>Le.docId),Ie=we.filter(function(Le,Ce){return we.indexOf(Le)===Ce});return Promise.all(Ie.map(function(Le){return b.sourceDB.get(Le).then(function(Ce){return{docId:Le,doc:Ce}}).catch(w({docId:Le}))}))}).catch(w([]))})}function Oe(ye,he){const we=ye.results;if(!we.length&&!he.length)return;for(const Ce of he)if(we.findIndex(function(Nt){return Nt.id===Ce.docId})<0){const Nt={_id:Ce.docId,doc:{_id:Ce.docId,_deleted:1},changes:[]};Ce.doc&&(Nt.doc=Ce.doc,Nt.changes.push({rev:Ce.doc._rev})),we.push(Nt)}const Ie=Ke(we);ie.add(q(Ie,K)),Y=Y+we.length;const Le={view:b.name,last_seq:ye.last_seq,results_count:we.length,indexed_docs:Y};if(b.sourceDB.emit("indexing",Le),b.sourceDB.activeTasks.update(L,{completed_items:Y}),!(we.length<R.changes_batch_size))return be()}function Ke(ye){const he=new Map;for(const we of ye){if(we.doc._id[0]!=="_"){D=[],j=we.doc,j._deleted||o(b.sourceDB,Z,j),D.sort(u);const Ie=dt(D);he.set(we.doc._id,[Ie,we.changes])}K=we.seq}return he}function dt(ye){const he=new Map;let we;for(let Ie=0,Le=ye.length;Ie<Le;Ie++){const Ce=ye[Ie],sn=[Ce.key,Ce.id];Ie>0&&tt(Ce.key,we)===0&&sn.push(Ie),he.set(mn(sn),Ce),we=Ce.key}return he}try{await B(),await be(),await ie.finish(),b.seq=K,b.sourceDB.activeTasks.remove(L)}catch(ye){b.sourceDB.activeTasks.remove(L,ye)}}function G(b,R,D){D.group_level===0&&delete D.group_level;const j=D.group||D.group_level,L=n(b.reduceFun),X=[],Z=isNaN(D.group_level)?Number.POSITIVE_INFINITY:D.group_level;for(const K of R){const B=X[X.length-1];let q=j?K.key:null;if(j&&Array.isArray(q)&&(q=q.slice(0,Z)),B&&tt(B.groupKey,q)===0){B.keys.push([K.key,K.id]),B.values.push(K.value);continue}X.push({keys:[[K.key,K.id]],values:[K.value],groupKey:q})}R=[];for(const K of X){const B=l(b.sourceDB,L,K.keys,K.values,!1);if(B.error&&B.error instanceof Q0)throw B.error;R.push({value:B.error?null:B.output,key:K.groupKey})}return{rows:f(R,D.limit,D.skip)}}function te(b,R){return $c($(b),function(){return ce(b,R)})()}async function ce(b,R){let D;const j=b.reduceFun&&R.reduce!==!1,L=R.skip||0;typeof R.keys<"u"&&!R.keys.length&&(R.limit=0,delete R.keys);async function X(K){K.include_docs=!0;const B=await b.db.allDocs(K);return D=B.total_rows,B.rows.map(function(q){if("value"in q.doc&&typeof q.doc.value=="object"&&q.doc.value!==null){const ee=Object.keys(q.doc.value).sort(),ie=["id","key","value"];if(!(ee<ie||ee>ie))return q.doc.value}const Y=OE(q.doc._id);return{key:Y[0],id:Y[1],value:"value"in q.doc?q.doc.value:null}})}async function Z(K){let B;if(j?B=G(b,K,R):typeof R.keys>"u"?B={total_rows:D,offset:L,rows:K}:B={total_rows:D,offset:L,rows:f(K,R.limit,R.skip)},R.update_seq&&(B.update_seq=b.seq),R.include_docs){const q=Kv(K.map(d)),Y=await b.sourceDB.allDocs({keys:q,include_docs:!0,conflicts:R.conflicts,attachments:R.attachments,binary:R.binary}),ee=new Map;for(const ie of Y.rows)ee.set(ie.id,ie.doc);for(const ie of K){const be=d(ie),Ne=ee.get(be);Ne&&(ie.doc=Ne)}}return B}if(typeof R.keys<"u"){const B=R.keys.map(function(ee){const ie={startkey:mn([ee]),endkey:mn([ee,{}])};return R.update_seq&&(ie.update_seq=!0),X(ie)}),Y=(await Promise.all(B)).flat();return Z(Y)}else{const K={descending:R.descending};R.update_seq&&(K.update_seq=!0);let B,q;if("start_key"in R&&(B=R.start_key),"startkey"in R&&(B=R.startkey),"end_key"in R&&(q=R.end_key),"endkey"in R&&(q=R.endkey),typeof B<"u"&&(K.startkey=R.descending?mn([B,{}]):mn([B])),typeof q<"u"){let ee=R.inclusive_end!==!1;R.descending&&(ee=!ee),K.endkey=mn(ee?[q,{}]:[q])}if(typeof R.key<"u"){const ee=mn([R.key]),ie=mn([R.key,{}]);K.descending?(K.endkey=ee,K.startkey=ie):(K.startkey=ee,K.endkey=ie)}j||(typeof R.limit=="number"&&(K.limit=R.limit),K.skip=L);const Y=await X(K);return Z(Y)}}async function oe(b){return(await b.fetch("_view_cleanup",{headers:new Oi({"Content-Type":"application/json"}),method:"POST"})).json()}async function ae(b){try{const R=await b.get("_local/"+e),D=new Map;for(const B of Object.keys(R.views)){const q=Fc(B),Y="_design/"+q[0],ee=q[1];let ie=D.get(Y);ie||(ie=new Set,D.set(Y,ie)),ie.add(ee)}const j={keys:Bc(D),include_docs:!0},L=await b.allDocs(j),X={};for(const B of L.rows){const q=B.key.substring(8);for(const Y of D.get(B.key)){let ee=q+"/"+Y;R.views[ee]||(ee=Y);const ie=Object.keys(R.views[ee]),be=B.doc&&B.doc.views&&B.doc.views[Y];for(const Ne of ie)X[Ne]=X[Ne]||be}}const K=Object.keys(X).filter(function(B){return!X[B]}).map(function(B){return $c($(B),function(){return new b.constructor(B,b.__opts).destroy()})()});return Promise.all(K).then(function(){return{ok:!0}})}catch(R){if(R.status===404)return{ok:!0};throw R}}async function pe(b,R,D){if(typeof b._query=="function")return S(b,R,D);if(Tn(b))return k(b,R,D);const j={changes_batch_size:b.__opts.view_update_changes_batch_size||FC};if(typeof R!="string")return N(D,R),Jv.add(async function(){const L=await Gv(b,"temp_view/temp_view",R.map,R.reduce,!0,e);return LC(I(L,j).then(function(){return te(L,D)}),function(){return L.db.destroy()})}),Jv.finish();{const L=R,X=Fc(L),Z=X[0],K=X[1],B=await b.get("_design/"+Z);if(R=B.views&&B.views[K],!R)throw new H0(`ddoc ${B._id} has no view named ${K}`);i(B,K),N(D,R);const q=await Gv(b,L,R.map,R.reduce,!1,e);return D.stale==="ok"||D.stale==="update_after"?(D.stale==="update_after"&&jn(function(){I(q,j)}),te(q,D)):(await I(q,j),te(q,D))}}function de(b,R,D){const j=this;typeof R=="function"&&(D=R,R={}),R=R?P(R):{},typeof b=="function"&&(b={map:b});const L=Promise.resolve().then(function(){return pe(j,b,R)});return X0(L,D),L}const ue=DC(function(){const b=this;return typeof b._viewCleanup=="function"?C(b):Tn(b)?oe(b):ae(b)});return{query:de,viewCleanup:ue}}var Vc={_sum:function(e,t){return Tf(t)},_count:function(e,t){return t.length},_stats:function(e,t){function n(i){for(var o=0,l=0,u=i.length;l<u;l++){var f=i[l];o+=f*f}return o}return{sum:Tf(t),min:Math.min.apply(null,t),max:Math.max.apply(null,t),count:t.length,sumsqr:n(t)}}};function zC(e){if(/^_sum/.test(e))return Vc._sum;if(/^_count/.test(e))return Vc._count;if(/^_stats/.test(e))return Vc._stats;if(/^_/.test(e))throw new Error(e+" is not a supported reduce function.")}function qC(e,t){if(typeof e=="function"&&e.length===2){var n=e;return function(i){return n(i,t)}}else return Y0(e.toString(),t)}function KC(e){var t=e.toString(),n=zC(t);return n||Y0(t)}function WC(e,t){var n=e.views&&e.views[t];if(typeof n.map!="string")throw new H0("ddoc "+e._id+" has no string view named "+t+", instead found object of type: "+typeof n.map)}var HC="mrviews",Z0=UC(HC,qC,KC,WC);function GC(e,t,n){return Z0.query.call(this,e,t,n)}function QC(e){return Z0.viewCleanup.call(this,e)}var JC={query:GC,viewCleanup:QC};function XC(e,t,n){return!e._attachments||!e._attachments[n]||e._attachments[n].digest!==t._attachments[n].digest}function Yv(e,t){var n=Object.keys(t._attachments);return Promise.all(n.map(function(i){return e.getAttachment(t._id,i,{rev:t._rev})}))}function YC(e,t,n){var i=Tn(t)&&!Tn(e),o=Object.keys(n._attachments);return i?e.get(n._id).then(function(l){return Promise.all(o.map(function(u){return XC(l,n,u)?t.getAttachment(n._id,u):e.getAttachment(l._id,u)}))}).catch(function(l){if(l.status!==404)throw l;return Yv(t,n)}):Yv(t,n)}function ZC(e){var t=[];return Object.keys(e).forEach(function(n){var i=e[n].missing;i.forEach(function(o){t.push({id:n,rev:o})})}),{docs:t,revs:!0,latest:!0}}function eT(e,t,n,i){n=ft(n);var o=[],l=!0;function u(){var d=ZC(n);if(d.docs.length)return e.bulkGet(d).then(function(m){if(i.cancelled)throw new Error("cancelled");return Promise.all(m.results.map(function(v){return Promise.all(v.docs.map(function(p){var x=p.ok;return p.error&&(l=!1),!x||!x._attachments?x:YC(t,e,x).then(P=>{var T=Object.keys(x._attachments);return P.forEach(function(N,k){var S=x._attachments[T[k]];delete S.stub,delete S.length,S.data=N}),x})}))})).then(function(v){o=o.concat(v.flat().filter(Boolean))})})}function f(){return{ok:l,docs:o}}return Promise.resolve().then(u).then(f)}var Zv=1,ey="pouchdb",tT=5,hn=0;function Af(e,t,n,i,o){return e.get(t).catch(function(l){if(l.status===404)return(e.adapter==="http"||e.adapter==="https")&&vf(404,"PouchDB is just checking if a remote checkpoint exists."),{session_id:i,_id:t,history:[],replicator:ey,version:Zv};throw l}).then(function(l){if(!o.cancelled&&l.last_seq!==n)return l.history=(l.history||[]).filter(function(u){return u.session_id!==i}),l.history.unshift({last_seq:n,session_id:i}),l.history=l.history.slice(0,tT),l.version=Zv,l.replicator=ey,l.session_id=i,l.last_seq=n,e.put(l).catch(function(u){if(u.status===409)return Af(e,t,n,i,o);throw u})})}class ty{constructor(t,n,i,o,l={writeSourceCheckpoint:!0,writeTargetCheckpoint:!0}){this.src=t,this.target=n,this.id=i,this.returnValue=o,this.opts=l,typeof l.writeSourceCheckpoint>"u"&&(l.writeSourceCheckpoint=!0),typeof l.writeTargetCheckpoint>"u"&&(l.writeTargetCheckpoint=!0)}writeCheckpoint(t,n){var i=this;return this.updateTarget(t,n).then(function(){return i.updateSource(t,n)})}updateTarget(t,n){return this.opts.writeTargetCheckpoint?Af(this.target,this.id,t,n,this.returnValue):Promise.resolve(!0)}updateSource(t,n){if(this.opts.writeSourceCheckpoint){var i=this;return Af(this.src,this.id,t,n,this.returnValue).catch(function(o){if(ry(o))return i.opts.writeSourceCheckpoint=!1,!0;throw o})}else return Promise.resolve(!0)}getCheckpoint(){var t=this;return!t.opts.writeSourceCheckpoint&&!t.opts.writeTargetCheckpoint?Promise.resolve(hn):t.opts&&t.opts.writeSourceCheckpoint&&!t.opts.writeTargetCheckpoint?t.src.get(t.id).then(function(n){return n.last_seq||hn}).catch(function(n){if(n.status!==404)throw n;return hn}):t.target.get(t.id).then(function(n){return t.opts&&t.opts.writeTargetCheckpoint&&!t.opts.writeSourceCheckpoint?n.last_seq||hn:t.src.get(t.id).then(function(i){if(n.version!==i.version)return hn;var o;return n.version?o=n.version.toString():o="undefined",o in ny?ny[o](n,i):hn},function(i){if(i.status===404&&n.last_seq)return t.src.put({_id:t.id,last_seq:hn}).then(function(){return hn},function(o){return ry(o)?(t.opts.writeSourceCheckpoint=!1,n.last_seq):hn});throw i})}).catch(function(n){if(n.status!==404)throw n;return hn})}}var ny={undefined:function(e,t){return tt(e.last_seq,t.last_seq)===0?t.last_seq:0},1:function(e,t){return nT(t,e).last_seq}};function nT(e,t){return e.session_id===t.session_id?{last_seq:e.last_seq,history:e.history}:ew(e.history,t.history)}function ew(e,t){var n=e[0],i=e.slice(1),o=t[0],l=t.slice(1);if(!n||t.length===0)return{last_seq:hn,history:[]};var u=n.session_id;if(jf(u,t))return{last_seq:n.last_seq,history:e};var f=o.session_id;return jf(f,i)?{last_seq:o.last_seq,history:l}:ew(i,l)}function jf(e,t){var n=t[0],i=t.slice(1);return!e||t.length===0?!1:e===n.session_id?!0:jf(e,i)}function ry(e){return typeof e.status=="number"&&Math.floor(e.status/100)===4}function tw(e,t,n,i,o){return this instanceof ty?tw:new ty(e,t,n,i,o)}var iy=0;function rT(e,t,n,i){if(e.retry===!1){t.emit("error",n),t.removeAllListeners();return}if(typeof e.back_off_function!="function"&&(e.back_off_function=Cb),t.emit("requestError",n),t.state==="active"||t.state==="pending"){t.emit("paused",n),t.state="stopped";var o=function(){e.current_back_off=iy},l=function(){t.removeListener("active",o)};t.once("paused",l),t.once("active",o)}e.current_back_off=e.current_back_off||iy,e.current_back_off=e.back_off_function(e.current_back_off),setTimeout(i,e.current_back_off)}function iT(e){return Object.keys(e).sort(tt).reduce(function(t,n){return t[n]=e[n],t},{})}function sT(e,t,n){var i=n.doc_ids?n.doc_ids.sort(tt):"",o=n.filter?n.filter.toString():"",l="",u="",f="";return n.selector&&(f=JSON.stringify(n.selector)),n.filter&&n.query_params&&(l=JSON.stringify(iT(n.query_params))),n.filter&&n.filter==="_view"&&(u=n.view.toString()),Promise.all([e.id(),t.id()]).then(function(d){var m=d[0]+d[1]+o+u+l+i+f;return new Promise(function(v){kd(m,v)})}).then(function(d){return d=d.replace(/\//g,".").replace(/\+/g,"_"),"_local/"+d})}function nw(e,t,n,i,o){var l=[],u,f={seq:0,changes:[],docs:[]},d=!1,m=!1,v=!1,p=0,x=0,P=n.continuous||n.live||!1,T=n.batch_size||100,N=n.batches_limit||10,k=n.style||"all_docs",S=!1,C=n.doc_ids,w=n.selector,g,_,E=[],$=ml(),I;o=o||{ok:!0,start_time:new Date().toISOString(),docs_read:0,docs_written:0,doc_write_failures:0,errors:[]};var U={};i.ready(e,t);function G(){return _?Promise.resolve():sT(e,t,n).then(function(B){g=B;var q={};n.checkpoint===!1?q={writeSourceCheckpoint:!1,writeTargetCheckpoint:!1}:n.checkpoint==="source"?q={writeSourceCheckpoint:!0,writeTargetCheckpoint:!1}:n.checkpoint==="target"?q={writeSourceCheckpoint:!1,writeTargetCheckpoint:!0}:q={writeSourceCheckpoint:!0,writeTargetCheckpoint:!0},_=new tw(e,t,g,i,q)})}function te(){if(E=[],u.docs.length!==0){var B=u.docs,q={timeout:n.timeout};return t.bulkDocs({docs:B,new_edits:!1},q).then(function(Y){if(i.cancelled)throw b(),new Error("cancelled");var ee=Object.create(null);Y.forEach(function(be){be.error&&(ee[be.id]=be)});var ie=Object.keys(ee).length;o.doc_write_failures+=ie,o.docs_written+=B.length-ie,B.forEach(function(be){var Ne=ee[be._id];if(Ne){o.errors.push(Ne);var Oe=(Ne.name||"").toLowerCase();if(Oe==="unauthorized"||Oe==="forbidden")i.emit("denied",ft(Ne));else throw Ne}else E.push(be)})},function(Y){throw o.doc_write_failures+=B.length,Y})}}function ce(){if(u.error)throw new Error("There was a problem getting docs.");o.last_seq=x=u.seq;var B=ft(o);return E.length&&(B.docs=E,typeof u.pending=="number"&&(B.pending=u.pending,delete u.pending),i.emit("change",B)),d=!0,e.info().then(function(q){var Y=e.activeTasks.get(I);if(!(!u||!Y)){var ee=Y.completed_items||0,ie=parseInt(q.update_seq,10)-parseInt(p,10);e.activeTasks.update(I,{completed_items:ee+u.changes.length,total_items:ie})}}),_.writeCheckpoint(u.seq,$).then(function(){if(i.emit("checkpoint",{checkpoint:u.seq}),d=!1,i.cancelled)throw b(),new Error("cancelled");u=void 0,L()}).catch(function(q){throw K(q),q})}function oe(){var B={};return u.changes.forEach(function(q){i.emit("checkpoint",{revs_diff:q}),q.id!=="_user/"&&(B[q.id]=q.changes.map(function(Y){return Y.rev}))}),t.revsDiff(B).then(function(q){if(i.cancelled)throw b(),new Error("cancelled");u.diffs=q})}function ae(){return eT(e,t,u.diffs,i).then(function(B){u.error=!B.ok,B.docs.forEach(function(q){delete u.diffs[q._id],o.docs_read++,u.docs.push(q)})})}function pe(){if(!(i.cancelled||u)){if(l.length===0){de(!0);return}u=l.shift(),i.emit("checkpoint",{start_next_batch:u.seq}),oe().then(ae).then(te).then(ce).then(pe).catch(function(B){ue("batch processing terminated with error",B)})}}function de(B){if(f.changes.length===0){l.length===0&&!u&&((P&&U.live||m)&&(i.state="pending",i.emit("paused")),m&&b());return}(B||m||f.changes.length>=T)&&(l.push(f),f={seq:0,changes:[],docs:[]},(i.state==="pending"||i.state==="stopped")&&(i.state="active",i.emit("active")),pe())}function ue(B,q){v||(q.message||(q.message=B),o.ok=!1,o.status="aborting",l=[],f={seq:0,changes:[],docs:[]},b(q))}function b(B){if(!v&&!(i.cancelled&&(o.status="cancelled",d)))if(o.status=o.status||"complete",o.end_time=new Date().toISOString(),o.last_seq=x,v=!0,e.activeTasks.remove(I,B),B){B=Te(B),B.result=o;var q=(B.name||"").toLowerCase();q==="unauthorized"||q==="forbidden"?(i.emit("error",B),i.removeAllListeners()):rT(n,i,B,function(){nw(e,t,n,i)})}else i.emit("complete",o),i.removeAllListeners()}function R(B,q,Y){if(i.cancelled)return b();typeof q=="number"&&(f.pending=q);var ee=vd(n)(B);if(!ee){var ie=e.activeTasks.get(I);if(ie){var be=ie.completed_items||0;e.activeTasks.update(I,{completed_items:++be})}return}f.seq=B.seq||Y,f.changes.push(B),i.emit("checkpoint",{pending_batch:f.seq}),jn(function(){de(l.length===0&&U.live)})}function D(B){if(S=!1,i.cancelled)return b();if(B.results.length>0)U.since=B.results[B.results.length-1].seq,L(),de(!0);else{var q=function(){P?(U.live=!0,L()):m=!0,de(!0)};!u&&B.results.length===0?(d=!0,_.writeCheckpoint(B.last_seq,$).then(function(){if(d=!1,o.last_seq=x=B.last_seq,i.cancelled)throw b(),new Error("cancelled");q()}).catch(K)):q()}}function j(B){if(S=!1,i.cancelled)return b();ue("changes rejected",B)}function L(){if(!(!S&&!m&&l.length<N))return;S=!0;function B(){Y.cancel()}function q(){i.removeListener("cancel",B)}i._changes&&(i.removeListener("cancel",i._abortChanges),i._changes.cancel()),i.once("cancel",B);var Y=e.changes(U).on("change",R);Y.then(q,q),Y.then(D).catch(j),n.retry&&(i._changes=Y,i._abortChanges=B)}function X(B){return e.info().then(function(q){var Y=typeof n.since>"u"?parseInt(q.update_seq,10)-parseInt(B,10):parseInt(q.update_seq,10);return I=e.activeTasks.add({name:`${P?"continuous ":""}replication from ${q.db_name}`,total_items:Y}),B})}function Z(){G().then(function(){if(i.cancelled){b();return}return _.getCheckpoint().then(X).then(function(B){x=B,p=B,U={since:x,limit:T,batch_size:T,style:k,doc_ids:C,selector:w,return_docs:!0},n.filter&&(typeof n.filter!="string"?U.include_docs=!0:U.filter=n.filter),"heartbeat"in n&&(U.heartbeat=n.heartbeat),"timeout"in n&&(U.timeout=n.timeout),n.query_params&&(U.query_params=n.query_params),n.view&&(U.view=n.view),L()})}).catch(function(B){ue("getCheckpoint rejected with ",B)})}function K(B){d=!1,ue("writeCheckpoint completed with error",B)}if(i.cancelled){b();return}i._addedListeners||(i.once("cancel",b),typeof n.complete=="function"&&(i.once("error",n.complete),i.once("complete",function(B){n.complete(null,B)})),i._addedListeners=!0),typeof n.since>"u"?Z():G().then(function(){return d=!0,_.writeCheckpoint(n.since,$)}).then(function(){if(d=!1,i.cancelled){b();return}x=n.since,Z()}).catch(K)}class oT extends zn{constructor(){super(),this.cancelled=!1,this.state="pending";const t=new Promise((n,i)=>{this.once("complete",n),this.once("error",i)});this.then=function(n,i){return t.then(n,i)},this.catch=function(n){return t.catch(n)},this.catch(function(){})}cancel(){this.cancelled=!0,this.state="cancelled",this.emit("cancel")}ready(t,n){if(this._readyCalled)return;this._readyCalled=!0;const i=()=>{this.cancel()};t.once("destroyed",i),n.once("destroyed",i);function o(){t.removeListener("destroyed",i),n.removeListener("destroyed",i)}this.once("complete",o),this.once("error",o)}}function el(e,t){var n=t.PouchConstructor;return typeof e=="string"?new n(e,t):e}function Nf(e,t,n,i){if(typeof n=="function"&&(i=n,n={}),typeof n>"u"&&(n={}),n.doc_ids&&!Array.isArray(n.doc_ids))throw Te(pl,"`doc_ids` filter parameter is not a list.");n.complete=i,n=ft(n),n.continuous=n.continuous||n.live,n.retry="retry"in n?n.retry:!1,n.PouchConstructor=n.PouchConstructor||this;var o=new oT(n),l=el(e,n),u=el(t,n);return nw(l,u,n,o),o}function aT(e,t,n,i){return typeof n=="function"&&(i=n,n={}),typeof n>"u"&&(n={}),n=ft(n),n.PouchConstructor=n.PouchConstructor||this,e=el(e,n),t=el(t,n),new lT(e,t,n,i)}class lT extends zn{constructor(t,n,i,o){super(),this.canceled=!1;const l=i.push?Object.assign({},i,i.push):i,u=i.pull?Object.assign({},i,i.pull):i;this.push=Nf(t,n,l),this.pull=Nf(n,t,u),this.pushPaused=!0,this.pullPaused=!0;const f=w=>{this.emit("change",{direction:"pull",change:w})},d=w=>{this.emit("change",{direction:"push",change:w})},m=w=>{this.emit("denied",{direction:"push",doc:w})},v=w=>{this.emit("denied",{direction:"pull",doc:w})},p=()=>{this.pushPaused=!0,this.pullPaused&&this.emit("paused")},x=()=>{this.pullPaused=!0,this.pushPaused&&this.emit("paused")},P=()=>{this.pushPaused=!1,this.pullPaused&&this.emit("active",{direction:"push"})},T=()=>{this.pullPaused=!1,this.pushPaused&&this.emit("active",{direction:"pull"})};let N={};const k=w=>(g,_)=>{(g==="change"&&(_===f||_===d)||g==="denied"&&(_===v||_===m)||g==="paused"&&(_===x||_===p)||g==="active"&&(_===T||_===P))&&(g in N||(N[g]={}),N[g][w]=!0,Object.keys(N[g]).length===2&&this.removeAllListeners(g))};i.live&&(this.push.on("complete",this.pull.cancel.bind(this.pull)),this.pull.on("complete",this.push.cancel.bind(this.push)));function S(w,g,_){w.listeners(g).indexOf(_)==-1&&w.on(g,_)}this.on("newListener",function(w){w==="change"?(S(this.pull,"change",f),S(this.push,"change",d)):w==="denied"?(S(this.pull,"denied",v),S(this.push,"denied",m)):w==="active"?(S(this.pull,"active",T),S(this.push,"active",P)):w==="paused"&&(S(this.pull,"paused",x),S(this.push,"paused",p))}),this.on("removeListener",function(w){w==="change"?(this.pull.removeListener("change",f),this.push.removeListener("change",d)):w==="denied"?(this.pull.removeListener("denied",v),this.push.removeListener("denied",m)):w==="active"?(this.pull.removeListener("active",T),this.push.removeListener("active",P)):w==="paused"&&(this.pull.removeListener("paused",x),this.push.removeListener("paused",p))}),this.pull.on("removeListener",k("pull")),this.push.on("removeListener",k("push"));const C=Promise.all([this.push,this.pull]).then(w=>{const g={push:w[0],pull:w[1]};return this.emit("complete",g),o&&o(null,g),this.removeAllListeners(),g},w=>{if(this.cancel(),o?o(w):this.emit("error",w),this.removeAllListeners(),o)throw w});this.then=function(w,g){return C.then(w,g)},this.catch=function(w){return C.catch(w)}}cancel(){this.canceled||(this.canceled=!0,this.push.cancel(),this.pull.cancel())}}function uT(e){e.replicate=Nf,e.sync=aT,Object.defineProperty(e.prototype,"replicate",{get:function(){var t=this;return typeof this.replicateMethods>"u"&&(this.replicateMethods={from:function(n,i,o){return t.constructor.replicate(n,t,i,o)},to:function(n,i,o){return t.constructor.replicate(t,n,i,o)}}),this.replicateMethods}}),e.prototype.sync=function(t,n,i){return this.constructor.sync(this,t,n,i)}}Pe.plugin(EC).plugin(OC).plugin(JC).plugin(uT);class ze extends Error{constructor(t,n,i){super(),this.status=t,this.name=n,this.message=i,this.error=!0}toString(){return JSON.stringify({status:this.status,name:this.name,message:this.message,reason:this.reason})}}new ze(401,"unauthorized","Name or password is incorrect.");new ze(400,"bad_request","Missing JSON list of 'docs'");new ze(404,"not_found","missing");new ze(409,"conflict","Document update conflict");new ze(400,"bad_request","_id field must contain a string");new ze(412,"missing_id","_id is required for puts");new ze(400,"bad_request","Only reserved document ids may start with underscore.");new ze(412,"precondition_failed","Database not open");var cT=new ze(500,"unknown_error","Database encountered an unknown error");new ze(500,"badarg","Some query argument is invalid");new ze(400,"invalid_request","Request was invalid");new ze(400,"query_parse_error","Some query parameter is invalid");new ze(500,"doc_validation","Bad special document member");new ze(400,"bad_request","Something wrong with the request");new ze(400,"bad_request","Document must be a JSON object");new ze(404,"not_found","Database not found");new ze(500,"indexed_db_went_bad","unknown");new ze(500,"web_sql_went_bad","unknown");new ze(500,"levelDB_went_went_bad","unknown");new ze(403,"forbidden","Forbidden by design doc validate_doc_update function");new ze(400,"bad_request","Invalid rev format");new ze(412,"file_exists","The database could not be created, the file already exists.");new ze(412,"missing_stub","A pre-existing attachment stub wasn't found");new ze(413,"invalid_url","Provided URL is invalid");function fT(e,t){function n(i){for(var o=Object.getOwnPropertyNames(e),l=0,u=o.length;l<u;l++)typeof e[o[l]]!="function"&&(this[o[l]]=e[o[l]]);this.stack===void 0&&(this.stack=new Error().stack),i!==void 0&&(this.reason=i)}return n.prototype=ze.prototype,new n(t)}function Rf(e){if(typeof e!="object"){var t=e;e=cT,e.data=t}return"error"in e&&e.error==="conflict"&&(e.name="conflict",e.status=409),"name"in e||(e.name=e.error||"unknown"),"status"in e||(e.status=500),"message"in e||(e.message=e.message||e.reason),"stack"in e||(e.stack=new Error().stack),e}var Va=Headers,dT=function(e){return atob(e)};function hT(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(l){if(l.name!=="TypeError")throw l;for(var n=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,i=new n,o=0;o<e.length;o+=1)i.append(e[o]);return i.getBlob(t.type)}}function pT(e){for(var t=e.length,n=new ArrayBuffer(t),i=new Uint8Array(n),o=0;o<t;o++)i[o]=e.charCodeAt(o);return n}function mT(e,t){return hT([pT(e)],{type:t})}function vT(e,t){return mT(dT(e),t)}function yT(e,t,n){for(var i="",o=n-e.length;i.length<o;)i+=t;return i}function gT(e,t,n){var i=yT(e,t,n);return i+e}var rw=-324,Of=3,Df="";function ot(e,t){if(e===t)return 0;e=Jr(e),t=Jr(t);var n=Lf(e),i=Lf(t);if(n-i!==0)return n-i;switch(typeof e){case"number":return e-t;case"boolean":return e<t?-1:1;case"string":return bT(e,t)}return Array.isArray(e)?kT(e,t):ET(e,t)}function Jr(e){switch(typeof e){case"undefined":return null;case"number":return e===1/0||e===-1/0||isNaN(e)?null:e;case"object":var t=e;if(Array.isArray(e)){var n=e.length;e=new Array(n);for(var i=0;i<n;i++)e[i]=Jr(t[i])}else{if(e instanceof Date)return e.toJSON();if(e!==null){e={};for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var l=t[o];typeof l<"u"&&(e[o]=Jr(l))}}}}return e}function wT(e){if(e!==null)switch(typeof e){case"boolean":return e?1:0;case"number":return CT(e);case"string":return e.replace(/\u0002/g,"").replace(/\u0001/g,"").replace(/\u0000/g,"");case"object":var t=Array.isArray(e),n=t?e:Object.keys(e),i=-1,o=n.length,l="";if(t)for(;++i<o;)l+=yn(n[i]);else for(;++i<o;){var u=n[i];l+=yn(u)+yn(e[u])}return l}return""}function yn(e){var t="\0";return e=Jr(e),Lf(e)+Df+wT(e)+t}function xT(e,t){var n=t,i,o=e[t]==="1";if(o)i=0,t++;else{var l=e[t]==="0";t++;var u="",f=e.substring(t,t+Of),d=parseInt(f,10)+rw;for(l&&(d=-d),t+=Of;;){var m=e[t];if(m==="\0")break;u+=m,t++}u=u.split("."),u.length===1?i=parseInt(u,10):i=parseFloat(u[0]+"."+u[1]),l&&(i=i-10),d!==0&&(i=parseFloat(i+"e"+d))}return{num:i,length:t-n}}function _T(e,t){var n=e.pop();if(t.length){var i=t[t.length-1];n===i.element&&(t.pop(),i=t[t.length-1]);var o=i.element,l=i.index;if(Array.isArray(o))o.push(n);else if(l===e.length-2){var u=e.pop();o[u]=n}else e.push(n)}}function ST(e){for(var t=[],n=[],i=0;;){var o=e[i++];if(o==="\0"){if(t.length===1)return t.pop();_T(t,n);continue}switch(o){case"1":t.push(null);break;case"2":t.push(e[i]==="1"),i++;break;case"3":var l=xT(e,i);t.push(l.num),i+=l.length;break;case"4":for(var u="";;){var f=e[i];if(f==="\0")break;u+=f,i++}u=u.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"").replace(/\u0002\u0002/g,""),t.push(u);break;case"5":var d={element:[],index:t.length};t.push(d.element),n.push(d);break;case"6":var m={element:{},index:t.length};t.push(m.element),n.push(m);break;default:throw new Error("bad collationIndex or unexpectedly reached end of input: "+o)}}}function kT(e,t){for(var n=Math.min(e.length,t.length),i=0;i<n;i++){var o=ot(e[i],t[i]);if(o!==0)return o}return e.length===t.length?0:e.length>t.length?1:-1}function bT(e,t){return e===t?0:e>t?1:-1}function ET(e,t){for(var n=Object.keys(e),i=Object.keys(t),o=Math.min(n.length,i.length),l=0;l<o;l++){var u=ot(n[l],i[l]);if(u!==0||(u=ot(e[n[l]],t[i[l]]),u!==0))return u}return n.length===i.length?0:n.length>i.length?1:-1}function Lf(e){var t=["boolean","number","string","object"],n=t.indexOf(typeof e);if(~n)return e===null?1:Array.isArray(e)?5:n<3?n+2:n+3;if(Array.isArray(e))return 5}function CT(e){if(e===0)return"1";var t=e.toExponential().split(/e\+?/),n=parseInt(t[1],10),i=e<0,o=i?"0":"2",l=(i?-n:n)-rw,u=gT(l.toString(),"0",Of);o+=Df+u;var f=Math.abs(parseFloat(t[0]));i&&(f=10-f);var d=f.toFixed(20);return d=d.replace(/\.?0+$/,""),o+=Df+d,o}function iw(e){return Qa.hash(e)}function TT(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer||typeof Blob<"u"&&e instanceof Blob}function PT(e){return e instanceof ArrayBuffer?e.slice(0):e.slice(0,e.size,e.type)}var sw=Function.prototype.toString,AT=sw.call(Object);function jT(e){var t=Object.getPrototypeOf(e);if(t===null)return!0;var n=t.constructor;return typeof n=="function"&&n instanceof n&&sw.call(n)==AT}function Xr(e){var t,n,i;if(!e||typeof e!="object")return e;if(Array.isArray(e)){for(t=[],n=0,i=e.length;n<i;n++)t[n]=Xr(e[n]);return t}if(e instanceof Date&&isFinite(e))return e.toISOString();if(TT(e))return PT(e);if(!jT(e))return e;t={};for(n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var o=Xr(e[n]);typeof o<"u"&&(t[n]=o)}return t}var sy;try{localStorage.setItem("_pouch_check_localstorage",1),sy=!!localStorage.getItem("_pouch_check_localstorage")}catch{sy=!1}const Mf=typeof queueMicrotask=="function"?queueMicrotask:function(t){Promise.resolve().then(t)};function If(e){if(typeof console<"u"&&typeof console[e]=="function"){var t=Array.prototype.slice.call(arguments,1);console[e].apply(console,t)}}function Yr(e){return typeof e._remote=="boolean"?e._remote:typeof e.type=="function"?(If("warn","db.type() is deprecated and will be removed in a future version of PouchDB"),e.type()==="http"):!1}function vl(e,t,n){return e.get(t).catch(function(i){if(i.status!==404)throw i;return{}}).then(function(i){var o=i._rev,l=n(i);return l?(l._id=t,l._rev=o,NT(e,l,n)):{updated:!1,rev:o}})}function NT(e,t,n){return e.put(t).then(function(i){return{updated:!0,rev:i.rev}},function(i){if(i.status!==409)throw i;return vl(e,t._id,n)})}class Br extends Error{constructor(t){super(),this.status=400,this.name="query_parse_error",this.message=t,this.error=!0;try{Error.captureStackTrace(this,Br)}catch{}}}class Pd extends Error{constructor(t){super(),this.status=404,this.name="not_found",this.message=t,this.error=!0;try{Error.captureStackTrace(this,Pd)}catch{}}}class Ad extends Error{constructor(t){super(),this.status=500,this.name="invalid_value",this.message=t,this.error=!0;try{Error.captureStackTrace(this,Ad)}catch{}}}function ow(e,t){return t&&e.then(function(n){Mf(function(){t(null,n)})},function(n){Mf(function(){t(n)})}),e}function RT(e){return function(...t){var n=t.pop(),i=e.apply(this,t);return typeof n=="function"&&ow(i,n),i}}function OT(e,t){return e.then(function(n){return t().then(function(){return n})},function(n){return t().then(function(){throw n})})}function Uc(e,t){return function(){var n=arguments,i=this;return e.add(function(){return t.apply(i,n)})}}function oy(e){var t=new Set(e),n=new Array(t.size),i=-1;return t.forEach(function(o){n[++i]=o}),n}function zc(e){var t=new Array(e.size),n=-1;return e.forEach(function(i,o){t[++n]=o}),t}class $f{constructor(){this.promise=Promise.resolve()}add(t){return this.promise=this.promise.catch(()=>{}).then(()=>t()),this.promise}finish(){return this.promise}}function ay(e){if(!e)return"undefined";switch(typeof e){case"function":return e.toString();case"string":return e.toString();default:return JSON.stringify(e)}}function DT(e,t){return ay(e)+ay(t)+"undefined"}async function ly(e,t,n,i,o,l){const u=DT(n,i);let f;if(!o&&(f=e._cachedViews=e._cachedViews||{},f[u]))return f[u];const d=e.info().then(async function(m){const v=m.db_name+"-mrview-"+(o?"temp":iw(u));function p(k){k.views=k.views||{};let S=t;S.indexOf("/")===-1&&(S=t+"/"+t);const C=k.views[S]=k.views[S]||{};if(!C[v])return C[v]=!0,k}await vl(e,"_local/"+l,p);const P=(await e.registerDependentDatabase(v)).db;P.auto_compaction=!0;const T={name:v,db:P,sourceDB:e,adapter:e.adapter,mapFun:n,reduceFun:i};let N;try{N=await T.db.get("_local/lastSeq")}catch(k){if(k.status!==404)throw k}return T.seq=N?N.seq:0,f&&T.db.once("destroyed",function(){delete f[u]}),T});return f&&(f[u]=d),d}const uy={},cy=new $f,LT=50;function qc(e){return e.indexOf("/")===-1?[e,e]:e.split("/")}function MT(e){return e.length===1&&/^1-/.test(e[0].rev)}function fy(e,t,n){try{e.emit("error",t)}catch{If("error",`The user's map/reduce function threw an uncaught error.
You can debug this error by doing:
myDatabase.on('error', function (err) { debugger; });
Please double-check your map/reduce function.`),If("error",t,n)}}function IT(e,t,n,i){function o(b,R,D){try{R(D)}catch(j){fy(b,j,{fun:R,doc:D})}}function l(b,R,D,j,L){try{return{output:R(D,j,L)}}catch(X){return fy(b,X,{fun:R,keys:D,values:j,rereduce:L}),{error:X}}}function u(b,R){const D=ot(b.key,R.key);return D!==0?D:ot(b.value,R.value)}function f(b,R,D){return D=D||0,typeof R=="number"?b.slice(D,R+D):D>0?b.slice(D):b}function d(b){const R=b.value;return R&&typeof R=="object"&&R._id||b.id}function m(b){for(const R of b.rows){const D=R.doc&&R.doc._attachments;if(D)for(const j of Object.keys(D)){const L=D[j];D[j].data=vT(L.data,L.content_type)}}}function v(b){return function(R){return b.include_docs&&b.attachments&&b.binary&&m(R),R}}function p(b,R,D,j){let L=R[b];typeof L<"u"&&(j&&(L=encodeURIComponent(JSON.stringify(L))),D.push(b+"="+L))}function x(b){if(typeof b<"u"){const R=Number(b);return!isNaN(R)&&R===parseInt(b,10)?R:b}}function P(b){return b.group_level=x(b.group_level),b.limit=x(b.limit),b.skip=x(b.skip),b}function T(b){if(b){if(typeof b!="number")return new Br(`Invalid value for integer: "${b}"`);if(b<0)return new Br(`Invalid value for positive integer: "${b}"`)}}function N(b,R){const D=b.descending?"endkey":"startkey",j=b.descending?"startkey":"endkey";if(typeof b[D]<"u"&&typeof b[j]<"u"&&ot(b[D],b[j])>0)throw new Br("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(R.reduce&&b.reduce!==!1){if(b.include_docs)throw new Br("{include_docs:true} is invalid for reduce");if(b.keys&&b.keys.length>1&&!b.group&&!b.group_level)throw new Br("Multi-key fetches for reduce views must use {group: true}")}for(const L of["group_level","limit","skip"]){const X=T(b[L]);if(X)throw X}}async function k(b,R,D){let j=[],L,X="GET",Z;if(p("reduce",D,j),p("include_docs",D,j),p("attachments",D,j),p("limit",D,j),p("descending",D,j),p("group",D,j),p("group_level",D,j),p("skip",D,j),p("stale",D,j),p("conflicts",D,j),p("startkey",D,j,!0),p("start_key",D,j,!0),p("endkey",D,j,!0),p("end_key",D,j,!0),p("inclusive_end",D,j),p("key",D,j,!0),p("update_seq",D,j),j=j.join("&"),j=j===""?"":"?"+j,typeof D.keys<"u"){const Y=`keys=${encodeURIComponent(JSON.stringify(D.keys))}`;Y.length+j.length+1<=2e3?j+=(j[0]==="?"?"&":"?")+Y:(X="POST",typeof R=="string"?L={keys:D.keys}:R.keys=D.keys)}if(typeof R=="string"){const q=qc(R),Y=await b.fetch("_design/"+q[0]+"/_view/"+q[1]+j,{headers:new Va({"Content-Type":"application/json"}),method:X,body:JSON.stringify(L)});Z=Y.ok;const ee=await Y.json();if(!Z)throw ee.status=Y.status,Rf(ee);for(const ie of ee.rows)if(ie.value&&ie.value.error&&ie.value.error==="builtin_reduce_error")throw new Error(ie.reason);return new Promise(function(ie){ie(ee)}).then(v(D))}L=L||{};for(const q of Object.keys(R))Array.isArray(R[q])?L[q]=R[q]:L[q]=R[q].toString();const K=await b.fetch("_temp_view"+j,{headers:new Va({"Content-Type":"application/json"}),method:"POST",body:JSON.stringify(L)});Z=K.ok;const B=await K.json();if(!Z)throw B.status=K.status,Rf(B);return new Promise(function(q){q(B)}).then(v(D))}function S(b,R,D){return new Promise(function(j,L){b._query(R,D,function(X,Z){if(X)return L(X);j(Z)})})}function C(b){return new Promise(function(R,D){b._viewCleanup(function(j,L){if(j)return D(j);R(L)})})}function w(b){return function(R){if(R.status===404)return b;throw R}}async function g(b,R,D){const j="_local/doc_"+b,L={_id:j,keys:[]},X=D.get(b),Z=X[0],K=X[1];function B(){return MT(K)?Promise.resolve(L):R.db.get(j).catch(w(L))}function q(be){return be.keys.length?R.db.allDocs({keys:be.keys,include_docs:!0}):Promise.resolve({rows:[]})}function Y(be,Ne){const Oe=[],Ke=new Set;for(const ye of Ne.rows){const he=ye.doc;if(he&&(Oe.push(he),Ke.add(he._id),he._deleted=!Z.has(he._id),!he._deleted)){const we=Z.get(he._id);"value"in we&&(he.value=we.value)}}const dt=zc(Z);for(const ye of dt)if(!Ke.has(ye)){const he={_id:ye},we=Z.get(ye);"value"in we&&(he.value=we.value),Oe.push(he)}return be.keys=oy(dt.concat(be.keys)),Oe.push(be),Oe}const ee=await B(),ie=await q(ee);return Y(ee,ie)}function _(b){return b.sourceDB.get("_local/purges").then(function(R){const D=R.purgeSeq;return b.db.get("_local/purgeSeq").then(function(j){return j._rev}).catch(w(void 0)).then(function(j){return b.db.put({_id:"_local/purgeSeq",_rev:j,purgeSeq:D})})}).catch(function(R){if(R.status!==404)throw R})}function E(b,R,D){var j="_local/lastSeq";return b.db.get(j).catch(w({_id:j,seq:0})).then(function(L){var X=zc(R);return Promise.all(X.map(function(Z){return g(Z,b,R)})).then(function(Z){var K=Z.flat();return L.seq=D,K.push(L),b.db.bulkDocs({docs:K})}).then(()=>_(b))})}function $(b){const R=typeof b=="string"?b:b.name;let D=uy[R];return D||(D=uy[R]=new $f),D}async function I(b,R){return Uc($(b),function(){return U(b,R)})()}async function U(b,R){let D,j,L;function X(ye,he){const we={id:j._id,key:Jr(ye)};typeof he<"u"&&he!==null&&(we.value=Jr(he)),D.push(we)}const Z=t(b.mapFun,X);let K=b.seq||0;function B(){return b.sourceDB.info().then(function(ye){L=b.sourceDB.activeTasks.add({name:"view_indexing",total_items:ye.update_seq-K})})}function q(ye,he){return function(){return E(b,ye,he)}}let Y=0;const ee={view:b.name,indexed_docs:Y};b.sourceDB.emit("indexing",ee);const ie=new $f;async function be(){const ye=await b.sourceDB.changes({return_docs:!0,conflicts:!0,include_docs:!0,style:"all_docs",since:K,limit:R.changes_batch_size}),he=await Ne();return Oe(ye,he)}function Ne(){return b.db.get("_local/purgeSeq").then(function(ye){return ye.purgeSeq}).catch(w(-1)).then(function(ye){return b.sourceDB.get("_local/purges").then(function(he){const we=he.purges.filter(function(Le,Ce){return Ce>ye}).map(Le=>Le.docId),Ie=we.filter(function(Le,Ce){return we.indexOf(Le)===Ce});return Promise.all(Ie.map(function(Le){return b.sourceDB.get(Le).then(function(Ce){return{docId:Le,doc:Ce}}).catch(w({docId:Le}))}))}).catch(w([]))})}function Oe(ye,he){const we=ye.results;if(!we.length&&!he.length)return;for(const Ce of he)if(we.findIndex(function(Nt){return Nt.id===Ce.docId})<0){const Nt={_id:Ce.docId,doc:{_id:Ce.docId,_deleted:1},changes:[]};Ce.doc&&(Nt.doc=Ce.doc,Nt.changes.push({rev:Ce.doc._rev})),we.push(Nt)}const Ie=Ke(we);ie.add(q(Ie,K)),Y=Y+we.length;const Le={view:b.name,last_seq:ye.last_seq,results_count:we.length,indexed_docs:Y};if(b.sourceDB.emit("indexing",Le),b.sourceDB.activeTasks.update(L,{completed_items:Y}),!(we.length<R.changes_batch_size))return be()}function Ke(ye){const he=new Map;for(const we of ye){if(we.doc._id[0]!=="_"){D=[],j=we.doc,j._deleted||o(b.sourceDB,Z,j),D.sort(u);const Ie=dt(D);he.set(we.doc._id,[Ie,we.changes])}K=we.seq}return he}function dt(ye){const he=new Map;let we;for(let Ie=0,Le=ye.length;Ie<Le;Ie++){const Ce=ye[Ie],sn=[Ce.key,Ce.id];Ie>0&&ot(Ce.key,we)===0&&sn.push(Ie),he.set(yn(sn),Ce),we=Ce.key}return he}try{await B(),await be(),await ie.finish(),b.seq=K,b.sourceDB.activeTasks.remove(L)}catch(ye){b.sourceDB.activeTasks.remove(L,ye)}}function G(b,R,D){D.group_level===0&&delete D.group_level;const j=D.group||D.group_level,L=n(b.reduceFun),X=[],Z=isNaN(D.group_level)?Number.POSITIVE_INFINITY:D.group_level;for(const K of R){const B=X[X.length-1];let q=j?K.key:null;if(j&&Array.isArray(q)&&(q=q.slice(0,Z)),B&&ot(B.groupKey,q)===0){B.keys.push([K.key,K.id]),B.values.push(K.value);continue}X.push({keys:[[K.key,K.id]],values:[K.value],groupKey:q})}R=[];for(const K of X){const B=l(b.sourceDB,L,K.keys,K.values,!1);if(B.error&&B.error instanceof Ad)throw B.error;R.push({value:B.error?null:B.output,key:K.groupKey})}return{rows:f(R,D.limit,D.skip)}}function te(b,R){return Uc($(b),function(){return ce(b,R)})()}async function ce(b,R){let D;const j=b.reduceFun&&R.reduce!==!1,L=R.skip||0;typeof R.keys<"u"&&!R.keys.length&&(R.limit=0,delete R.keys);async function X(K){K.include_docs=!0;const B=await b.db.allDocs(K);return D=B.total_rows,B.rows.map(function(q){if("value"in q.doc&&typeof q.doc.value=="object"&&q.doc.value!==null){const ee=Object.keys(q.doc.value).sort(),ie=["id","key","value"];if(!(ee<ie||ee>ie))return q.doc.value}const Y=ST(q.doc._id);return{key:Y[0],id:Y[1],value:"value"in q.doc?q.doc.value:null}})}async function Z(K){let B;if(j?B=G(b,K,R):typeof R.keys>"u"?B={total_rows:D,offset:L,rows:K}:B={total_rows:D,offset:L,rows:f(K,R.limit,R.skip)},R.update_seq&&(B.update_seq=b.seq),R.include_docs){const q=oy(K.map(d)),Y=await b.sourceDB.allDocs({keys:q,include_docs:!0,conflicts:R.conflicts,attachments:R.attachments,binary:R.binary}),ee=new Map;for(const ie of Y.rows)ee.set(ie.id,ie.doc);for(const ie of K){const be=d(ie),Ne=ee.get(be);Ne&&(ie.doc=Ne)}}return B}if(typeof R.keys<"u"){const B=R.keys.map(function(ee){const ie={startkey:yn([ee]),endkey:yn([ee,{}])};return R.update_seq&&(ie.update_seq=!0),X(ie)}),Y=(await Promise.all(B)).flat();return Z(Y)}else{const K={descending:R.descending};R.update_seq&&(K.update_seq=!0);let B,q;if("start_key"in R&&(B=R.start_key),"startkey"in R&&(B=R.startkey),"end_key"in R&&(q=R.end_key),"endkey"in R&&(q=R.endkey),typeof B<"u"&&(K.startkey=R.descending?yn([B,{}]):yn([B])),typeof q<"u"){let ee=R.inclusive_end!==!1;R.descending&&(ee=!ee),K.endkey=yn(ee?[q,{}]:[q])}if(typeof R.key<"u"){const ee=yn([R.key]),ie=yn([R.key,{}]);K.descending?(K.endkey=ee,K.startkey=ie):(K.startkey=ee,K.endkey=ie)}j||(typeof R.limit=="number"&&(K.limit=R.limit),K.skip=L);const Y=await X(K);return Z(Y)}}async function oe(b){return(await b.fetch("_view_cleanup",{headers:new Va({"Content-Type":"application/json"}),method:"POST"})).json()}async function ae(b){try{const R=await b.get("_local/"+e),D=new Map;for(const B of Object.keys(R.views)){const q=qc(B),Y="_design/"+q[0],ee=q[1];let ie=D.get(Y);ie||(ie=new Set,D.set(Y,ie)),ie.add(ee)}const j={keys:zc(D),include_docs:!0},L=await b.allDocs(j),X={};for(const B of L.rows){const q=B.key.substring(8);for(const Y of D.get(B.key)){let ee=q+"/"+Y;R.views[ee]||(ee=Y);const ie=Object.keys(R.views[ee]),be=B.doc&&B.doc.views&&B.doc.views[Y];for(const Ne of ie)X[Ne]=X[Ne]||be}}const K=Object.keys(X).filter(function(B){return!X[B]}).map(function(B){return Uc($(B),function(){return new b.constructor(B,b.__opts).destroy()})()});return Promise.all(K).then(function(){return{ok:!0}})}catch(R){if(R.status===404)return{ok:!0};throw R}}async function pe(b,R,D){if(typeof b._query=="function")return S(b,R,D);if(Yr(b))return k(b,R,D);const j={changes_batch_size:b.__opts.view_update_changes_batch_size||LT};if(typeof R!="string")return N(D,R),cy.add(async function(){const L=await ly(b,"temp_view/temp_view",R.map,R.reduce,!0,e);return OT(I(L,j).then(function(){return te(L,D)}),function(){return L.db.destroy()})}),cy.finish();{const L=R,X=qc(L),Z=X[0],K=X[1],B=await b.get("_design/"+Z);if(R=B.views&&B.views[K],!R)throw new Pd(`ddoc ${B._id} has no view named ${K}`);i(B,K),N(D,R);const q=await ly(b,L,R.map,R.reduce,!1,e);return D.stale==="ok"||D.stale==="update_after"?(D.stale==="update_after"&&Mf(function(){I(q,j)}),te(q,D)):(await I(q,j),te(q,D))}}function de(b,R,D){const j=this;typeof R=="function"&&(D=R,R={}),R=R?P(R):{},typeof b=="function"&&(b={map:b});const L=Promise.resolve().then(function(){return pe(j,b,R)});return ow(L,D),L}const ue=RT(function(){const b=this;return typeof b._viewCleanup=="function"?C(b):Yr(b)?oe(b):ae(b)});return{query:de,viewCleanup:ue}}function ao(e,t){for(var n=e,i=0,o=t.length;i<o;i++){var l=t[i];if(n=n[l],!n)break}return n}function $T(e,t,n){for(var i=0,o=t.length;i<o-1;i++){var l=t[i];e=e[l]=e[l]||{}}e[t[o-1]]=n}function jd(e,t){return e<t?-1:e>t?1:0}function ti(e){for(var t=[],n="",i=0,o=e.length;i<o;i++){var l=e[i];i>0&&e[i-1]==="\\"&&(l==="$"||l===".")?n=n.substring(0,n.length-1)+l:l==="."?(t.push(n),n=""):n+=l}return t.push(n),t}var BT=["$or","$nor","$not"];function aw(e){return BT.indexOf(e)>-1}function Kt(e){return Object.keys(e)[0]}function Nd(e){return e[Kt(e)]}function Xs(e){var t={},n={$or:!0,$nor:!0};return e.forEach(function(i){Object.keys(i).forEach(function(o){var l=i[o];if(typeof l!="object"&&(l={$eq:l}),aw(o))if(l instanceof Array){if(n[o]){n[o]=!1,t[o]=l;return}var u=[];t[o].forEach(function(d){Object.keys(l).forEach(function(m){var v=l[m],p=Math.max(Object.keys(d).length,Object.keys(v).length),x=Xs([d,v]);Object.keys(x).length<=p||u.push(x)})}),t[o]=u}else t[o]=Xs([l]);else{var f=t[o]=t[o]||{};Object.keys(l).forEach(function(d){var m=l[d];if(d==="$gt"||d==="$gte")return FT(d,m,f);if(d==="$lt"||d==="$lte")return VT(d,m,f);if(d==="$ne")return UT(m,f);if(d==="$eq")return zT(m,f);if(d==="$regex")return qT(m,f);f[d]=m})}})}),t}function FT(e,t,n){typeof n.$eq<"u"||(typeof n.$gte<"u"?e==="$gte"?t>n.$gte&&(n.$gte=t):t>=n.$gte&&(delete n.$gte,n.$gt=t):typeof n.$gt<"u"?e==="$gte"?t>n.$gt&&(delete n.$gt,n.$gte=t):t>n.$gt&&(n.$gt=t):n[e]=t)}function VT(e,t,n){typeof n.$eq<"u"||(typeof n.$lte<"u"?e==="$lte"?t<n.$lte&&(n.$lte=t):t<=n.$lte&&(delete n.$lte,n.$lt=t):typeof n.$lt<"u"?e==="$lte"?t<n.$lt&&(delete n.$lt,n.$lte=t):t<n.$lt&&(n.$lt=t):n[e]=t)}function UT(e,t){"$ne"in t?t.$ne.push(e):t.$ne=[e]}function zT(e,t){delete t.$gt,delete t.$gte,delete t.$lt,delete t.$lte,delete t.$ne,t.$eq=e}function qT(e,t){"$regex"in t?t.$regex.push(e):t.$regex=[e]}function lw(e){for(var t in e){if(Array.isArray(e))for(var n in e)e[n].$and&&(e[n]=Xs(e[n].$and));var i=e[t];typeof i=="object"&&lw(i)}return e}function uw(e,t){for(var n in e){n==="$and"&&(t=!0);var i=e[n];typeof i=="object"&&(t=uw(i,t))}return t}function Rd(e){var t=Xr(e);uw(t,!1)&&(t=lw(t),"$and"in t&&(t=Xs(t.$and))),["$or","$nor"].forEach(function(u){u in t&&t[u].forEach(function(f){for(var d=Object.keys(f),m=0;m<d.length;m++){var v=d[m],p=f[v];(typeof p!="object"||p===null)&&(f[v]={$eq:p})}})}),"$not"in t&&(t.$not=Xs([t.$not]));for(var n=Object.keys(t),i=0;i<n.length;i++){var o=n[i],l=t[o];(typeof l!="object"||l===null)&&(l={$eq:l}),t[o]=l}return Bf(t),t}function Bf(e){Object.keys(e).forEach(function(t){var n=e[t];Array.isArray(n)?n.forEach(function(i){i&&typeof i=="object"&&Bf(i)}):t==="$ne"?e.$ne=[n]:t==="$regex"?e.$regex=[n]:n&&typeof n=="object"&&Bf(n)})}function KT(e){function t(n){return e.map(function(i){var o=Kt(i),l=ti(o),u=ao(n,l);return u})}return function(n,i){var o=t(n.doc),l=t(i.doc),u=ot(o,l);return u!==0?u:jd(n.doc._id,i.doc._id)}}function cw(e,t,n){if(e=e.filter(function(u){return Li(u.doc,t.selector,n)}),t.sort){var i=KT(t.sort);e=e.sort(i),typeof t.sort[0]!="string"&&Nd(t.sort[0])==="desc"&&(e=e.reverse())}if("limit"in t||"skip"in t){var o=t.skip||0,l=("limit"in t?t.limit:e.length)+o;e=e.slice(o,l)}return e}function Li(e,t,n){return n.every(function(i){var o=t[i],l=ti(i),u=ao(e,l);return aw(i)?WT(i,o,e):tl(o,e,l,u)})}function tl(e,t,n,i){return e?typeof e=="object"?Object.keys(e).every(function(o){var l=e[o];if(o.indexOf("$")===0)return dy(o,t,l,n,i);var u=ti(o);if(i===void 0&&typeof l!="object"&&u.length>0)return!1;var f=ao(i,u);return typeof l=="object"?tl(l,t,n,f):dy("$eq",t,l,u,f)}):e===i:!0}function WT(e,t,n){return e==="$or"?t.some(function(i){return Li(n,i,Object.keys(i))}):e==="$not"?!Li(n,t,Object.keys(t)):!t.find(function(i){return Li(n,i,Object.keys(i))})}function dy(e,t,n,i,o){if(!py[e])throw new Error('unknown operator "'+e+'" - should be one of $eq, $lte, $lt, $gt, $gte, $exists, $ne, $in, $nin, $size, $mod, $regex, $elemMatch, $type, $allMatch or $all');return py[e](t,n,i,o)}function Ms(e){return typeof e<"u"&&e!==null}function Lr(e){return typeof e<"u"}function HT(e,t){if(typeof e!="number"||parseInt(e,10)!==e)return!1;var n=t[0],i=t[1];return e%n===i}function hy(e,t){return t.some(function(n){return e instanceof Array?e.some(function(i){return ot(n,i)===0}):ot(n,e)===0})}function GT(e,t){return t.every(function(n){return e.some(function(i){return ot(n,i)===0})})}function QT(e,t){return e.length===t}function JT(e,t){var n=new RegExp(t);return n.test(e)}function XT(e,t){switch(t){case"null":return e===null;case"boolean":return typeof e=="boolean";case"number":return typeof e=="number";case"string":return typeof e=="string";case"array":return e instanceof Array;case"object":return{}.toString.call(e)==="[object Object]"}}var py={$elemMatch:function(e,t,n,i){return!Array.isArray(i)||i.length===0?!1:typeof i[0]=="object"&&i[0]!==null?i.some(function(o){return Li(o,t,Object.keys(t))}):i.some(function(o){return tl(t,e,n,o)})},$allMatch:function(e,t,n,i){return!Array.isArray(i)||i.length===0?!1:typeof i[0]=="object"&&i[0]!==null?i.every(function(o){return Li(o,t,Object.keys(t))}):i.every(function(o){return tl(t,e,n,o)})},$eq:function(e,t,n,i){return Lr(i)&&ot(i,t)===0},$gte:function(e,t,n,i){return Lr(i)&&ot(i,t)>=0},$gt:function(e,t,n,i){return Lr(i)&&ot(i,t)>0},$lte:function(e,t,n,i){return Lr(i)&&ot(i,t)<=0},$lt:function(e,t,n,i){return Lr(i)&&ot(i,t)<0},$exists:function(e,t,n,i){return t?Lr(i):!Lr(i)},$mod:function(e,t,n,i){return Ms(i)&&HT(i,t)},$ne:function(e,t,n,i){return t.every(function(o){return ot(i,o)!==0})},$in:function(e,t,n,i){return Ms(i)&&hy(i,t)},$nin:function(e,t,n,i){return Ms(i)&&!hy(i,t)},$size:function(e,t,n,i){return Ms(i)&&Array.isArray(i)&&QT(i,t)},$all:function(e,t,n,i){return Array.isArray(i)&&GT(i,t)},$regex:function(e,t,n,i){return Ms(i)&&typeof i=="string"&&t.every(function(o){return JT(i,o)})},$type:function(e,t,n,i){return XT(i,t)}};function yl(e,t){if(typeof t!="object")throw new Error("Selector error: expected a JSON object");t=Rd(t);var n={doc:e},i=cw([n],{selector:t},Object.keys(t));return i&&i.length===1}const YT=(...e)=>e.flat(1/0),fw=(...e)=>{let t=[];for(const n of e)Array.isArray(n)?t=t.concat(fw(...n)):t.push(n);return t},dw=typeof Array.prototype.flat=="function"?YT:fw;function Od(e){const t={};for(const n of e)Object.assign(t,n);return t}function ZT(e,t){const n={};for(const i of t){const o=ti(i),l=ao(e,o);typeof l<"u"&&$T(n,o,l)}return n}function hw(e,t){for(let n=0,i=Math.min(e.length,t.length);n<i;n++)if(e[n]!==t[n])return!1;return!0}function eP(e,t){return e.length>t.length?!1:hw(e,t)}function tP(e,t){e=e.slice();for(const n of t){if(!e.length)break;const i=e.indexOf(n);if(i===-1)return!1;e.splice(i,1)}return!0}function nP(e){const t={};for(const n of e)t[n]=!0;return t}function rP(e,t){let n=null,i=-1;for(const o of e){const l=t(o);l>i&&(i=l,n=o)}return n}function my(e,t){if(e.length!==t.length)return!1;for(let n=0,i=e.length;n<i;n++)if(e[n]!==t[n])return!1;return!0}function iP(e){return Array.from(new Set(e))}function lo(e){return function(...t){const n=t[t.length-1];if(typeof n=="function"){const i=n.bind(null,null),o=n.bind(null);e.apply(this,t.slice(0,-1)).then(i,o)}else return e.apply(this,t)}}function pw(e){e=Xr(e),e.index||(e.index={});for(const t of["type","name","ddoc"])e.index[t]&&(e[t]=e.index[t],delete e.index[t]);return e.fields&&(e.index.fields=e.fields,delete e.fields),e.type||(e.type="json"),e}function nl(e){return typeof e=="object"&&e!==null}function sP(e,t,n){let i="",o=t,l=!0;if(["$in","$nin","$or","$and","$mod","$nor","$all"].indexOf(e)!==-1&&(Array.isArray(t)||(i="Query operator "+e+" must be an array.")),["$not","$elemMatch","$allMatch"].indexOf(e)!==-1&&(!Array.isArray(t)&&nl(t)||(i="Query operator "+e+" must be an object.")),e==="$mod"&&Array.isArray(t))if(t.length!==2)i="Query operator $mod must be in the format [divisor, remainder], where divisor and remainder are both integers.";else{const u=t[0],f=t[1];u===0&&(i="Query operator $mod's divisor cannot be 0, cannot divide by zero.",l=!1),(typeof u!="number"||parseInt(u,10)!==u)&&(i="Query operator $mod's divisor is not an integer.",o=u),parseInt(f,10)!==f&&(i="Query operator $mod's remainder is not an integer.",o=f)}if(e==="$exists"&&typeof t!="boolean"&&(i="Query operator $exists must be a boolean."),e==="$type"){const u=["null","boolean","number","string","array","object"],f='"'+u.slice(0,u.length-1).join('", "')+'", or "'+u[u.length-1]+'"';(typeof t!="string"||u.indexOf(t)==-1)&&(i="Query operator $type must be a string. Supported values: "+f+".")}if(e==="$size"&&parseInt(t,10)!==t&&(i="Query operator $size must be a integer."),e==="$regex"&&typeof t!="string"&&(n?i="Query operator $regex must be a string.":t instanceof RegExp||(i="Query operator $regex must be a string or an instance of a javascript regular expression.")),i){if(l){const u=o===null?" ":Array.isArray(o)?" array":" "+typeof o,f=nl(o)?JSON.stringify(o,null,"	"):o;i+=" Received"+u+": "+f}throw new Error(i)}}const oP=["$all","$allMatch","$and","$elemMatch","$exists","$in","$mod","$nin","$nor","$not","$or","$regex","$size","$type"],aP=["$in","$nin","$mod","$all"],lP=["$eq","$gt","$gte","$lt","$lte"];function rl(e,t){if(Array.isArray(e))for(const n of e)nl(n)&&rl(n,t);else for(const[n,i]of Object.entries(e))oP.indexOf(n)!==-1&&sP(n,i,t),lP.indexOf(n)===-1&&aP.indexOf(n)===-1&&nl(i)&&rl(i,t)}async function uo(e,t,n){n.body&&(n.body=JSON.stringify(n.body),n.headers=new Va({"Content-type":"application/json"}));const i=await e.fetch(t,n),o=await i.json();if(!i.ok){o.status=i.status;const l=fT(o);throw Rf(l)}return o}async function uP(e,t){return await uo(e,"_index",{method:"POST",body:pw(t)})}async function cP(e,t){return rl(t.selector,!0),await uo(e,"_find",{method:"POST",body:t})}async function fP(e,t){return await uo(e,"_explain",{method:"POST",body:t})}async function dP(e){return await uo(e,"_index",{method:"GET"})}async function hP(e,t){const n=t.ddoc,i=t.type||"json",o=t.name;if(!n)throw new Error("you must provide an index's ddoc");if(!o)throw new Error("you must provide an index's name");const l="_index/"+[n,i,o].map(encodeURIComponent).join("/");return await uo(e,l,{method:"DELETE"})}function mw(e,t){for(const n of t)if(e=e[n],e===void 0)return;return e}function pP(e,t,n){return function(i){if(n&&!yl(i,n))return;const o=[];for(const l of e){const u=mw(i,ti(l));if(u===void 0)return;o.push(u)}t(o)}}function mP(e,t,n){const i=ti(e);return function(o){if(n&&!yl(o,n))return;const l=mw(o,i);l!==void 0&&t(l)}}function vP(e,t,n){return function(i){n&&!yl(i,n)||t(i[e])}}function yP(e,t,n){return function(i){if(n&&!yl(i,n))return;const o=e.map(l=>i[l]);t(o)}}function gP(e){return e.every(t=>t.indexOf(".")===-1)}function wP(e,t,n){const i=gP(e),o=e.length===1;return i?o?vP(e[0],t,n):yP(e,t,n):o?mP(e[0],t,n):pP(e,t,n)}function xP(e,t){const n=Object.keys(e.fields),i=e.partial_filter_selector;return wP(n,t,i)}function _P(){throw new Error("reduce not supported")}function SP(e,t){const n=e.views[t];if(!n.map||!n.map.fields)throw new Error("ddoc "+e._id+" with view "+t+" doesn't have map.fields defined. maybe it wasn't created by this plugin?")}const Kc=IT("indexes",xP,_P,SP);function Dd(e){return e._customFindAbstractMapper?{query:function(n,i){const o=Kc.query.bind(this);return e._customFindAbstractMapper.query.call(this,n,i,o)},viewCleanup:function(){const n=Kc.viewCleanup.bind(this);return e._customFindAbstractMapper.viewCleanup.call(this,n)}}:Kc}function kP(e){if(!Array.isArray(e))throw new Error("invalid sort json - should be an array");return e.map(function(t){if(typeof t=="string"){const n={};return n[t]="asc",n}else return t})}const bP=/^_design\//;function EP(e){let t=[];return typeof e=="string"?t.push(e):t=e,t.map(function(n){return n.replace(bP,"")})}function vw(e){return e.fields=e.fields.map(function(t){if(typeof t=="string"){const n={};return n[t]="asc",n}return t}),e.partial_filter_selector&&(e.partial_filter_selector=Rd(e.partial_filter_selector)),e}function CP(e,t){return t.def.fields.map(n=>{const i=Kt(n);return ao(e,ti(i))})}function TP(e,t,n){const i=n.def.fields;let o=0;for(const l of e){let u=CP(l.doc,n);if(i.length===1)u=u[0];else for(;u.length>t.length;)u.pop();if(Math.abs(ot(u,t))>0)break;++o}return o>0?e.slice(o):e}function PP(e){const t=Xr(e);return delete t.startkey,delete t.endkey,delete t.inclusive_start,delete t.inclusive_end,"endkey"in e&&(t.startkey=e.endkey),"startkey"in e&&(t.endkey=e.startkey),"inclusive_start"in e&&(t.inclusive_end=e.inclusive_start),"inclusive_end"in e&&(t.inclusive_start=e.inclusive_end),t}function AP(e){const t=e.fields.filter(function(n){return Nd(n)==="asc"});if(t.length!==0&&t.length!==e.fields.length)throw new Error("unsupported mixed sorting")}function jP(e,t){if(t.defaultUsed&&e.sort){const n=e.sort.filter(function(i){return Object.keys(i)[0]!=="_id"}).map(function(i){return Object.keys(i)[0]});if(n.length>0)throw new Error('Cannot sort on field(s) "'+n.join(",")+'" when using the default index')}t.defaultUsed}function NP(e){if(typeof e.selector!="object")throw new Error("you must provide a selector when you find()")}function RP(e,t){const n=Object.keys(e),i=t?t.map(Kt):[];let o;return n.length>=i.length?o=n:o=i,i.length===0?{fields:o}:(o=o.sort(function(l,u){let f=i.indexOf(l);f===-1&&(f=Number.MAX_VALUE);let d=i.indexOf(u);return d===-1&&(d=Number.MAX_VALUE),f<d?-1:f>d?1:0}),{fields:o,sortOrder:t.map(Kt)})}async function OP(e,t){t=pw(t);const n=Xr(t.index);t.index=vw(t.index),AP(t.index);let i;function o(){return i||(i=iw(JSON.stringify(t)))}const l=t.name||"idx-"+o(),u=t.ddoc||"idx-"+o(),f="_design/"+u;let d=!1,m=!1;function v(x){return x._rev&&x.language!=="query"&&(d=!0),x.language="query",x.views=x.views||{},m=!!x.views[l],m?!1:(x.views[l]={map:{fields:Od(t.index.fields),partial_filter_selector:t.index.partial_filter_selector},reduce:"_count",options:{def:n}},x)}if(e.constructor.emit("debug",["find","creating index",f]),await vl(e,f,v),d)throw new Error('invalid language for ddoc with id "'+f+'" (should be "query")');const p=u+"/"+l;return await Dd(e).query.call(e,p,{limit:0,reduce:!1}),{id:f,name:l,result:m?"exists":"created"}}async function yw(e){const t=await e.allDocs({startkey:"_design/",endkey:"_design/",include_docs:!0}),n={indexes:[{ddoc:null,name:"_all_docs",type:"special",def:{fields:[{_id:"asc"}]}}]};return n.indexes=dw(n.indexes,t.rows.filter(function(i){return i.doc.language==="query"}).map(function(i){return(i.doc.views!==void 0?Object.keys(i.doc.views):[]).map(function(l){const u=i.doc.views[l];return{ddoc:i.id,name:l,type:"json",def:vw(u.options.def)}})})),n.indexes.sort(function(i,o){return jd(i.name,o.name)}),n.total_rows=n.indexes.length,n}const il=null,Ff={"":{}},DP={queryOpts:{limit:0,startkey:Ff,endkey:il},inMemoryFields:[]};function LP(e,t){return e.def.fields.some(n=>Kt(n)===t)}function MP(e,t){const n=e[t];return Kt(n)!=="$eq"}function gw(e,t){const n=t.def.fields.map(Kt);return e.slice().sort(function(i,o){let l=n.indexOf(i),u=n.indexOf(o);return l===-1&&(l=Number.MAX_VALUE),u===-1&&(u=Number.MAX_VALUE),jd(l,u)})}function IP(e,t,n){n=gw(n,e);let i=!1;for(let o=0,l=n.length;o<l;o++){const u=n[o];if(i||!LP(e,u))return n.slice(o);o<l-1&&MP(t,u)&&(i=!0)}return[]}function $P(e){const t=[];for(const[n,i]of Object.entries(e))for(const o of Object.keys(i))o==="$ne"&&t.push(n);return t}function BP(e,t,n,i){const o=dw(e,IP(t,n,i),$P(n));return gw(iP(o),t)}function FP(e,t,n){if(t){const i=eP(t,e),o=hw(n,e);return i&&o}return tP(n,e)}const VP=["$eq","$gt","$gte","$lt","$lte"];function ww(e){return VP.indexOf(e)===-1}function UP(e,t){const n=e[0],i=t[n];return typeof i>"u"?!0:!(Object.keys(i).length===1&&Kt(i)==="$ne")}function zP(e,t,n,i){const o=e.def.fields.map(Kt);return FP(o,t,n)?UP(o,i):!1}function qP(e,t,n,i){return i.filter(function(o){return zP(o,n,t,e)})}function KP(e,t,n,i,o){const l=qP(e,t,n,i);if(l.length===0){if(o)throw{error:"no_usable_index",message:"There is no index available for this selector."};const d=i[0];return d.defaultUsed=!0,d}if(l.length===1&&!o)return l[0];const u=nP(t);function f(d){const m=d.def.fields.map(Kt);let v=0;for(const p of m)u[p]&&v++;return v}if(o){const d="_design/"+o[0],m=o.length===2?o[1]:!1,v=l.find(function(p){return!!(m&&p.ddoc===d&&m===p.name||p.ddoc===d)});if(!v)throw{error:"unknown_error",message:"Could not find that index or could not use that index for the query"};return v}return rP(l,f)}function WP(e,t){switch(e){case"$eq":return{key:t};case"$lte":return{endkey:t};case"$gte":return{startkey:t};case"$lt":return{endkey:t,inclusive_end:!1};case"$gt":return{startkey:t,inclusive_start:!1}}return{startkey:il}}function HP(e,t){const n=Kt(t.def.fields[0]),i=e[n]||{},o=[],l=Object.keys(i);let u;for(const f of l){ww(f)&&o.push(n);const d=i[f],m=WP(f,d);u?u=Od([u,m]):u=m}return{queryOpts:u,inMemoryFields:o}}function GP(e,t){switch(e){case"$eq":return{startkey:t,endkey:t};case"$lte":return{endkey:t};case"$gte":return{startkey:t};case"$lt":return{endkey:t,inclusive_end:!1};case"$gt":return{startkey:t,inclusive_start:!1}}}function QP(e,t){const n=t.def.fields.map(Kt);let i=[];const o=[],l=[];let u,f;function d(v){u!==!1&&o.push(il),f!==!1&&l.push(Ff),i=n.slice(v)}for(let v=0,p=n.length;v<p;v++){const x=n[v],P=e[x];if(!P||!Object.keys(P).length){d(v);break}else if(Object.keys(P).some(ww)){d(v);break}else if(v>0){const k="$gt"in P||"$gte"in P||"$lt"in P||"$lte"in P,S=Object.keys(e[n[v-1]]),C=my(S,["$eq"]),w=my(S,Object.keys(P));if(k&&!C&&!w){d(v);break}}const T=Object.keys(P);let N=null;for(const k of T){const S=P[k],C=GP(k,S);N?N=Od([N,C]):N=C}o.push("startkey"in N?N.startkey:il),l.push("endkey"in N?N.endkey:Ff),"inclusive_start"in N&&(u=N.inclusive_start),"inclusive_end"in N&&(f=N.inclusive_end)}const m={startkey:o,endkey:l};return typeof u<"u"&&(m.inclusive_start=u),typeof f<"u"&&(m.inclusive_end=f),{queryOpts:m,inMemoryFields:i}}function JP(e){return Object.keys(e).map(function(n){return e[n]}).some(function(n){return typeof n=="object"&&Object.keys(n).length===0})}function XP(e){return{queryOpts:{startkey:null},inMemoryFields:[Object.keys(e)]}}function YP(e,t){return t.defaultUsed?XP(e):t.def.fields.length===1?HP(e,t):QP(e,t)}function ZP(e,t){const n=e.selector,i=e.sort;if(JP(n))return Object.assign({},DP,{index:t[0]});const o=RP(n,i),l=o.fields,u=o.sortOrder,f=KP(n,l,u,t,e.use_index),d=YP(n,f),m=d.queryOpts,v=d.inMemoryFields,p=BP(v,f,n,l);return{queryOpts:m,index:f,inMemoryFields:p}}function e2(e){return e.ddoc.substring(8)+"/"+e.name}async function t2(e,t){const n=Xr(t);n.descending?("endkey"in n&&typeof n.endkey!="string"&&(n.endkey=""),"startkey"in n&&typeof n.startkey!="string"&&(n.limit=0)):("startkey"in n&&typeof n.startkey!="string"&&(n.startkey=""),"endkey"in n&&typeof n.endkey!="string"&&(n.limit=0)),"key"in n&&typeof n.key!="string"&&(n.limit=0),n.limit>0&&n.indexes_count&&(n.original_limit=n.limit,n.limit+=n.indexes_count);const i=await e.allDocs(n);return i.rows=i.rows.filter(function(o){return!/^_design\//.test(o.id)}),n.original_limit&&(n.limit=n.original_limit),i.rows=i.rows.slice(0,n.limit),i}async function n2(e,t,n){return n.name==="_all_docs"?t2(e,t):Dd(e).query.call(e,e2(n),t)}async function xw(e,t,n){t.selector&&(rl(t.selector,!1),t.selector=Rd(t.selector)),t.sort&&(t.sort=kP(t.sort)),t.use_index&&(t.use_index=EP(t.use_index)),"limit"in t||(t.limit=25),NP(t);const i=await yw(e);e.constructor.emit("debug",["find","planning query",t]);const o=ZP(t,i.indexes);e.constructor.emit("debug",["find","query plan",o]);const l=o.index;jP(t,l);let u=Object.assign({include_docs:!0,reduce:!1,indexes_count:i.total_rows},o.queryOpts);if("startkey"in u&&"endkey"in u&&ot(u.startkey,u.endkey)>0)return{docs:[]};if(t.sort&&typeof t.sort[0]!="string"&&Nd(t.sort[0])==="desc"&&(u.descending=!0,u=PP(u)),o.inMemoryFields.length||(u.limit=t.limit,"skip"in t&&(u.skip=t.skip)),n)return Promise.resolve(o,u);const d=await n2(e,u,l);u.inclusive_start===!1&&(d.rows=TP(d.rows,u.startkey,l)),o.inMemoryFields.length&&(d.rows=cw(d.rows,t,o.inMemoryFields));const m={docs:d.rows.map(function(v){const p=v.doc;return t.fields?ZT(p,t.fields):p})};return l.defaultUsed&&(m.warning="No matching index found, create an index to optimize query time."),m}async function r2(e,t){const n=await xw(e,t,!0);return{dbname:e.name,index:n.index,selector:t.selector,range:{start_key:n.queryOpts.startkey,end_key:n.queryOpts.endkey},opts:{use_index:t.use_index||[],bookmark:"nil",limit:t.limit,skip:t.skip,sort:t.sort||{},fields:t.fields,conflicts:!1,r:[49]},limit:t.limit,skip:t.skip||0,fields:t.fields}}async function i2(e,t){if(!t.ddoc)throw new Error("you must supply an index.ddoc when deleting");if(!t.name)throw new Error("you must supply an index.name when deleting");const n=t.ddoc,i=t.name;function o(l){return Object.keys(l.views).length===1&&l.views[i]?{_id:n,_deleted:!0}:(delete l.views[i],l)}return await vl(e,n,o),await Dd(e).viewCleanup.apply(e),{ok:!0}}const qi={};qi.createIndex=lo(async function(e){if(typeof e!="object")throw new Error("you must provide an index to create");return(Yr(this)?uP:OP)(this,e)});qi.find=lo(async function(e){if(typeof e!="object")throw new Error("you must provide search parameters to find()");return(Yr(this)?cP:xw)(this,e)});qi.explain=lo(async function(e){if(typeof e!="object")throw new Error("you must provide search parameters to explain()");return(Yr(this)?fP:r2)(this,e)});qi.getIndexes=lo(async function(){return(Yr(this)?dP:yw)(this)});qi.deleteIndex=lo(async function(e){if(typeof e!="object")throw new Error("you must provide an index to delete");return(Yr(this)?hP:i2)(this,e)});const Ld={async syncPatient(e){return console.log("[FUTURE SYNC]: patient",e),Promise.resolve()},async syncEncounter(e){return console.log("[FUTURE SYNC]: encounter",e),Promise.resolve()}};Pe.plugin(qi);const Nn=new Pe("medivoice_local");let Wc=null;async function co(){return Wc||(Wc=(async()=>{await Nn.createIndex({index:{fields:["type","status","createdAt"]}}),await Nn.createIndex({index:{fields:["type","registeredAt"]}})})()),Wc}function _w(){return crypto.randomUUID()}async function s2(e){await co();const t={...e,type:"patient"};return await Nn.put(t),await Ld.syncPatient(e),e}async function o2(e){await co();const t={...e,type:"encounter"};return await Nn.put(t),await Ld.syncEncounter(e),e}async function gl(e,t){await co();const n=await Nn.get(e);if(!n||n.type!=="encounter")throw new Error("Encounter not found");const i={...n,...t,synced:!1};await Nn.put(i);const{type:o,_rev:l,...u}=i;return await Ld.syncEncounter(u),u}async function Sw(e){try{const t=await Nn.get(e);if(!t||t.type!=="encounter")return null;const{type:n,_rev:i,...o}=t;return o}catch(t){if((t==null?void 0:t.status)===404)return null;throw t}}async function dr(e){return await co(),(await Nn.find({selector:{type:"encounter",status:e},sort:[{type:"asc"},{status:"asc"},{createdAt:"desc"}]})).docs.map(({type:n,...i})=>i)}async function a2(){const[e,t]=await Promise.all([dr("results_ready"),dr("waiting_for_consult")]);return[...e,...t]}async function l2(e,t){return gl(e,{status:"waiting_for_lab",labs:t})}async function u2(){return dr("waiting_for_lab")}async function c2(e,t){return gl(e,{status:"results_ready",labResults:t})}async function f2(e,t,n){return gl(e,{symptoms:t,initialDiagnosis:n})}async function d2(e,t,n){return gl(e,{status:"discharged",finalDiagnosis:t,finalAnalysis:n})}async function wl(){return await co(),(await Nn.find({selector:{type:"patient"},sort:[{type:"asc"},{registeredAt:"desc"}]})).docs.map(({type:t,...n})=>n)}async function Md(e){try{const t=await Nn.get(e);if(t.type!=="patient")return null;const{type:n,...i}=t;return i}catch(t){if((t==null?void 0:t.status)===404)return null;throw t}}function h2(e){if(!e)return null;const t=String(e).match(/-?\d+(\.\d+)?/);if(!t)return null;const n=Number(t[0]);return Number.isFinite(n)?n:null}function p2(){const e=gr(),[t,n]=F.useState([]),[i,o]=F.useState({});F.useEffect(()=>{const u=async()=>{const[d,m]=await Promise.all([a2(),wl()]),v={};for(const p of m)v[p._id]=p;o(v),n(d)};u();const f=()=>void u();return window.addEventListener("focus",f),()=>window.removeEventListener("focus",f)},[]);const l=F.useMemo(()=>t.map(f=>{var v;const d=i[f.patientId],m=h2((v=f.vitals)==null?void 0:v.temp);return{encounter:f,patient:d,temp:m}}).sort((f,d)=>{const m=f.encounter.status==="results_ready"?0:1,v=d.encounter.status==="results_ready"?0:1;return m!==v?m-v:Date.parse(d.encounter.createdAt)-Date.parse(f.encounter.createdAt)}),[t,i]);return O.jsxs("div",{className:"mx-auto max-w-5xl px-6 py-8",children:[O.jsx("div",{className:"mb-6 flex items-center justify-between gap-4",children:O.jsxs("div",{children:[O.jsx("div",{className:"text-sm font-semibold text-slate-500",children:"Doctor's Queue"}),O.jsx("h1",{className:"text-2xl font-semibold text-slate-900",children:"Patients waiting for consultation"}),O.jsxs("div",{className:"mt-1 text-sm text-slate-600",children:[l.length," in queue"]})]})}),O.jsx("div",{className:"space-y-3",children:l.length===0?O.jsx("div",{className:"rounded-2xl border border-dashed border-slate-200 bg-slate-50 px-4 py-10 text-center text-sm text-slate-600",children:"No patients waiting for consult."}):l.map(({encounter:u,patient:f,temp:d})=>{var m,v;return O.jsxs("button",{onClick:()=>e(u.status==="results_ready"?`/post-lab/${u._id}`:`/consultation/${u._id}`),className:"flex w-full items-center justify-between gap-4 rounded-2xl border border-slate-200 bg-white px-5 py-4 text-left shadow-sm hover:bg-slate-50",children:[O.jsxs("div",{className:"min-w-0",children:[O.jsx("div",{className:"text-sm font-semibold text-slate-900",children:(f==null?void 0:f.name)??"Unknown Patient"}),O.jsx("div",{className:"mt-1 text-sm text-slate-600",children:f?`${f.age}  ${f.sex}`:"Patient details missing"}),u.status==="results_ready"&&O.jsxs("div",{className:"mt-2 inline-flex items-center gap-2 rounded-full bg-emerald-50 px-2 py-1 text-xs font-semibold text-emerald-700",children:[O.jsx(Cv,{className:"h-3.5 w-3.5"}),"Results Ready"]})]}),O.jsxs("div",{className:"flex items-center gap-4",children:[O.jsxs("div",{className:"text-right",children:[O.jsx("div",{className:"text-xs font-semibold text-slate-600",children:"Temp"}),O.jsx("div",{className:["text-sm font-semibold",d!==null&&d>38?"text-red-600":"text-slate-900"].join(" "),children:((m=u.vitals)==null?void 0:m.temp)||""})]}),O.jsxs("div",{className:"text-right",children:[O.jsx("div",{className:"text-xs font-semibold text-slate-600",children:"BP"}),O.jsx("div",{className:"text-sm font-semibold text-slate-900",children:((v=u.vitals)==null?void 0:v.bp)||""})]}),O.jsx("div",{className:"rounded-xl bg-slate-900 p-2 text-white",children:u.status==="results_ready"?O.jsx(Cv,{className:"h-4 w-4"}):O.jsx(c0,{className:"h-4 w-4"})})]})]},u._id)})})]})}function m2(e){return/rdt/i.test(e)}function v2({isOpen:e,encounterId:t,requestedTests:n,onClose:i,onSubmit:o}){const[l,u]=F.useState({}),f=F.useMemo(()=>n.filter(Boolean),[n]);return!e||!t?null:O.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 p-6",children:O.jsxs("div",{className:"w-full max-w-2xl overflow-hidden rounded-2xl bg-white shadow-2xl",children:[O.jsxs("div",{className:"flex items-center justify-between border-b border-slate-100 px-6 py-4",children:[O.jsxs("div",{children:[O.jsx("div",{className:"text-sm font-semibold text-slate-500",children:"Result Entry"}),O.jsx("div",{className:"text-xl font-semibold text-slate-900",children:"Enter lab results"})]}),O.jsx("button",{onClick:i,className:"rounded-xl p-2 text-slate-600 hover:bg-slate-50","aria-label":"Close",children:O.jsx(f0,{className:"h-5 w-5"})})]}),O.jsx("div",{className:"space-y-4 px-6 py-5",children:f.length===0?O.jsx("div",{className:"rounded-xl border border-dashed border-slate-200 bg-slate-50 px-4 py-8 text-center text-sm text-slate-600",children:"No requested tests found for this encounter."}):f.map(d=>{const m=l[d]??"",v=m2(d);return O.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4",children:[O.jsx("div",{className:"text-sm font-semibold text-slate-900",children:d}),O.jsx("div",{className:"mt-3",children:v?O.jsxs("div",{className:"flex gap-3",children:[O.jsxs("label",{className:"inline-flex cursor-pointer items-center gap-2 rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 hover:bg-slate-50",children:[O.jsx("input",{type:"radio",name:`bin-${d}`,checked:m==="Positive",onChange:()=>u(p=>({...p,[d]:"Positive"}))}),"Positive"]}),O.jsxs("label",{className:"inline-flex cursor-pointer items-center gap-2 rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 hover:bg-slate-50",children:[O.jsx("input",{type:"radio",name:`bin-${d}`,checked:m==="Negative",onChange:()=>u(p=>({...p,[d]:"Negative"}))}),"Negative"]})]}):O.jsx("input",{value:m,onChange:p=>u(x=>({...x,[d]:p.target.value})),type:"text",placeholder:'e.g. "12.5" or "WBC 12.5"',className:"w-full rounded-xl border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-900 outline-none"})})]},d)})}),O.jsxs("div",{className:"flex items-center justify-between gap-3 border-t border-slate-100 px-6 py-4",children:[O.jsx("button",{onClick:i,className:"rounded-xl px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Cancel"}),O.jsx("button",{onClick:()=>o(l),className:"rounded-xl bg-slate-900 px-4 py-2 text-sm font-semibold text-white hover:bg-slate-800",children:"Submit Results"})]})]})})}function y2(e,t=Date.now()){const n=Date.parse(e);if(Number.isNaN(n))return"";const i=Math.max(0,Math.floor((t-n)/6e4));if(i<60)return`${i}m`;const o=Math.floor(i/60),l=i%60;return l?`${o}h ${l}m`:`${o}h`}function g2(){const[e,t]=F.useState([]),[n,i]=F.useState({}),[o,l]=F.useState(null),[u,f]=F.useState([]),[d,m]=F.useState(()=>Date.now()),v=async()=>{const[x,P]=await Promise.all([u2(),wl()]),T={};for(const N of P)T[N._id]=N;i(T),t(x)};F.useEffect(()=>{v();const x=()=>void v();return window.addEventListener("focus",x),()=>window.removeEventListener("focus",x)},[]),F.useEffect(()=>{const x=window.setInterval(()=>m(Date.now()),3e4);return()=>window.clearInterval(x)},[]);const p=F.useMemo(()=>e.map(x=>({encounter:x,patient:n[x.patientId]})),[e,n]);return O.jsxs("div",{className:"mx-auto max-w-6xl px-6 py-8",children:[O.jsxs("div",{className:"mb-6",children:[O.jsx("div",{className:"text-sm font-semibold text-slate-500",children:"Lab Queue"}),O.jsx("h1",{className:"text-2xl font-semibold text-slate-900",children:"Patients waiting for lab"}),O.jsxs("div",{className:"mt-1 text-sm text-slate-600",children:[p.length," in queue"]})]}),O.jsxs("div",{className:"overflow-hidden rounded-2xl border border-slate-200 bg-white shadow-sm",children:[O.jsxs("div",{className:"grid grid-cols-[1fr_1.2fr_0.5fr] gap-3 border-b border-slate-100 bg-slate-50 px-4 py-3 text-xs font-semibold text-slate-600",children:[O.jsx("div",{children:"Patient"}),O.jsx("div",{children:"Requested Tests"}),O.jsx("div",{children:"Time Waiting"})]}),O.jsx("div",{className:"divide-y divide-slate-100",children:p.length===0?O.jsx("div",{className:"px-4 py-10 text-center text-sm text-slate-500",children:"No patients in lab queue."}):p.map(({encounter:x,patient:P})=>O.jsxs("button",{onClick:()=>{l(x._id),f(x.labs??[])},className:"grid w-full grid-cols-[1fr_1.2fr_0.5fr] gap-3 px-4 py-4 text-left text-sm hover:bg-slate-50",children:[O.jsx("div",{className:"font-semibold text-slate-900",children:(P==null?void 0:P.name)??"Unknown Patient"}),O.jsx("div",{className:"text-slate-700",children:(x.labs??[]).join(", ")||""}),O.jsx("div",{className:"text-slate-700",children:y2(x.createdAt,d)})]},x._id))})]}),O.jsx(v2,{isOpen:!!o,encounterId:o,requestedTests:u,onClose:()=>{l(null),f([])},onSubmit:x=>{o&&(async()=>(await c2(o,x),l(null),f([]),await v()))()}})]})}const w2=[{title:"Waiting for Consult",status:"waiting_for_consult"},{title:"In Consult",status:"in_consult"},{title:"Waiting for Lab",status:"waiting_for_lab"},{title:"Discharged",status:"discharged"}];function x2(e,t=Date.now()){const n=Date.parse(e);return Number.isNaN(n)?0:Math.max(0,Math.floor((t-n)/6e4))}function _2(e,t=Date.now()){const n=x2(e,t);if(n<60)return`${n}m`;const i=Math.floor(n/60),o=n%60;return o?`${i}h ${o}m`:`${i}h`}function S2(){const e=gr(),[t,n]=F.useState({waiting_for_consult:[],in_consult:[],waiting_for_lab:[],discharged:[]}),[i,o]=F.useState({}),[l,u]=F.useState(!1),[f,d]=F.useState("choose"),[m,v]=F.useState(""),[p,x]=F.useState(25),[P,T]=F.useState("male"),[N,k]=F.useState(()=>Date.now()),S=async()=>{const[_,E,$,I,U,G]=await Promise.all([wl(),dr("waiting_for_consult"),dr("in_consult"),dr("waiting_for_lab"),dr("results_ready"),dr("discharged")]),te={};for(const ce of _)te[ce._id]=ce;o(te),n({waiting_for_consult:E,in_consult:$,waiting_for_lab:[...U,...I],discharged:G})};F.useEffect(()=>{S();const _=()=>void S();return window.addEventListener("focus",_),()=>window.removeEventListener("focus",_)},[]),F.useEffect(()=>{const _=window.setInterval(()=>k(Date.now()),3e4);return()=>window.clearInterval(_)},[]);const C=()=>{v(""),x(25),T("male"),d("choose"),u(!0)},w=async()=>{const _=m.trim();if(!_)return;const E=_w(),$={_id:E,name:_,age:Number.isFinite(p)?p:0,sex:P,registeredAt:new Date().toISOString()};await s2($),u(!1),e(`/vitals/${E}`)},g=F.useMemo(()=>t.waiting_for_consult.length+t.in_consult.length+t.waiting_for_lab.length+t.discharged.length,[t]);return O.jsxs("div",{className:"mx-auto max-w-6xl px-6 py-8",children:[O.jsxs("div",{className:"mb-6 flex items-center justify-between gap-4",children:[O.jsxs("div",{children:[O.jsx("div",{className:"text-sm font-semibold text-slate-500",children:"Active Sessions"}),O.jsx("h1",{className:"text-2xl font-semibold text-slate-900",children:"Nurse Workflow"}),O.jsxs("div",{className:"mt-1 text-sm text-slate-600",children:[g," encounters in queue"]})]}),O.jsxs("button",{onClick:()=>e("/patients"),className:"inline-flex items-center gap-2 rounded-xl border border-slate-200 bg-white px-4 py-2 text-sm font-semibold text-slate-900 shadow-sm hover:bg-slate-50",children:[O.jsx(Yk,{className:"h-4 w-4"}),"Patient Database"]})]}),O.jsx("div",{className:"grid gap-4 lg:grid-cols-4",children:w2.map(_=>{const E=t[_.status]??[];return O.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white",children:[O.jsxs("div",{className:"flex items-center justify-between border-b border-slate-100 px-4 py-3",children:[O.jsx("div",{className:"text-sm font-semibold text-slate-800",children:_.title}),O.jsx("div",{className:"rounded-full bg-slate-100 px-2 py-0.5 text-xs font-semibold text-slate-700",children:E.length})]}),O.jsx("div",{className:"space-y-3 p-4",children:E.length===0?O.jsx("div",{className:"rounded-xl border border-dashed border-slate-200 bg-slate-50 px-3 py-6 text-center text-sm text-slate-500",children:"No patients"}):E.map($=>{const I=i[$.patientId],U=(I==null?void 0:I.name)??"Unknown Patient",G=_2($.createdAt,N);return O.jsx("div",{className:"rounded-xl border border-slate-200 bg-white px-3 py-3 shadow-sm",children:O.jsxs("div",{className:"flex items-start justify-between gap-3",children:[O.jsxs("div",{children:[O.jsx("div",{className:"text-sm font-semibold text-slate-900",children:U}),O.jsxs("div",{className:"mt-1 text-xs text-slate-600",children:["Time waiting: ",G]})]}),O.jsx("div",{className:"rounded-lg bg-slate-50 px-2 py-1 text-xs font-semibold text-slate-700",children:_.title})]})},$._id)})})]},_.status)})}),O.jsxs("button",{onClick:C,className:"fixed bottom-6 right-6 inline-flex items-center gap-3 rounded-2xl bg-slate-900 px-5 py-4 text-sm font-semibold text-white shadow-xl hover:bg-slate-800",children:[O.jsx(Wk,{className:"h-5 w-5"}),"New Entry"]}),l&&O.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 p-6",children:O.jsxs("div",{className:"w-full max-w-lg rounded-2xl bg-white shadow-2xl",children:[O.jsxs("div",{className:"border-b border-slate-100 px-6 py-4",children:[O.jsx("div",{className:"text-sm font-semibold text-slate-500",children:"Patient Selection"}),O.jsx("div",{className:"text-xl font-semibold text-slate-900",children:"Start a new session"})]}),O.jsx("div",{className:"px-6 py-5",children:f==="choose"?O.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[O.jsxs("button",{onClick:()=>d("new_patient"),className:"rounded-2xl border border-slate-200 bg-white px-4 py-5 text-left shadow-sm hover:bg-slate-50",children:[O.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"New Patient"}),O.jsx("div",{className:"mt-1 text-sm text-slate-600",children:"Register and capture vitals"})]}),O.jsxs("button",{onClick:()=>{u(!1),e("/patients?select=1")},className:"rounded-2xl border border-slate-200 bg-white px-4 py-5 text-left shadow-sm hover:bg-slate-50",children:[O.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Select Existing"}),O.jsx("div",{className:"mt-1 text-sm text-slate-600",children:"Search patient database"})]})]}):O.jsxs("div",{className:"space-y-4",children:[O.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[O.jsxs("div",{className:"space-y-1",children:[O.jsx("div",{className:"text-sm font-medium text-slate-700",children:"Name"}),O.jsx("input",{value:m,onChange:_=>v(_.target.value),className:"w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-slate-900 outline-none",placeholder:"e.g. Kwame"})]}),O.jsxs("div",{className:"space-y-1",children:[O.jsx("div",{className:"text-sm font-medium text-slate-700",children:"Age"}),O.jsx("input",{value:String(p),onChange:_=>x(Number(_.target.value)),type:"number",min:0,className:"w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-slate-900 outline-none"})]})]}),O.jsxs("div",{className:"space-y-1",children:[O.jsx("div",{className:"text-sm font-medium text-slate-700",children:"Sex"}),O.jsxs("div",{className:"flex gap-3",children:[O.jsxs("label",{className:"inline-flex items-center gap-2 rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900",children:[O.jsx("input",{type:"radio",checked:P==="male",onChange:()=>T("male")}),"Male"]}),O.jsxs("label",{className:"inline-flex items-center gap-2 rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900",children:[O.jsx("input",{type:"radio",checked:P==="female",onChange:()=>T("female")}),"Female"]})]})]})]})}),O.jsxs("div",{className:"flex items-center justify-between gap-3 border-t border-slate-100 px-6 py-4",children:[O.jsx("button",{onClick:()=>{f==="new_patient"?d("choose"):u(!1)},className:"rounded-xl px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:f==="new_patient"?"Back":"Cancel"}),f==="new_patient"&&O.jsx("button",{onClick:()=>void w(),className:"rounded-xl bg-slate-900 px-4 py-2 text-sm font-semibold text-white hover:bg-slate-800",children:"Create & Continue"})]})]})})]})}function k2(){const e=gr(),[t]=Mk(),n=t.get("select")==="1",[i,o]=F.useState([]),[l,u]=F.useState("");F.useEffect(()=>{(async()=>{const m=await wl();o(m)})()},[]);const f=F.useMemo(()=>{const d=l.trim().toLowerCase();return d?i.filter(m=>m.name.toLowerCase().includes(d)||m._id.toLowerCase().includes(d)):i},[i,l]);return O.jsxs("div",{className:"mx-auto max-w-4xl px-6 py-8",children:[O.jsxs("div",{className:"mb-6",children:[O.jsx("div",{className:"text-sm font-semibold text-slate-500",children:n?"Select Existing":"Patient Database"}),O.jsx("h1",{className:"text-2xl font-semibold text-slate-900",children:n?"Select a patient":"Patients"}),n&&O.jsx("div",{className:"mt-1 text-sm text-slate-600",children:"Click a patient to start a new vitals session."})]}),O.jsxs("div",{className:"mb-4 flex items-center gap-2 rounded-2xl border border-slate-200 bg-white px-4 py-3 shadow-sm",children:[O.jsx(Gk,{className:"h-4 w-4 text-slate-500"}),O.jsx("input",{value:l,onChange:d=>u(d.target.value),placeholder:"Search by name...",className:"w-full bg-transparent text-sm text-slate-900 outline-none placeholder:text-slate-400"})]}),O.jsxs("div",{className:"overflow-hidden rounded-2xl border border-slate-200 bg-white shadow-sm",children:[O.jsxs("div",{className:"grid grid-cols-[1.2fr_0.5fr_0.5fr] gap-3 border-b border-slate-100 bg-slate-50 px-4 py-3 text-xs font-semibold text-slate-600",children:[O.jsx("div",{children:"Name"}),O.jsx("div",{children:"Age"}),O.jsx("div",{children:"Sex"})]}),O.jsx("div",{className:"divide-y divide-slate-100",children:f.length===0?O.jsx("div",{className:"px-4 py-10 text-center text-sm text-slate-500",children:"No patients found."}):f.map(d=>O.jsxs("button",{onClick:()=>e(`/vitals/${d._id}`),className:"grid w-full grid-cols-[1.2fr_0.5fr_0.5fr] gap-3 px-4 py-4 text-left text-sm hover:bg-slate-50",children:[O.jsx("div",{className:"font-semibold text-slate-900",children:d.name}),O.jsx("div",{className:"text-slate-700",children:d.age}),O.jsx("div",{className:"text-slate-700",children:d.sex})]},d._id))})]})]})}function Hc(e){return Number.isFinite(e)?Math.max(0,Math.min(1,e)):0}function kw({diagnoses:e}){const t=F.useMemo(()=>[...e].sort((o,l)=>Hc(l.probability)-Hc(o.probability)),[e]),[n,i]=F.useState(null);return t.length?O.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4",children:[O.jsx("div",{className:"mb-3 text-sm font-semibold text-slate-800",children:"Differential Diagnosis"}),O.jsx("div",{className:"space-y-3",children:t.map((o,l)=>{const u=Hc(o.probability),f=Math.round(u*100),d=n===l;return O.jsxs("div",{className:"rounded-xl border border-slate-200 p-3",children:[O.jsxs("button",{type:"button",onClick:()=>i(d?null:l),className:"flex w-full items-start justify-between gap-3 text-left",children:[O.jsxs("div",{className:"min-w-0",children:[O.jsx("div",{className:"text-sm font-semibold text-slate-900",children:o.condition}),O.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[O.jsx("div",{className:"h-2 w-full max-w-[260px] overflow-hidden rounded-full bg-slate-100",children:O.jsx("div",{className:"h-2 rounded-full bg-emerald-600",style:{width:`${f}%`}})}),O.jsxs("div",{className:"shrink-0 text-xs font-semibold text-slate-700",children:[f,"%"]})]})]}),d?O.jsx(Uk,{className:"mt-0.5 h-4 w-4 text-slate-600"}):O.jsx(Vk,{className:"mt-0.5 h-4 w-4 text-slate-600"})]}),d&&O.jsx("div",{className:"mt-3 rounded-lg bg-slate-50 px-3 py-2 text-sm text-slate-700",children:o.reasoning})]},`${o.condition}-${l}`)})})]}):O.jsx("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 text-sm text-slate-600",children:"No diagnoses yet."})}const vy=["Malaria RDT","Widal","FBC","Urinalysis"];function b2({isOpen:e,onClose:t,onSubmit:n}){const[i,o]=F.useState(()=>({})),[l,u]=F.useState(""),f=F.useMemo(()=>{const d=[];for(const v of vy)i[v]&&d.push(v);const m=l.split(",").map(v=>v.trim()).filter(Boolean);for(const v of m)d.push(v);return d},[l,i]);return e?O.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 p-6",children:O.jsxs("div",{className:"w-full max-w-xl overflow-hidden rounded-2xl bg-white shadow-2xl",children:[O.jsxs("div",{className:"flex items-center justify-between border-b border-slate-100 px-6 py-4",children:[O.jsxs("div",{children:[O.jsx("div",{className:"text-sm font-semibold text-slate-500",children:"Lab Request"}),O.jsx("div",{className:"text-xl font-semibold text-slate-900",children:"Order labs & proceed"})]}),O.jsx("button",{onClick:t,className:"rounded-xl p-2 text-slate-600 hover:bg-slate-50","aria-label":"Close",children:O.jsx(f0,{className:"h-5 w-5"})})]}),O.jsxs("div",{className:"space-y-4 px-6 py-5",children:[O.jsx("div",{className:"grid gap-3 sm:grid-cols-2",children:vy.map(d=>O.jsxs("label",{className:"flex cursor-pointer items-center gap-3 rounded-2xl border border-slate-200 bg-white px-4 py-4 text-sm text-slate-900 hover:bg-slate-50",children:[O.jsx("input",{type:"checkbox",checked:!!i[d],onChange:m=>o(v=>({...v,[d]:m.target.checked}))}),O.jsx("div",{className:"font-semibold",children:d})]},d))}),O.jsxs("div",{className:"space-y-1",children:[O.jsx("div",{className:"text-sm font-medium text-slate-700",children:"Other (comma-separated)"}),O.jsx("input",{value:l,onChange:d=>u(d.target.value),placeholder:"e.g. U&E, LFT",className:"w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm text-slate-900 outline-none"})]})]}),O.jsxs("div",{className:"flex items-center justify-between gap-3 border-t border-slate-100 px-6 py-4",children:[O.jsx("button",{onClick:t,className:"rounded-xl px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-50",children:"Cancel"}),O.jsx("button",{onClick:()=>n(f),className:"rounded-xl bg-slate-900 px-4 py-2 text-sm font-semibold text-white hover:bg-slate-800",children:"Submit Order"})]})]})}):null}const bw=F.createContext({});function E2(e){const t=F.useRef(null);return t.current===null&&(t.current=e()),t.current}const Id=F.createContext(null),Ew=F.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function C2(e=!0){const t=F.useContext(Id);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:o}=t,l=F.useId();F.useEffect(()=>{e&&o(l)},[e]);const u=F.useCallback(()=>e&&i&&i(l),[l,i,e]);return!n&&i?[!1,u]:[!0]}const $d=typeof window<"u",T2=$d?F.useLayoutEffect:F.useEffect,qt=e=>e;let Cw=qt;function Bd(e){let t;return()=>(t===void 0&&(t=e()),t)}const $i=(e,t,n)=>{const i=t-e;return i===0?1:(n-e)/i},Vn=e=>e*1e3,Un=e=>e/1e3,P2={useManualTiming:!1};function A2(e){let t=new Set,n=new Set,i=!1,o=!1;const l=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function f(m){l.has(m)&&(d.schedule(m),e()),m(u)}const d={schedule:(m,v=!1,p=!1)=>{const P=p&&i?t:n;return v&&l.add(m),P.has(m)||P.add(m),m},cancel:m=>{n.delete(m),l.delete(m)},process:m=>{if(u=m,i){o=!0;return}i=!0,[t,n]=[n,t],t.forEach(f),t.clear(),i=!1,o&&(o=!1,d.process(m))}};return d}const Da=["read","resolveKeyframes","update","preRender","render","postRender"],j2=40;function Tw(e,t){let n=!1,i=!0;const o={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,u=Da.reduce((S,C)=>(S[C]=A2(l),S),{}),{read:f,resolveKeyframes:d,update:m,preRender:v,render:p,postRender:x}=u,P=()=>{const S=performance.now();n=!1,o.delta=i?1e3/60:Math.max(Math.min(S-o.timestamp,j2),1),o.timestamp=S,o.isProcessing=!0,f.process(o),d.process(o),m.process(o),v.process(o),p.process(o),x.process(o),o.isProcessing=!1,n&&t&&(i=!1,e(P))},T=()=>{n=!0,i=!0,o.isProcessing||e(P)};return{schedule:Da.reduce((S,C)=>{const w=u[C];return S[C]=(g,_=!1,E=!1)=>(n||T(),w.schedule(g,_,E)),S},{}),cancel:S=>{for(let C=0;C<Da.length;C++)u[Da[C]].cancel(S)},state:o,steps:u}}const{schedule:Ve,cancel:mr,state:wt,steps:Gc}=Tw(typeof requestAnimationFrame<"u"?requestAnimationFrame:qt,!0),Pw=F.createContext({strict:!1}),yy={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Bi={};for(const e in yy)Bi[e]={isEnabled:t=>yy[e].some(n=>!!t[n])};function N2(e){for(const t in e)Bi[t]={...Bi[t],...e[t]}}const R2=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function sl(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||R2.has(e)}let Aw=e=>!sl(e);function O2(e){e&&(Aw=t=>t.startsWith("on")?!sl(t):e(t))}try{O2(require("@emotion/is-prop-valid").default)}catch{}function D2(e,t,n){const i={};for(const o in e)o==="values"&&typeof e.values=="object"||(Aw(o)||n===!0&&sl(o)||!t&&!sl(o)||e.draggable&&o.startsWith("onDrag"))&&(i[o]=e[o]);return i}function L2(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...i)=>e(...i);return new Proxy(n,{get:(i,o)=>o==="create"?e:(t.has(o)||t.set(o,e(o)),t.get(o))})}const xl=F.createContext({});function Ys(e){return typeof e=="string"||Array.isArray(e)}function _l(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const Fd=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Vd=["initial",...Fd];function Sl(e){return _l(e.animate)||Vd.some(t=>Ys(e[t]))}function jw(e){return!!(Sl(e)||e.variants)}function M2(e,t){if(Sl(e)){const{initial:n,animate:i}=e;return{initial:n===!1||Ys(n)?n:void 0,animate:Ys(i)?i:void 0}}return e.inherit!==!1?t:{}}function I2(e){const{initial:t,animate:n}=M2(e,F.useContext(xl));return F.useMemo(()=>({initial:t,animate:n}),[gy(t),gy(n)])}function gy(e){return Array.isArray(e)?e.join(" "):e}const $2=Symbol.for("motionComponentSymbol");function Pi(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function B2(e,t,n){return F.useCallback(i=>{i&&e.onMount&&e.onMount(i),t&&(i?t.mount(i):t.unmount()),n&&(typeof n=="function"?n(i):Pi(n)&&(n.current=i))},[t])}const Ud=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),F2="framerAppearId",Nw="data-"+Ud(F2),{schedule:zd}=Tw(queueMicrotask,!1),Rw=F.createContext({});function V2(e,t,n,i,o){var l,u;const{visualElement:f}=F.useContext(xl),d=F.useContext(Pw),m=F.useContext(Id),v=F.useContext(Ew).reducedMotion,p=F.useRef(null);i=i||d.renderer,!p.current&&i&&(p.current=i(e,{visualState:t,parent:f,props:n,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:v}));const x=p.current,P=F.useContext(Rw);x&&!x.projection&&o&&(x.type==="html"||x.type==="svg")&&U2(p.current,n,o,P);const T=F.useRef(!1);F.useInsertionEffect(()=>{x&&T.current&&x.update(n,m)});const N=n[Nw],k=F.useRef(!!N&&!(!((l=window.MotionHandoffIsComplete)===null||l===void 0)&&l.call(window,N))&&((u=window.MotionHasOptimisedAnimation)===null||u===void 0?void 0:u.call(window,N)));return T2(()=>{x&&(T.current=!0,window.MotionIsMounted=!0,x.updateFeatures(),zd.render(x.render),k.current&&x.animationState&&x.animationState.animateChanges())}),F.useEffect(()=>{x&&(!k.current&&x.animationState&&x.animationState.animateChanges(),k.current&&(queueMicrotask(()=>{var S;(S=window.MotionHandoffMarkAsComplete)===null||S===void 0||S.call(window,N)}),k.current=!1))}),x}function U2(e,t,n,i){const{layoutId:o,layout:l,drag:u,dragConstraints:f,layoutScroll:d,layoutRoot:m}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:Ow(e.parent)),e.projection.setOptions({layoutId:o,layout:l,alwaysMeasureLayout:!!u||f&&Pi(f),visualElement:e,animationType:typeof l=="string"?l:"both",initialPromotionConfig:i,layoutScroll:d,layoutRoot:m})}function Ow(e){if(e)return e.options.allowProjection!==!1?e.projection:Ow(e.parent)}function z2({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:i,Component:o}){var l,u;e&&N2(e);function f(m,v){let p;const x={...F.useContext(Ew),...m,layoutId:q2(m)},{isStatic:P}=x,T=I2(m),N=i(m,P);if(!P&&$d){K2();const k=W2(x);p=k.MeasureLayout,T.visualElement=V2(o,N,x,t,k.ProjectionNode)}return O.jsxs(xl.Provider,{value:T,children:[p&&T.visualElement?O.jsx(p,{visualElement:T.visualElement,...x}):null,n(o,m,B2(N,T.visualElement,v),N,P,T.visualElement)]})}f.displayName=`motion.${typeof o=="string"?o:`create(${(u=(l=o.displayName)!==null&&l!==void 0?l:o.name)!==null&&u!==void 0?u:""})`}`;const d=F.forwardRef(f);return d[$2]=o,d}function q2({layoutId:e}){const t=F.useContext(bw).id;return t&&e!==void 0?t+"-"+e:e}function K2(e,t){F.useContext(Pw).strict}function W2(e){const{drag:t,layout:n}=Bi;if(!t&&!n)return{};const i={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const H2=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function qd(e){return typeof e!="string"||e.includes("-")?!1:!!(H2.indexOf(e)>-1||/[A-Z]/u.test(e))}function wy(e){const t=[{},{}];return e==null||e.values.forEach((n,i)=>{t[0][i]=n.get(),t[1][i]=n.getVelocity()}),t}function Kd(e,t,n,i){if(typeof t=="function"){const[o,l]=wy(i);t=t(n!==void 0?n:e.custom,o,l)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[o,l]=wy(i);t=t(n!==void 0?n:e.custom,o,l)}return t}const Vf=e=>Array.isArray(e),G2=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),Q2=e=>Vf(e)?e[e.length-1]||0:e,Tt=e=>!!(e&&e.getVelocity);function Ua(e){const t=Tt(e)?e.get():e;return G2(t)?t.toValue():t}function J2({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:n},i,o,l){const u={latestValues:X2(i,o,l,e),renderState:t()};return n&&(u.onMount=f=>n({props:i,current:f,...u}),u.onUpdate=f=>n(f)),u}const Dw=e=>(t,n)=>{const i=F.useContext(xl),o=F.useContext(Id),l=()=>J2(e,t,i,o);return n?l():E2(l)};function X2(e,t,n,i){const o={},l=i(e,{});for(const x in l)o[x]=Ua(l[x]);let{initial:u,animate:f}=e;const d=Sl(e),m=jw(e);t&&m&&!d&&e.inherit!==!1&&(u===void 0&&(u=t.initial),f===void 0&&(f=t.animate));let v=n?n.initial===!1:!1;v=v||u===!1;const p=v?f:u;if(p&&typeof p!="boolean"&&!_l(p)){const x=Array.isArray(p)?p:[p];for(let P=0;P<x.length;P++){const T=Kd(e,x[P]);if(T){const{transitionEnd:N,transition:k,...S}=T;for(const C in S){let w=S[C];if(Array.isArray(w)){const g=v?w.length-1:0;w=w[g]}w!==null&&(o[C]=w)}for(const C in N)o[C]=N[C]}}}return o}const Ki=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ni=new Set(Ki),Lw=e=>t=>typeof t=="string"&&t.startsWith(e),Mw=Lw("--"),Y2=Lw("var(--"),Wd=e=>Y2(e)?Z2.test(e.split("/*")[0].trim()):!1,Z2=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Iw=(e,t)=>t&&typeof e=="number"?t.transform(e):e,qn=(e,t,n)=>n>t?t:n<e?e:n,Wi={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Zs={...Wi,transform:e=>qn(0,1,e)},La={...Wi,default:1},fo=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),fr=fo("deg"),Pn=fo("%"),ke=fo("px"),eA=fo("vh"),tA=fo("vw"),xy={...Pn,parse:e=>Pn.parse(e)/100,transform:e=>Pn.transform(e*100)},nA={borderWidth:ke,borderTopWidth:ke,borderRightWidth:ke,borderBottomWidth:ke,borderLeftWidth:ke,borderRadius:ke,radius:ke,borderTopLeftRadius:ke,borderTopRightRadius:ke,borderBottomRightRadius:ke,borderBottomLeftRadius:ke,width:ke,maxWidth:ke,height:ke,maxHeight:ke,top:ke,right:ke,bottom:ke,left:ke,padding:ke,paddingTop:ke,paddingRight:ke,paddingBottom:ke,paddingLeft:ke,margin:ke,marginTop:ke,marginRight:ke,marginBottom:ke,marginLeft:ke,backgroundPositionX:ke,backgroundPositionY:ke},rA={rotate:fr,rotateX:fr,rotateY:fr,rotateZ:fr,scale:La,scaleX:La,scaleY:La,scaleZ:La,skew:fr,skewX:fr,skewY:fr,distance:ke,translateX:ke,translateY:ke,translateZ:ke,x:ke,y:ke,z:ke,perspective:ke,transformPerspective:ke,opacity:Zs,originX:xy,originY:xy,originZ:ke},_y={...Wi,transform:Math.round},Hd={...nA,...rA,zIndex:_y,size:ke,fillOpacity:Zs,strokeOpacity:Zs,numOctaves:_y},iA={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},sA=Ki.length;function oA(e,t,n){let i="",o=!0;for(let l=0;l<sA;l++){const u=Ki[l],f=e[u];if(f===void 0)continue;let d=!0;if(typeof f=="number"?d=f===(u.startsWith("scale")?1:0):d=parseFloat(f)===0,!d||n){const m=Iw(f,Hd[u]);if(!d){o=!1;const v=iA[u]||u;i+=`${v}(${m}) `}n&&(t[u]=m)}}return i=i.trim(),n?i=n(t,o?"":i):o&&(i="none"),i}function Gd(e,t,n){const{style:i,vars:o,transformOrigin:l}=e;let u=!1,f=!1;for(const d in t){const m=t[d];if(ni.has(d)){u=!0;continue}else if(Mw(d)){o[d]=m;continue}else{const v=Iw(m,Hd[d]);d.startsWith("origin")?(f=!0,l[d]=v):i[d]=v}}if(t.transform||(u||n?i.transform=oA(t,e.transform,n):i.transform&&(i.transform="none")),f){const{originX:d="50%",originY:m="50%",originZ:v=0}=l;i.transformOrigin=`${d} ${m} ${v}`}}const aA={offset:"stroke-dashoffset",array:"stroke-dasharray"},lA={offset:"strokeDashoffset",array:"strokeDasharray"};function uA(e,t,n=1,i=0,o=!0){e.pathLength=1;const l=o?aA:lA;e[l.offset]=ke.transform(-i);const u=ke.transform(t),f=ke.transform(n);e[l.array]=`${u} ${f}`}function Sy(e,t,n){return typeof e=="string"?e:ke.transform(t+n*e)}function cA(e,t,n){const i=Sy(t,e.x,e.width),o=Sy(n,e.y,e.height);return`${i} ${o}`}function Qd(e,{attrX:t,attrY:n,attrScale:i,originX:o,originY:l,pathLength:u,pathSpacing:f=1,pathOffset:d=0,...m},v,p){if(Gd(e,m,p),v){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:x,style:P,dimensions:T}=e;x.transform&&(T&&(P.transform=x.transform),delete x.transform),T&&(o!==void 0||l!==void 0||P.transform)&&(P.transformOrigin=cA(T,o!==void 0?o:.5,l!==void 0?l:.5)),t!==void 0&&(x.x=t),n!==void 0&&(x.y=n),i!==void 0&&(x.scale=i),u!==void 0&&uA(x,u,f,d,!1)}const Jd=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),$w=()=>({...Jd(),attrs:{}}),Xd=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Bw(e,{style:t,vars:n},i,o){Object.assign(e.style,t,o&&o.getProjectionStyles(i));for(const l in n)e.style.setProperty(l,n[l])}const Fw=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Vw(e,t,n,i){Bw(e,t,void 0,i);for(const o in t.attrs)e.setAttribute(Fw.has(o)?o:Ud(o),t.attrs[o])}const ol={};function fA(e){Object.assign(ol,e)}function Uw(e,{layout:t,layoutId:n}){return ni.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!ol[e]||e==="opacity")}function Yd(e,t,n){var i;const{style:o}=e,l={};for(const u in o)(Tt(o[u])||t.style&&Tt(t.style[u])||Uw(u,e)||((i=n==null?void 0:n.getValue(u))===null||i===void 0?void 0:i.liveStyle)!==void 0)&&(l[u]=o[u]);return l}function zw(e,t,n){const i=Yd(e,t,n);for(const o in e)if(Tt(e[o])||Tt(t[o])){const l=Ki.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;i[l]=e[o]}return i}function dA(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const ky=["x","y","width","height","cx","cy","r"],hA={useVisualState:Dw({scrapeMotionValuesFromProps:zw,createRenderState:$w,onUpdate:({props:e,prevProps:t,current:n,renderState:i,latestValues:o})=>{if(!n)return;let l=!!e.drag;if(!l){for(const f in o)if(ni.has(f)){l=!0;break}}if(!l)return;let u=!t;if(t)for(let f=0;f<ky.length;f++){const d=ky[f];e[d]!==t[d]&&(u=!0)}u&&Ve.read(()=>{dA(n,i),Ve.render(()=>{Qd(i,o,Xd(n.tagName),e.transformTemplate),Vw(n,i)})})}})},pA={useVisualState:Dw({scrapeMotionValuesFromProps:Yd,createRenderState:Jd})};function qw(e,t,n){for(const i in t)!Tt(t[i])&&!Uw(i,n)&&(e[i]=t[i])}function mA({transformTemplate:e},t){return F.useMemo(()=>{const n=Jd();return Gd(n,t,e),Object.assign({},n.vars,n.style)},[t])}function vA(e,t){const n=e.style||{},i={};return qw(i,n,e),Object.assign(i,mA(e,t)),i}function yA(e,t){const n={},i=vA(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=i,n}function gA(e,t,n,i){const o=F.useMemo(()=>{const l=$w();return Qd(l,t,Xd(i),e.transformTemplate),{...l.attrs,style:{...l.style}}},[t]);if(e.style){const l={};qw(l,e.style,e),o.style={...l,...o.style}}return o}function wA(e=!1){return(n,i,o,{latestValues:l},u)=>{const d=(qd(n)?gA:yA)(i,l,u,n),m=D2(i,typeof n=="string",e),v=n!==F.Fragment?{...m,...d,ref:o}:{},{children:p}=i,x=F.useMemo(()=>Tt(p)?p.get():p,[p]);return F.createElement(n,{...v,children:x})}}function xA(e,t){return function(i,{forwardMotionProps:o}={forwardMotionProps:!1}){const u={...qd(i)?hA:pA,preloadedFeatures:e,useRender:wA(o),createVisualElement:t,Component:i};return z2(u)}}function Kw(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}function kl(e,t,n){const i=e.getProps();return Kd(i,t,n!==void 0?n:i.custom,e)}const _A=Bd(()=>window.ScrollTimeline!==void 0);class SA{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let i=0;i<this.animations.length;i++)this.animations[i][t]=n}attachTimeline(t,n){const i=this.animations.map(o=>{if(_A()&&o.attachTimeline)return o.attachTimeline(t);if(typeof n=="function")return n(o)});return()=>{i.forEach((o,l)=>{o&&o(),this.animations[l].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class kA extends SA{then(t,n){return Promise.all(this.animations).then(t).catch(n)}}function Zd(e,t){return e?e[t]||e.default||e:void 0}const Uf=2e4;function Ww(e){let t=0;const n=50;let i=e.next(t);for(;!i.done&&t<Uf;)t+=n,i=e.next(t);return t>=Uf?1/0:t}function eh(e){return typeof e=="function"}function by(e,t){e.timeline=t,e.onfinish=null}const th=e=>Array.isArray(e)&&typeof e[0]=="number",bA={linearEasing:void 0};function EA(e,t){const n=Bd(e);return()=>{var i;return(i=bA[t])!==null&&i!==void 0?i:n()}}const al=EA(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Hw=(e,t,n=10)=>{let i="";const o=Math.max(Math.round(t/n),2);for(let l=0;l<o;l++)i+=e($i(0,o-1,l))+", ";return`linear(${i.substring(0,i.length-2)})`};function Gw(e){return!!(typeof e=="function"&&al()||!e||typeof e=="string"&&(e in zf||al())||th(e)||Array.isArray(e)&&e.every(Gw))}const Fs=([e,t,n,i])=>`cubic-bezier(${e}, ${t}, ${n}, ${i})`,zf={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Fs([0,.65,.55,1]),circOut:Fs([.55,0,1,.45]),backIn:Fs([.31,.01,.66,-.59]),backOut:Fs([.33,1.53,.69,.99])};function Qw(e,t){if(e)return typeof e=="function"&&al()?Hw(e,t):th(e)?Fs(e):Array.isArray(e)?e.map(n=>Qw(n,t)||zf.easeOut):zf[e]}const pn={x:!1,y:!1};function Jw(){return pn.x||pn.y}function CA(e,t,n){var i;if(e instanceof Element)return[e];if(typeof e=="string"){let o=document;const l=(i=void 0)!==null&&i!==void 0?i:o.querySelectorAll(e);return l?Array.from(l):[]}return Array.from(e)}function Xw(e,t){const n=CA(e),i=new AbortController,o={passive:!0,...t,signal:i.signal};return[n,o,()=>i.abort()]}function Ey(e){return t=>{t.pointerType==="touch"||Jw()||e(t)}}function TA(e,t,n={}){const[i,o,l]=Xw(e,n),u=Ey(f=>{const{target:d}=f,m=t(f);if(typeof m!="function"||!d)return;const v=Ey(p=>{m(p),d.removeEventListener("pointerleave",v)});d.addEventListener("pointerleave",v,o)});return i.forEach(f=>{f.addEventListener("pointerenter",u,o)}),l}const Yw=(e,t)=>t?e===t?!0:Yw(e,t.parentElement):!1,nh=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,PA=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function AA(e){return PA.has(e.tagName)||e.tabIndex!==-1}const Vs=new WeakSet;function Cy(e){return t=>{t.key==="Enter"&&e(t)}}function Qc(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const jA=(e,t)=>{const n=e.currentTarget;if(!n)return;const i=Cy(()=>{if(Vs.has(n))return;Qc(n,"down");const o=Cy(()=>{Qc(n,"up")}),l=()=>Qc(n,"cancel");n.addEventListener("keyup",o,t),n.addEventListener("blur",l,t)});n.addEventListener("keydown",i,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),t)};function Ty(e){return nh(e)&&!Jw()}function NA(e,t,n={}){const[i,o,l]=Xw(e,n),u=f=>{const d=f.currentTarget;if(!Ty(f)||Vs.has(d))return;Vs.add(d);const m=t(f),v=(P,T)=>{window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",x),!(!Ty(P)||!Vs.has(d))&&(Vs.delete(d),typeof m=="function"&&m(P,{success:T}))},p=P=>{v(P,n.useGlobalTarget||Yw(d,P.target))},x=P=>{v(P,!1)};window.addEventListener("pointerup",p,o),window.addEventListener("pointercancel",x,o)};return i.forEach(f=>{!AA(f)&&f.getAttribute("tabindex")===null&&(f.tabIndex=0),(n.useGlobalTarget?window:f).addEventListener("pointerdown",u,o),f.addEventListener("focus",m=>jA(m,o),o)}),l}function RA(e){return e==="x"||e==="y"?pn[e]?null:(pn[e]=!0,()=>{pn[e]=!1}):pn.x||pn.y?null:(pn.x=pn.y=!0,()=>{pn.x=pn.y=!1})}const Zw=new Set(["width","height","top","left","right","bottom",...Ki]);let za;function OA(){za=void 0}const An={now:()=>(za===void 0&&An.set(wt.isProcessing||P2.useManualTiming?wt.timestamp:performance.now()),za),set:e=>{za=e,queueMicrotask(OA)}};function rh(e,t){e.indexOf(t)===-1&&e.push(t)}function ih(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class sh{constructor(){this.subscriptions=[]}add(t){return rh(this.subscriptions,t),()=>ih(this.subscriptions,t)}notify(t,n,i){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,n,i);else for(let l=0;l<o;l++){const u=this.subscriptions[l];u&&u(t,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function ex(e,t){return t?e*(1e3/t):0}const Py=30,DA=e=>!isNaN(parseFloat(e));class LA{constructor(t,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,o=!0)=>{const l=An.now();this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=An.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=DA(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new sh);const i=this.events[t].add(n);return t==="change"?()=>{i(),Ve.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=An.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Py)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Py);return ex(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function eo(e,t){return new LA(e,t)}function MA(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,eo(n))}function IA(e,t){const n=kl(e,t);let{transitionEnd:i={},transition:o={},...l}=n||{};l={...l,...i};for(const u in l){const f=Q2(l[u]);MA(e,u,f)}}function $A(e){return!!(Tt(e)&&e.add)}function qf(e,t){const n=e.getValue("willChange");if($A(n))return n.add(t)}function tx(e){return e.props[Nw]}const nx=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,BA=1e-7,FA=12;function VA(e,t,n,i,o){let l,u,f=0;do u=t+(n-t)/2,l=nx(u,i,o)-e,l>0?n=u:t=u;while(Math.abs(l)>BA&&++f<FA);return u}function ho(e,t,n,i){if(e===t&&n===i)return qt;const o=l=>VA(l,0,1,e,n);return l=>l===0||l===1?l:nx(o(l),t,i)}const rx=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,ix=e=>t=>1-e(1-t),sx=ho(.33,1.53,.69,.99),oh=ix(sx),ox=rx(oh),ax=e=>(e*=2)<1?.5*oh(e):.5*(2-Math.pow(2,-10*(e-1))),ah=e=>1-Math.sin(Math.acos(e)),lx=ix(ah),ux=rx(ah),cx=e=>/^0[^.\s]+$/u.test(e);function UA(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||cx(e):!0}const qs=e=>Math.round(e*1e5)/1e5,lh=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function zA(e){return e==null}const qA=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,uh=(e,t)=>n=>!!(typeof n=="string"&&qA.test(n)&&n.startsWith(e)||t&&!zA(n)&&Object.prototype.hasOwnProperty.call(n,t)),fx=(e,t,n)=>i=>{if(typeof i!="string")return i;const[o,l,u,f]=i.match(lh);return{[e]:parseFloat(o),[t]:parseFloat(l),[n]:parseFloat(u),alpha:f!==void 0?parseFloat(f):1}},KA=e=>qn(0,255,e),Jc={...Wi,transform:e=>Math.round(KA(e))},Ur={test:uh("rgb","red"),parse:fx("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:i=1})=>"rgba("+Jc.transform(e)+", "+Jc.transform(t)+", "+Jc.transform(n)+", "+qs(Zs.transform(i))+")"};function WA(e){let t="",n="",i="",o="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),i=e.substring(5,7),o=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),i=e.substring(3,4),o=e.substring(4,5),t+=t,n+=n,i+=i,o+=o),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:o?parseInt(o,16)/255:1}}const Kf={test:uh("#"),parse:WA,transform:Ur.transform},Ai={test:uh("hsl","hue"),parse:fx("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:i=1})=>"hsla("+Math.round(e)+", "+Pn.transform(qs(t))+", "+Pn.transform(qs(n))+", "+qs(Zs.transform(i))+")"},Et={test:e=>Ur.test(e)||Kf.test(e)||Ai.test(e),parse:e=>Ur.test(e)?Ur.parse(e):Ai.test(e)?Ai.parse(e):Kf.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Ur.transform(e):Ai.transform(e)},HA=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function GA(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(lh))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(HA))===null||n===void 0?void 0:n.length)||0)>0}const dx="number",hx="color",QA="var",JA="var(",Ay="${}",XA=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function to(e){const t=e.toString(),n=[],i={color:[],number:[],var:[]},o=[];let l=0;const f=t.replace(XA,d=>(Et.test(d)?(i.color.push(l),o.push(hx),n.push(Et.parse(d))):d.startsWith(JA)?(i.var.push(l),o.push(QA),n.push(d)):(i.number.push(l),o.push(dx),n.push(parseFloat(d))),++l,Ay)).split(Ay);return{values:n,split:f,indexes:i,types:o}}function px(e){return to(e).values}function mx(e){const{split:t,types:n}=to(e),i=t.length;return o=>{let l="";for(let u=0;u<i;u++)if(l+=t[u],o[u]!==void 0){const f=n[u];f===dx?l+=qs(o[u]):f===hx?l+=Et.transform(o[u]):l+=o[u]}return l}}const YA=e=>typeof e=="number"?0:e;function ZA(e){const t=px(e);return mx(e)(t.map(YA))}const vr={test:GA,parse:px,createTransformer:mx,getAnimatableNone:ZA},ej=new Set(["brightness","contrast","saturate","opacity"]);function tj(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[i]=n.match(lh)||[];if(!i)return e;const o=n.replace(i,"");let l=ej.has(t)?1:0;return i!==n&&(l*=100),t+"("+l+o+")"}const nj=/\b([a-z-]*)\(.*?\)/gu,Wf={...vr,getAnimatableNone:e=>{const t=e.match(nj);return t?t.map(tj).join(" "):e}},rj={...Hd,color:Et,backgroundColor:Et,outlineColor:Et,fill:Et,stroke:Et,borderColor:Et,borderTopColor:Et,borderRightColor:Et,borderBottomColor:Et,borderLeftColor:Et,filter:Wf,WebkitFilter:Wf},ch=e=>rj[e];function vx(e,t){let n=ch(e);return n!==Wf&&(n=vr),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const ij=new Set(["auto","none","0"]);function sj(e,t,n){let i=0,o;for(;i<e.length&&!o;){const l=e[i];typeof l=="string"&&!ij.has(l)&&to(l).values.length&&(o=e[i]),i++}if(o&&n)for(const l of t)e[l]=vx(n,o)}const jy=e=>e===Wi||e===ke,Ny=(e,t)=>parseFloat(e.split(", ")[t]),Ry=(e,t)=>(n,{transform:i})=>{if(i==="none"||!i)return 0;const o=i.match(/^matrix3d\((.+)\)$/u);if(o)return Ny(o[1],t);{const l=i.match(/^matrix\((.+)\)$/u);return l?Ny(l[1],e):0}},oj=new Set(["x","y","z"]),aj=Ki.filter(e=>!oj.has(e));function lj(e){const t=[];return aj.forEach(n=>{const i=e.getValue(n);i!==void 0&&(t.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),t}const Fi={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:Ry(4,13),y:Ry(5,14)};Fi.translateX=Fi.x;Fi.translateY=Fi.y;const Kr=new Set;let Hf=!1,Gf=!1;function yx(){if(Gf){const e=Array.from(Kr).filter(i=>i.needsMeasurement),t=new Set(e.map(i=>i.element)),n=new Map;t.forEach(i=>{const o=lj(i);o.length&&(n.set(i,o),i.render())}),e.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const o=n.get(i);o&&o.forEach(([l,u])=>{var f;(f=i.getValue(l))===null||f===void 0||f.set(u)})}),e.forEach(i=>i.measureEndState()),e.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Gf=!1,Hf=!1,Kr.forEach(e=>e.complete()),Kr.clear()}function gx(){Kr.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Gf=!0)})}function uj(){gx(),yx()}class fh{constructor(t,n,i,o,l,u=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=i,this.motionValue=o,this.element=l,this.isAsync=u}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Kr.add(this),Hf||(Hf=!0,Ve.read(gx),Ve.resolveKeyframes(yx))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:i,motionValue:o}=this;for(let l=0;l<t.length;l++)if(t[l]===null)if(l===0){const u=o==null?void 0:o.get(),f=t[t.length-1];if(u!==void 0)t[0]=u;else if(i&&n){const d=i.readValue(n,f);d!=null&&(t[0]=d)}t[0]===void 0&&(t[0]=f),o&&u===void 0&&o.set(t[0])}else t[l]=t[l-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Kr.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Kr.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const wx=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),cj=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function fj(e){const t=cj.exec(e);if(!t)return[,];const[,n,i,o]=t;return[`--${n??i}`,o]}function xx(e,t,n=1){const[i,o]=fj(e);if(!i)return;const l=window.getComputedStyle(t).getPropertyValue(i);if(l){const u=l.trim();return wx(u)?parseFloat(u):u}return Wd(o)?xx(o,t,n+1):o}const _x=e=>t=>t.test(e),dj={test:e=>e==="auto",parse:e=>e},Sx=[Wi,ke,Pn,fr,tA,eA,dj],Oy=e=>Sx.find(_x(e));class kx extends fh{constructor(t,n,i,o,l){super(t,n,i,o,l,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<t.length;d++){let m=t[d];if(typeof m=="string"&&(m=m.trim(),Wd(m))){const v=xx(m,n.current);v!==void 0&&(t[d]=v),d===t.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!Zw.has(i)||t.length!==2)return;const[o,l]=t,u=Oy(o),f=Oy(l);if(u!==f)if(jy(u)&&jy(f))for(let d=0;d<t.length;d++){const m=t[d];typeof m=="string"&&(t[d]=parseFloat(m))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,i=[];for(let o=0;o<t.length;o++)UA(t[o])&&i.push(o);i.length&&sj(t,i,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Fi[i](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&t.getValue(i,o).jump(o,!1)}measureEndState(){var t;const{element:n,name:i,unresolvedKeyframes:o}=this;if(!n||!n.current)return;const l=n.getValue(i);l&&l.jump(this.measuredOrigin,!1);const u=o.length-1,f=o[u];o[u]=Fi[i](n.measureViewportBox(),window.getComputedStyle(n.current)),f!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=f),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([d,m])=>{n.getValue(d).set(m)}),this.resolveNoneKeyframes()}}const Dy=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(vr.test(e)||e==="0")&&!e.startsWith("url("));function hj(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function pj(e,t,n,i){const o=e[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const l=e[e.length-1],u=Dy(o,t),f=Dy(l,t);return!u||!f?!1:hj(e)||(n==="spring"||eh(n))&&i}const mj=e=>e!==null;function bl(e,{repeat:t,repeatType:n="loop"},i){const o=e.filter(mj),l=t&&n!=="loop"&&t%2===1?0:o.length-1;return!l||i===void 0?o[l]:i}const vj=40;class bx{constructor({autoplay:t=!0,delay:n=0,type:i="keyframes",repeat:o=0,repeatDelay:l=0,repeatType:u="loop",...f}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=An.now(),this.options={autoplay:t,delay:n,type:i,repeat:o,repeatDelay:l,repeatType:u,...f},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>vj?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&uj(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=An.now(),this.hasAttemptedResolve=!0;const{name:i,type:o,velocity:l,delay:u,onComplete:f,onUpdate:d,isGenerator:m}=this.options;if(!m&&!pj(t,i,o,l))if(u)this.options.duration=0;else{d&&d(bl(t,this.options,n)),f&&f(),this.resolveFinishedPromise();return}const v=this.initPlayback(t,n);v!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...v},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const Ge=(e,t,n)=>e+(t-e)*n;function Xc(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function yj({hue:e,saturation:t,lightness:n,alpha:i}){e/=360,t/=100,n/=100;let o=0,l=0,u=0;if(!t)o=l=u=n;else{const f=n<.5?n*(1+t):n+t-n*t,d=2*n-f;o=Xc(d,f,e+1/3),l=Xc(d,f,e),u=Xc(d,f,e-1/3)}return{red:Math.round(o*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:i}}function ll(e,t){return n=>n>0?t:e}const Yc=(e,t,n)=>{const i=e*e,o=n*(t*t-i)+i;return o<0?0:Math.sqrt(o)},gj=[Kf,Ur,Ai],wj=e=>gj.find(t=>t.test(e));function Ly(e){const t=wj(e);if(!t)return!1;let n=t.parse(e);return t===Ai&&(n=yj(n)),n}const My=(e,t)=>{const n=Ly(e),i=Ly(t);if(!n||!i)return ll(e,t);const o={...n};return l=>(o.red=Yc(n.red,i.red,l),o.green=Yc(n.green,i.green,l),o.blue=Yc(n.blue,i.blue,l),o.alpha=Ge(n.alpha,i.alpha,l),Ur.transform(o))},xj=(e,t)=>n=>t(e(n)),po=(...e)=>e.reduce(xj),Qf=new Set(["none","hidden"]);function _j(e,t){return Qf.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function Sj(e,t){return n=>Ge(e,t,n)}function dh(e){return typeof e=="number"?Sj:typeof e=="string"?Wd(e)?ll:Et.test(e)?My:Ej:Array.isArray(e)?Ex:typeof e=="object"?Et.test(e)?My:kj:ll}function Ex(e,t){const n=[...e],i=n.length,o=e.map((l,u)=>dh(l)(l,t[u]));return l=>{for(let u=0;u<i;u++)n[u]=o[u](l);return n}}function kj(e,t){const n={...e,...t},i={};for(const o in n)e[o]!==void 0&&t[o]!==void 0&&(i[o]=dh(e[o])(e[o],t[o]));return o=>{for(const l in i)n[l]=i[l](o);return n}}function bj(e,t){var n;const i=[],o={color:0,var:0,number:0};for(let l=0;l<t.values.length;l++){const u=t.types[l],f=e.indexes[u][o[u]],d=(n=e.values[f])!==null&&n!==void 0?n:0;i[l]=d,o[u]++}return i}const Ej=(e,t)=>{const n=vr.createTransformer(t),i=to(e),o=to(t);return i.indexes.var.length===o.indexes.var.length&&i.indexes.color.length===o.indexes.color.length&&i.indexes.number.length>=o.indexes.number.length?Qf.has(e)&&!o.values.length||Qf.has(t)&&!i.values.length?_j(e,t):po(Ex(bj(i,o),o.values),n):ll(e,t)};function Cx(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Ge(e,t,n):dh(e)(e,t)}const Cj=5;function Tx(e,t,n){const i=Math.max(t-Cj,0);return ex(n-e(i),t-i)}const Je={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Zc=.001;function Tj({duration:e=Je.duration,bounce:t=Je.bounce,velocity:n=Je.velocity,mass:i=Je.mass}){let o,l,u=1-t;u=qn(Je.minDamping,Je.maxDamping,u),e=qn(Je.minDuration,Je.maxDuration,Un(e)),u<1?(o=m=>{const v=m*u,p=v*e,x=v-n,P=Jf(m,u),T=Math.exp(-p);return Zc-x/P*T},l=m=>{const p=m*u*e,x=p*n+n,P=Math.pow(u,2)*Math.pow(m,2)*e,T=Math.exp(-p),N=Jf(Math.pow(m,2),u);return(-o(m)+Zc>0?-1:1)*((x-P)*T)/N}):(o=m=>{const v=Math.exp(-m*e),p=(m-n)*e+1;return-Zc+v*p},l=m=>{const v=Math.exp(-m*e),p=(n-m)*(e*e);return v*p});const f=5/e,d=Aj(o,l,f);if(e=Vn(e),isNaN(d))return{stiffness:Je.stiffness,damping:Je.damping,duration:e};{const m=Math.pow(d,2)*i;return{stiffness:m,damping:u*2*Math.sqrt(i*m),duration:e}}}const Pj=12;function Aj(e,t,n){let i=n;for(let o=1;o<Pj;o++)i=i-e(i)/t(i);return i}function Jf(e,t){return e*Math.sqrt(1-t*t)}const jj=["duration","bounce"],Nj=["stiffness","damping","mass"];function Iy(e,t){return t.some(n=>e[n]!==void 0)}function Rj(e){let t={velocity:Je.velocity,stiffness:Je.stiffness,damping:Je.damping,mass:Je.mass,isResolvedFromDuration:!1,...e};if(!Iy(e,Nj)&&Iy(e,jj))if(e.visualDuration){const n=e.visualDuration,i=2*Math.PI/(n*1.2),o=i*i,l=2*qn(.05,1,1-(e.bounce||0))*Math.sqrt(o);t={...t,mass:Je.mass,stiffness:o,damping:l}}else{const n=Tj(e);t={...t,...n,mass:Je.mass},t.isResolvedFromDuration=!0}return t}function Px(e=Je.visualDuration,t=Je.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:i,restDelta:o}=n;const l=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],f={done:!1,value:l},{stiffness:d,damping:m,mass:v,duration:p,velocity:x,isResolvedFromDuration:P}=Rj({...n,velocity:-Un(n.velocity||0)}),T=x||0,N=m/(2*Math.sqrt(d*v)),k=u-l,S=Un(Math.sqrt(d/v)),C=Math.abs(k)<5;i||(i=C?Je.restSpeed.granular:Je.restSpeed.default),o||(o=C?Je.restDelta.granular:Je.restDelta.default);let w;if(N<1){const _=Jf(S,N);w=E=>{const $=Math.exp(-N*S*E);return u-$*((T+N*S*k)/_*Math.sin(_*E)+k*Math.cos(_*E))}}else if(N===1)w=_=>u-Math.exp(-S*_)*(k+(T+S*k)*_);else{const _=S*Math.sqrt(N*N-1);w=E=>{const $=Math.exp(-N*S*E),I=Math.min(_*E,300);return u-$*((T+N*S*k)*Math.sinh(I)+_*k*Math.cosh(I))/_}}const g={calculatedDuration:P&&p||null,next:_=>{const E=w(_);if(P)f.done=_>=p;else{let $=0;N<1&&($=_===0?Vn(T):Tx(w,_,E));const I=Math.abs($)<=i,U=Math.abs(u-E)<=o;f.done=I&&U}return f.value=f.done?u:E,f},toString:()=>{const _=Math.min(Ww(g),Uf),E=Hw($=>g.next(_*$).value,_,30);return _+"ms "+E}};return g}function $y({keyframes:e,velocity:t=0,power:n=.8,timeConstant:i=325,bounceDamping:o=10,bounceStiffness:l=500,modifyTarget:u,min:f,max:d,restDelta:m=.5,restSpeed:v}){const p=e[0],x={done:!1,value:p},P=I=>f!==void 0&&I<f||d!==void 0&&I>d,T=I=>f===void 0?d:d===void 0||Math.abs(f-I)<Math.abs(d-I)?f:d;let N=n*t;const k=p+N,S=u===void 0?k:u(k);S!==k&&(N=S-p);const C=I=>-N*Math.exp(-I/i),w=I=>S+C(I),g=I=>{const U=C(I),G=w(I);x.done=Math.abs(U)<=m,x.value=x.done?S:G};let _,E;const $=I=>{P(x.value)&&(_=I,E=Px({keyframes:[x.value,T(x.value)],velocity:Tx(w,I,x.value),damping:o,stiffness:l,restDelta:m,restSpeed:v}))};return $(0),{calculatedDuration:null,next:I=>{let U=!1;return!E&&_===void 0&&(U=!0,g(I),$(I)),_!==void 0&&I>=_?E.next(I-_):(!U&&g(I),x)}}}const Oj=ho(.42,0,1,1),Dj=ho(0,0,.58,1),Ax=ho(.42,0,.58,1),Lj=e=>Array.isArray(e)&&typeof e[0]!="number",Mj={linear:qt,easeIn:Oj,easeInOut:Ax,easeOut:Dj,circIn:ah,circInOut:ux,circOut:lx,backIn:oh,backInOut:ox,backOut:sx,anticipate:ax},By=e=>{if(th(e)){Cw(e.length===4);const[t,n,i,o]=e;return ho(t,n,i,o)}else if(typeof e=="string")return Mj[e];return e};function Ij(e,t,n){const i=[],o=n||Cx,l=e.length-1;for(let u=0;u<l;u++){let f=o(e[u],e[u+1]);if(t){const d=Array.isArray(t)?t[u]||qt:t;f=po(d,f)}i.push(f)}return i}function $j(e,t,{clamp:n=!0,ease:i,mixer:o}={}){const l=e.length;if(Cw(l===t.length),l===1)return()=>t[0];if(l===2&&t[0]===t[1])return()=>t[1];const u=e[0]===e[1];e[0]>e[l-1]&&(e=[...e].reverse(),t=[...t].reverse());const f=Ij(t,i,o),d=f.length,m=v=>{if(u&&v<e[0])return t[0];let p=0;if(d>1)for(;p<e.length-2&&!(v<e[p+1]);p++);const x=$i(e[p],e[p+1],v);return f[p](x)};return n?v=>m(qn(e[0],e[l-1],v)):m}function Bj(e,t){const n=e[e.length-1];for(let i=1;i<=t;i++){const o=$i(0,t,i);e.push(Ge(n,1,o))}}function Fj(e){const t=[0];return Bj(t,e.length-1),t}function Vj(e,t){return e.map(n=>n*t)}function Uj(e,t){return e.map(()=>t||Ax).splice(0,e.length-1)}function ul({duration:e=300,keyframes:t,times:n,ease:i="easeInOut"}){const o=Lj(i)?i.map(By):By(i),l={done:!1,value:t[0]},u=Vj(n&&n.length===t.length?n:Fj(t),e),f=$j(u,t,{ease:Array.isArray(o)?o:Uj(t,o)});return{calculatedDuration:e,next:d=>(l.value=f(d),l.done=d>=e,l)}}const zj=e=>{const t=({timestamp:n})=>e(n);return{start:()=>Ve.update(t,!0),stop:()=>mr(t),now:()=>wt.isProcessing?wt.timestamp:An.now()}},qj={decay:$y,inertia:$y,tween:ul,keyframes:ul,spring:Px},Kj=e=>e/100;class hh extends bx{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:d}=this.options;d&&d()};const{name:n,motionValue:i,element:o,keyframes:l}=this.options,u=(o==null?void 0:o.KeyframeResolver)||fh,f=(d,m)=>this.onKeyframesResolved(d,m);this.resolver=new u(l,f,n,i,o),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:l,velocity:u=0}=this.options,f=eh(n)?n:qj[n]||ul;let d,m;f!==ul&&typeof t[0]!="number"&&(d=po(Kj,Cx(t[0],t[1])),t=[0,100]);const v=f({...this.options,keyframes:t});l==="mirror"&&(m=f({...this.options,keyframes:[...t].reverse(),velocity:-u})),v.calculatedDuration===null&&(v.calculatedDuration=Ww(v));const{calculatedDuration:p}=v,x=p+o,P=x*(i+1)-o;return{generator:v,mirroredGenerator:m,mapPercentToKeyframes:d,calculatedDuration:p,resolvedDuration:x,totalDuration:P}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:i}=this;if(!i){const{keyframes:I}=this.options;return{done:!0,value:I[I.length-1]}}const{finalKeyframe:o,generator:l,mirroredGenerator:u,mapPercentToKeyframes:f,keyframes:d,calculatedDuration:m,totalDuration:v,resolvedDuration:p}=i;if(this.startTime===null)return l.next(0);const{delay:x,repeat:P,repeatType:T,repeatDelay:N,onUpdate:k}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-v/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const S=this.currentTime-x*(this.speed>=0?1:-1),C=this.speed>=0?S<0:S>v;this.currentTime=Math.max(S,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=v);let w=this.currentTime,g=l;if(P){const I=Math.min(this.currentTime,v)/p;let U=Math.floor(I),G=I%1;!G&&I>=1&&(G=1),G===1&&U--,U=Math.min(U,P+1),!!(U%2)&&(T==="reverse"?(G=1-G,N&&(G-=N/p)):T==="mirror"&&(g=u)),w=qn(0,1,G)*p}const _=C?{done:!1,value:d[0]}:g.next(w);f&&(_.value=f(_.value));let{done:E}=_;!C&&m!==null&&(E=this.speed>=0?this.currentTime>=v:this.currentTime<=0);const $=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&E);return $&&o!==void 0&&(_.value=bl(d,this.options,o)),k&&k(_.value),$&&this.finish(),_}get duration(){const{resolved:t}=this;return t?Un(t.calculatedDuration):0}get time(){return Un(this.currentTime)}set time(t){t=Vn(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Un(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=zj,onPlay:n,startTime:i}=this.options;this.driver||(this.driver=t(l=>this.tick(l))),n&&n();const o=this.driver.now();this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=o):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const Wj=new Set(["opacity","clipPath","filter","transform"]);function Hj(e,t,n,{delay:i=0,duration:o=300,repeat:l=0,repeatType:u="loop",ease:f="easeInOut",times:d}={}){const m={[t]:n};d&&(m.offset=d);const v=Qw(f,o);return Array.isArray(v)&&(m.easing=v),e.animate(m,{delay:i,duration:o,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"})}const Gj=Bd(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),cl=10,Qj=2e4;function Jj(e){return eh(e.type)||e.type==="spring"||!Gw(e.ease)}function Xj(e,t){const n=new hh({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:e[0]};const o=[];let l=0;for(;!i.done&&l<Qj;)i=n.sample(l),o.push(i.value),l+=cl;return{times:void 0,keyframes:o,duration:l-cl,ease:"linear"}}const jx={anticipate:ax,backInOut:ox,circInOut:ux};function Yj(e){return e in jx}class Fy extends bx{constructor(t){super(t);const{name:n,motionValue:i,element:o,keyframes:l}=this.options;this.resolver=new kx(l,(u,f)=>this.onKeyframesResolved(u,f),n,i,o),this.resolver.scheduleResolve()}initPlayback(t,n){let{duration:i=300,times:o,ease:l,type:u,motionValue:f,name:d,startTime:m}=this.options;if(!f.owner||!f.owner.current)return!1;if(typeof l=="string"&&al()&&Yj(l)&&(l=jx[l]),Jj(this.options)){const{onComplete:p,onUpdate:x,motionValue:P,element:T,...N}=this.options,k=Xj(t,N);t=k.keyframes,t.length===1&&(t[1]=t[0]),i=k.duration,o=k.times,l=k.ease,u="keyframes"}const v=Hj(f.owner.current,d,t,{...this.options,duration:i,times:o,ease:l});return v.startTime=m??this.calcStartTime(),this.pendingTimeline?(by(v,this.pendingTimeline),this.pendingTimeline=void 0):v.onfinish=()=>{const{onComplete:p}=this.options;f.set(bl(t,this.options,n)),p&&p(),this.cancel(),this.resolveFinishedPromise()},{animation:v,duration:i,times:o,type:u,ease:l,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return Un(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return Un(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.currentTime=Vn(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return qt;const{animation:i}=n;by(i,t)}return qt}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:i,duration:o,type:l,ease:u,times:f}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:m,onUpdate:v,onComplete:p,element:x,...P}=this.options,T=new hh({...P,keyframes:i,duration:o,type:l,ease:u,times:f,isGenerator:!0}),N=Vn(this.time);m.setWithVelocity(T.sample(N-cl).value,T.sample(N).value,cl)}const{onStop:d}=this.options;d&&d(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:i,repeatDelay:o,repeatType:l,damping:u,type:f}=t;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:m}=n.owner.getProps();return Gj()&&i&&Wj.has(i)&&!d&&!m&&!o&&l!=="mirror"&&u!==0&&f!=="inertia"}}const Zj={type:"spring",stiffness:500,damping:25,restSpeed:10},eN=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),tN={type:"keyframes",duration:.8},nN={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},rN=(e,{keyframes:t})=>t.length>2?tN:ni.has(e)?e.startsWith("scale")?eN(t[1]):Zj:nN;function iN({when:e,delay:t,delayChildren:n,staggerChildren:i,staggerDirection:o,repeat:l,repeatType:u,repeatDelay:f,from:d,elapsed:m,...v}){return!!Object.keys(v).length}const ph=(e,t,n,i={},o,l)=>u=>{const f=Zd(i,e)||{},d=f.delay||i.delay||0;let{elapsed:m=0}=i;m=m-Vn(d);let v={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...f,delay:-m,onUpdate:x=>{t.set(x),f.onUpdate&&f.onUpdate(x)},onComplete:()=>{u(),f.onComplete&&f.onComplete()},name:e,motionValue:t,element:l?void 0:o};iN(f)||(v={...v,...rN(e,v)}),v.duration&&(v.duration=Vn(v.duration)),v.repeatDelay&&(v.repeatDelay=Vn(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let p=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(v.duration=0,v.delay===0&&(p=!0)),p&&!l&&t.get()!==void 0){const x=bl(v.keyframes,f);if(x!==void 0)return Ve.update(()=>{v.onUpdate(x),v.onComplete()}),new kA([])}return!l&&Fy.supports(v)?new Fy(v):new hh(v)};function sN({protectedKeys:e,needsAnimating:t},n){const i=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,i}function Nx(e,t,{delay:n=0,transitionOverride:i,type:o}={}){var l;let{transition:u=e.getDefaultTransition(),transitionEnd:f,...d}=t;i&&(u=i);const m=[],v=o&&e.animationState&&e.animationState.getState()[o];for(const p in d){const x=e.getValue(p,(l=e.latestValues[p])!==null&&l!==void 0?l:null),P=d[p];if(P===void 0||v&&sN(v,p))continue;const T={delay:n,...Zd(u||{},p)};let N=!1;if(window.MotionHandoffAnimation){const S=tx(e);if(S){const C=window.MotionHandoffAnimation(S,p,Ve);C!==null&&(T.startTime=C,N=!0)}}qf(e,p),x.start(ph(p,x,P,e.shouldReduceMotion&&Zw.has(p)?{type:!1}:T,e,N));const k=x.animation;k&&m.push(k)}return f&&Promise.all(m).then(()=>{Ve.update(()=>{f&&IA(e,f)})}),m}function Xf(e,t,n={}){var i;const o=kl(e,t,n.type==="exit"?(i=e.presenceContext)===null||i===void 0?void 0:i.custom:void 0);let{transition:l=e.getDefaultTransition()||{}}=o||{};n.transitionOverride&&(l=n.transitionOverride);const u=o?()=>Promise.all(Nx(e,o,n)):()=>Promise.resolve(),f=e.variantChildren&&e.variantChildren.size?(m=0)=>{const{delayChildren:v=0,staggerChildren:p,staggerDirection:x}=l;return oN(e,t,v+m,p,x,n)}:()=>Promise.resolve(),{when:d}=l;if(d){const[m,v]=d==="beforeChildren"?[u,f]:[f,u];return m().then(()=>v())}else return Promise.all([u(),f(n.delay)])}function oN(e,t,n=0,i=0,o=1,l){const u=[],f=(e.variantChildren.size-1)*i,d=o===1?(m=0)=>m*i:(m=0)=>f-m*i;return Array.from(e.variantChildren).sort(aN).forEach((m,v)=>{m.notify("AnimationStart",t),u.push(Xf(m,t,{...l,delay:n+d(v)}).then(()=>m.notify("AnimationComplete",t)))}),Promise.all(u)}function aN(e,t){return e.sortNodePosition(t)}function lN(e,t,n={}){e.notify("AnimationStart",t);let i;if(Array.isArray(t)){const o=t.map(l=>Xf(e,l,n));i=Promise.all(o)}else if(typeof t=="string")i=Xf(e,t,n);else{const o=typeof t=="function"?kl(e,t,n.custom):t;i=Promise.all(Nx(e,o,n))}return i.then(()=>{e.notify("AnimationComplete",t)})}const uN=Vd.length;function Rx(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?Rx(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<uN;n++){const i=Vd[n],o=e.props[i];(Ys(o)||o===!1)&&(t[i]=o)}return t}const cN=[...Fd].reverse(),fN=Fd.length;function dN(e){return t=>Promise.all(t.map(({animation:n,options:i})=>lN(e,n,i)))}function hN(e){let t=dN(e),n=Vy(),i=!0;const o=d=>(m,v)=>{var p;const x=kl(e,v,d==="exit"?(p=e.presenceContext)===null||p===void 0?void 0:p.custom:void 0);if(x){const{transition:P,transitionEnd:T,...N}=x;m={...m,...N,...T}}return m};function l(d){t=d(e)}function u(d){const{props:m}=e,v=Rx(e.parent)||{},p=[],x=new Set;let P={},T=1/0;for(let k=0;k<fN;k++){const S=cN[k],C=n[S],w=m[S]!==void 0?m[S]:v[S],g=Ys(w),_=S===d?C.isActive:null;_===!1&&(T=k);let E=w===v[S]&&w!==m[S]&&g;if(E&&i&&e.manuallyAnimateOnMount&&(E=!1),C.protectedKeys={...P},!C.isActive&&_===null||!w&&!C.prevProp||_l(w)||typeof w=="boolean")continue;const $=pN(C.prevProp,w);let I=$||S===d&&C.isActive&&!E&&g||k>T&&g,U=!1;const G=Array.isArray(w)?w:[w];let te=G.reduce(o(S),{});_===!1&&(te={});const{prevResolvedValues:ce={}}=C,oe={...ce,...te},ae=ue=>{I=!0,x.has(ue)&&(U=!0,x.delete(ue)),C.needsAnimating[ue]=!0;const b=e.getValue(ue);b&&(b.liveStyle=!1)};for(const ue in oe){const b=te[ue],R=ce[ue];if(P.hasOwnProperty(ue))continue;let D=!1;Vf(b)&&Vf(R)?D=!Kw(b,R):D=b!==R,D?b!=null?ae(ue):x.add(ue):b!==void 0&&x.has(ue)?ae(ue):C.protectedKeys[ue]=!0}C.prevProp=w,C.prevResolvedValues=te,C.isActive&&(P={...P,...te}),i&&e.blockInitialAnimation&&(I=!1),I&&(!(E&&$)||U)&&p.push(...G.map(ue=>({animation:ue,options:{type:S}})))}if(x.size){const k={};x.forEach(S=>{const C=e.getBaseTarget(S),w=e.getValue(S);w&&(w.liveStyle=!0),k[S]=C??null}),p.push({animation:k})}let N=!!p.length;return i&&(m.initial===!1||m.initial===m.animate)&&!e.manuallyAnimateOnMount&&(N=!1),i=!1,N?t(p):Promise.resolve()}function f(d,m){var v;if(n[d].isActive===m)return Promise.resolve();(v=e.variantChildren)===null||v===void 0||v.forEach(x=>{var P;return(P=x.animationState)===null||P===void 0?void 0:P.setActive(d,m)}),n[d].isActive=m;const p=u(d);for(const x in n)n[x].protectedKeys={};return p}return{animateChanges:u,setActive:f,setAnimateFunction:l,getState:()=>n,reset:()=>{n=Vy(),i=!0}}}function pN(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Kw(t,e):!1}function Mr(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Vy(){return{animate:Mr(!0),whileInView:Mr(),whileHover:Mr(),whileTap:Mr(),whileDrag:Mr(),whileFocus:Mr(),exit:Mr()}}class wr{constructor(t){this.isMounted=!1,this.node=t}update(){}}class mN extends wr{constructor(t){super(t),t.animationState||(t.animationState=hN(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();_l(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let vN=0;class yN extends wr{constructor(){super(...arguments),this.id=vN++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const o=this.node.animationState.setActive("exit",!t);n&&!t&&o.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const gN={animation:{Feature:mN},exit:{Feature:yN}};function no(e,t,n,i={passive:!0}){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n)}function mo(e){return{point:{x:e.pageX,y:e.pageY}}}const wN=e=>t=>nh(t)&&e(t,mo(t));function Ks(e,t,n,i){return no(e,t,wN(n),i)}const Uy=(e,t)=>Math.abs(e-t);function xN(e,t){const n=Uy(e.x,t.x),i=Uy(e.y,t.y);return Math.sqrt(n**2+i**2)}class Ox{constructor(t,n,{transformPagePoint:i,contextWindow:o,dragSnapToOrigin:l=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=tf(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,P=xN(p.offset,{x:0,y:0})>=3;if(!x&&!P)return;const{point:T}=p,{timestamp:N}=wt;this.history.push({...T,timestamp:N});const{onStart:k,onMove:S}=this.handlers;x||(k&&k(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),S&&S(this.lastMoveEvent,p)},this.handlePointerMove=(p,x)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=ef(x,this.transformPagePoint),Ve.update(this.updatePoint,!0)},this.handlePointerUp=(p,x)=>{this.end();const{onEnd:P,onSessionEnd:T,resumeAnimation:N}=this.handlers;if(this.dragSnapToOrigin&&N&&N(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const k=tf(p.type==="pointercancel"?this.lastMoveEventInfo:ef(x,this.transformPagePoint),this.history);this.startEvent&&P&&P(p,k),T&&T(p,k)},!nh(t))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=i,this.contextWindow=o||window;const u=mo(t),f=ef(u,this.transformPagePoint),{point:d}=f,{timestamp:m}=wt;this.history=[{...d,timestamp:m}];const{onSessionStart:v}=n;v&&v(t,tf(f,this.history)),this.removeListeners=po(Ks(this.contextWindow,"pointermove",this.handlePointerMove),Ks(this.contextWindow,"pointerup",this.handlePointerUp),Ks(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),mr(this.updatePoint)}}function ef(e,t){return t?{point:t(e.point)}:e}function zy(e,t){return{x:e.x-t.x,y:e.y-t.y}}function tf({point:e},t){return{point:e,delta:zy(e,Dx(t)),offset:zy(e,_N(t)),velocity:SN(t,.1)}}function _N(e){return e[0]}function Dx(e){return e[e.length-1]}function SN(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,i=null;const o=Dx(e);for(;n>=0&&(i=e[n],!(o.timestamp-i.timestamp>Vn(t)));)n--;if(!i)return{x:0,y:0};const l=Un(o.timestamp-i.timestamp);if(l===0)return{x:0,y:0};const u={x:(o.x-i.x)/l,y:(o.y-i.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}const Lx=1e-4,kN=1-Lx,bN=1+Lx,Mx=.01,EN=0-Mx,CN=0+Mx;function Wt(e){return e.max-e.min}function TN(e,t,n){return Math.abs(e-t)<=n}function qy(e,t,n,i=.5){e.origin=i,e.originPoint=Ge(t.min,t.max,e.origin),e.scale=Wt(n)/Wt(t),e.translate=Ge(n.min,n.max,e.origin)-e.originPoint,(e.scale>=kN&&e.scale<=bN||isNaN(e.scale))&&(e.scale=1),(e.translate>=EN&&e.translate<=CN||isNaN(e.translate))&&(e.translate=0)}function Ws(e,t,n,i){qy(e.x,t.x,n.x,i?i.originX:void 0),qy(e.y,t.y,n.y,i?i.originY:void 0)}function Ky(e,t,n){e.min=n.min+t.min,e.max=e.min+Wt(t)}function PN(e,t,n){Ky(e.x,t.x,n.x),Ky(e.y,t.y,n.y)}function Wy(e,t,n){e.min=t.min-n.min,e.max=e.min+Wt(t)}function Hs(e,t,n){Wy(e.x,t.x,n.x),Wy(e.y,t.y,n.y)}function AN(e,{min:t,max:n},i){return t!==void 0&&e<t?e=i?Ge(t,e,i.min):Math.max(e,t):n!==void 0&&e>n&&(e=i?Ge(n,e,i.max):Math.min(e,n)),e}function Hy(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function jN(e,{top:t,left:n,bottom:i,right:o}){return{x:Hy(e.x,n,o),y:Hy(e.y,t,i)}}function Gy(e,t){let n=t.min-e.min,i=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,i]=[i,n]),{min:n,max:i}}function NN(e,t){return{x:Gy(e.x,t.x),y:Gy(e.y,t.y)}}function RN(e,t){let n=.5;const i=Wt(e),o=Wt(t);return o>i?n=$i(t.min,t.max-i,e.min):i>o&&(n=$i(e.min,e.max-o,t.min)),qn(0,1,n)}function ON(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Yf=.35;function DN(e=Yf){return e===!1?e=0:e===!0&&(e=Yf),{x:Qy(e,"left","right"),y:Qy(e,"top","bottom")}}function Qy(e,t,n){return{min:Jy(e,t),max:Jy(e,n)}}function Jy(e,t){return typeof e=="number"?e:e[t]||0}const Xy=()=>({translate:0,scale:1,origin:0,originPoint:0}),ji=()=>({x:Xy(),y:Xy()}),Yy=()=>({min:0,max:0}),et=()=>({x:Yy(),y:Yy()});function en(e){return[e("x"),e("y")]}function Ix({top:e,left:t,right:n,bottom:i}){return{x:{min:t,max:n},y:{min:e,max:i}}}function LN({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function MN(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),i=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}function nf(e){return e===void 0||e===1}function Zf({scale:e,scaleX:t,scaleY:n}){return!nf(e)||!nf(t)||!nf(n)}function Ir(e){return Zf(e)||$x(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function $x(e){return Zy(e.x)||Zy(e.y)}function Zy(e){return e&&e!=="0%"}function fl(e,t,n){const i=e-n,o=t*i;return n+o}function eg(e,t,n,i,o){return o!==void 0&&(e=fl(e,o,i)),fl(e,n,i)+t}function ed(e,t=0,n=1,i,o){e.min=eg(e.min,t,n,i,o),e.max=eg(e.max,t,n,i,o)}function Bx(e,{x:t,y:n}){ed(e.x,t.translate,t.scale,t.originPoint),ed(e.y,n.translate,n.scale,n.originPoint)}const tg=.999999999999,ng=1.0000000000001;function IN(e,t,n,i=!1){const o=n.length;if(!o)return;t.x=t.y=1;let l,u;for(let f=0;f<o;f++){l=n[f],u=l.projectionDelta;const{visualElement:d}=l.options;d&&d.props.style&&d.props.style.display==="contents"||(i&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Ri(e,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(t.x*=u.x.scale,t.y*=u.y.scale,Bx(e,u)),i&&Ir(l.latestValues)&&Ri(e,l.latestValues))}t.x<ng&&t.x>tg&&(t.x=1),t.y<ng&&t.y>tg&&(t.y=1)}function Ni(e,t){e.min=e.min+t,e.max=e.max+t}function rg(e,t,n,i,o=.5){const l=Ge(e.min,e.max,o);ed(e,t,n,l,i)}function Ri(e,t){rg(e.x,t.x,t.scaleX,t.scale,t.originX),rg(e.y,t.y,t.scaleY,t.scale,t.originY)}function Fx(e,t){return Ix(MN(e.getBoundingClientRect(),t))}function $N(e,t,n){const i=Fx(e,n),{scroll:o}=t;return o&&(Ni(i.x,o.offset.x),Ni(i.y,o.offset.y)),i}const Vx=({current:e})=>e?e.ownerDocument.defaultView:null,BN=new WeakMap;class FN{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=et(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const o=v=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(mo(v).point)},l=(v,p)=>{const{drag:x,dragPropagation:P,onDragStart:T}=this.getProps();if(x&&!P&&(this.openDragLock&&this.openDragLock(),this.openDragLock=RA(x),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),en(k=>{let S=this.getAxisMotionValue(k).get()||0;if(Pn.test(S)){const{projection:C}=this.visualElement;if(C&&C.layout){const w=C.layout.layoutBox[k];w&&(S=Wt(w)*(parseFloat(S)/100))}}this.originPoint[k]=S}),T&&Ve.postRender(()=>T(v,p)),qf(this.visualElement,"transform");const{animationState:N}=this.visualElement;N&&N.setActive("whileDrag",!0)},u=(v,p)=>{const{dragPropagation:x,dragDirectionLock:P,onDirectionLock:T,onDrag:N}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:k}=p;if(P&&this.currentDirection===null){this.currentDirection=VN(k),this.currentDirection!==null&&T&&T(this.currentDirection);return}this.updateAxis("x",p.point,k),this.updateAxis("y",p.point,k),this.visualElement.render(),N&&N(v,p)},f=(v,p)=>this.stop(v,p),d=()=>en(v=>{var p;return this.getAnimationState(v)==="paused"&&((p=this.getAxisMotionValue(v).animation)===null||p===void 0?void 0:p.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new Ox(t,{onSessionStart:o,onStart:l,onMove:u,onSessionEnd:f,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,contextWindow:Vx(this.visualElement)})}stop(t,n){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:o}=n;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&Ve.postRender(()=>l(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,i){const{drag:o}=this.getProps();if(!i||!Ma(t,o,this.currentDirection))return;const l=this.getAxisMotionValue(t);let u=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(u=AN(u,this.constraints[t],this.elastic[t])),l.set(u)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:i}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,l=this.constraints;n&&Pi(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&o?this.constraints=jN(o.layoutBox,n):this.constraints=!1,this.elastic=DN(i),l!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&en(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=ON(o.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Pi(t))return!1;const i=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const l=$N(i,o.root,this.visualElement.getTransformPagePoint());let u=NN(o.layout.layoutBox,l);if(n){const f=n(LN(u));this.hasMutatedConstraints=!!f,f&&(u=Ix(f))}return u}startAnimation(t){const{drag:n,dragMomentum:i,dragElastic:o,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:f}=this.getProps(),d=this.constraints||{},m=en(v=>{if(!Ma(v,n,this.currentDirection))return;let p=d&&d[v]||{};u&&(p={min:0,max:0});const x=o?200:1e6,P=o?40:1e7,T={type:"inertia",velocity:i?t[v]:0,bounceStiffness:x,bounceDamping:P,timeConstant:750,restDelta:1,restSpeed:10,...l,...p};return this.startAxisValueAnimation(v,T)});return Promise.all(m).then(f)}startAxisValueAnimation(t,n){const i=this.getAxisMotionValue(t);return qf(this.visualElement,t),i.start(ph(t,i,0,n,this.visualElement,!1))}stopAnimation(){en(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){en(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),o=i[n];return o||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){en(n=>{const{drag:i}=this.getProps();if(!Ma(n,i,this.currentDirection))return;const{projection:o}=this.visualElement,l=this.getAxisMotionValue(n);if(o&&o.layout){const{min:u,max:f}=o.layout.layoutBox[n];l.set(t[n]-Ge(u,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!Pi(n)||!i||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};en(u=>{const f=this.getAxisMotionValue(u);if(f&&this.constraints!==!1){const d=f.get();o[u]=RN({min:d,max:d},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),en(u=>{if(!Ma(u,t,null))return;const f=this.getAxisMotionValue(u),{min:d,max:m}=this.constraints[u];f.set(Ge(d,m,o[u]))})}addListeners(){if(!this.visualElement.current)return;BN.set(this.visualElement,this);const t=this.visualElement.current,n=Ks(t,"pointerdown",d=>{const{drag:m,dragListener:v=!0}=this.getProps();m&&v&&this.start(d)}),i=()=>{const{dragConstraints:d}=this.getProps();Pi(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,l=o.addEventListener("measure",i);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),Ve.read(i);const u=no(window,"resize",()=>this.scalePositionWithinConstraints()),f=o.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:m})=>{this.isDragging&&m&&(en(v=>{const p=this.getAxisMotionValue(v);p&&(this.originPoint[v]+=d[v].translate,p.set(p.get()+d[v].translate))}),this.visualElement.render())}));return()=>{u(),n(),l(),f&&f()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:o=!1,dragConstraints:l=!1,dragElastic:u=Yf,dragMomentum:f=!0}=t;return{...t,drag:n,dragDirectionLock:i,dragPropagation:o,dragConstraints:l,dragElastic:u,dragMomentum:f}}}function Ma(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function VN(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class UN extends wr{constructor(t){super(t),this.removeGroupControls=qt,this.removeListeners=qt,this.controls=new FN(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||qt}unmount(){this.removeGroupControls(),this.removeListeners()}}const ig=e=>(t,n)=>{e&&Ve.postRender(()=>e(t,n))};class zN extends wr{constructor(){super(...arguments),this.removePointerDownListener=qt}onPointerDown(t){this.session=new Ox(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Vx(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:i,onPanEnd:o}=this.node.getProps();return{onSessionStart:ig(t),onStart:ig(n),onMove:i,onEnd:(l,u)=>{delete this.session,o&&Ve.postRender(()=>o(l,u))}}}mount(){this.removePointerDownListener=Ks(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const qa={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function sg(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Is={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(ke.test(e))e=parseFloat(e);else return e;const n=sg(e,t.target.x),i=sg(e,t.target.y);return`${n}% ${i}%`}},qN={correct:(e,{treeScale:t,projectionDelta:n})=>{const i=e,o=vr.parse(e);if(o.length>5)return i;const l=vr.createTransformer(e),u=typeof o[0]!="number"?1:0,f=n.x.scale*t.x,d=n.y.scale*t.y;o[0+u]/=f,o[1+u]/=d;const m=Ge(f,d,.5);return typeof o[2+u]=="number"&&(o[2+u]/=m),typeof o[3+u]=="number"&&(o[3+u]/=m),l(o)}};class KN extends F.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i,layoutId:o}=this.props,{projection:l}=t;fA(WN),l&&(n.group&&n.group.add(l),i&&i.register&&o&&i.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),qa.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:i,drag:o,isPresent:l}=this.props,u=i.projection;return u&&(u.isPresent=l,o||t.layoutDependency!==n||n===void 0?u.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?u.promote():u.relegate()||Ve.postRender(()=>{const f=u.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),zd.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:o}=t;o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),i&&i.deregister&&i.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Ux(e){const[t,n]=C2(),i=F.useContext(bw);return O.jsx(KN,{...e,layoutGroup:i,switchLayoutGroup:F.useContext(Rw),isPresent:t,safeToRemove:n})}const WN={borderRadius:{...Is,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Is,borderTopRightRadius:Is,borderBottomLeftRadius:Is,borderBottomRightRadius:Is,boxShadow:qN};function HN(e,t,n){const i=Tt(e)?e:eo(e);return i.start(ph("",i,t,n)),i.animation}function GN(e){return e instanceof SVGElement&&e.tagName!=="svg"}const QN=(e,t)=>e.depth-t.depth;class JN{constructor(){this.children=[],this.isDirty=!1}add(t){rh(this.children,t),this.isDirty=!0}remove(t){ih(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(QN),this.isDirty=!1,this.children.forEach(t)}}function XN(e,t){const n=An.now(),i=({timestamp:o})=>{const l=o-n;l>=t&&(mr(i),e(l-t))};return Ve.read(i,!0),()=>mr(i)}const zx=["TopLeft","TopRight","BottomLeft","BottomRight"],YN=zx.length,og=e=>typeof e=="string"?parseFloat(e):e,ag=e=>typeof e=="number"||ke.test(e);function ZN(e,t,n,i,o,l){o?(e.opacity=Ge(0,n.opacity!==void 0?n.opacity:1,eR(i)),e.opacityExit=Ge(t.opacity!==void 0?t.opacity:1,0,tR(i))):l&&(e.opacity=Ge(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,i));for(let u=0;u<YN;u++){const f=`border${zx[u]}Radius`;let d=lg(t,f),m=lg(n,f);if(d===void 0&&m===void 0)continue;d||(d=0),m||(m=0),d===0||m===0||ag(d)===ag(m)?(e[f]=Math.max(Ge(og(d),og(m),i),0),(Pn.test(m)||Pn.test(d))&&(e[f]+="%")):e[f]=m}(t.rotate||n.rotate)&&(e.rotate=Ge(t.rotate||0,n.rotate||0,i))}function lg(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const eR=qx(0,.5,lx),tR=qx(.5,.95,qt);function qx(e,t,n){return i=>i<e?0:i>t?1:n($i(e,t,i))}function ug(e,t){e.min=t.min,e.max=t.max}function Zt(e,t){ug(e.x,t.x),ug(e.y,t.y)}function cg(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function fg(e,t,n,i,o){return e-=t,e=fl(e,1/n,i),o!==void 0&&(e=fl(e,1/o,i)),e}function nR(e,t=0,n=1,i=.5,o,l=e,u=e){if(Pn.test(t)&&(t=parseFloat(t),t=Ge(u.min,u.max,t/100)-u.min),typeof t!="number")return;let f=Ge(l.min,l.max,i);e===l&&(f-=t),e.min=fg(e.min,t,n,f,o),e.max=fg(e.max,t,n,f,o)}function dg(e,t,[n,i,o],l,u){nR(e,t[n],t[i],t[o],t.scale,l,u)}const rR=["x","scaleX","originX"],iR=["y","scaleY","originY"];function hg(e,t,n,i){dg(e.x,t,rR,n?n.x:void 0,i?i.x:void 0),dg(e.y,t,iR,n?n.y:void 0,i?i.y:void 0)}function pg(e){return e.translate===0&&e.scale===1}function Kx(e){return pg(e.x)&&pg(e.y)}function mg(e,t){return e.min===t.min&&e.max===t.max}function sR(e,t){return mg(e.x,t.x)&&mg(e.y,t.y)}function vg(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Wx(e,t){return vg(e.x,t.x)&&vg(e.y,t.y)}function yg(e){return Wt(e.x)/Wt(e.y)}function gg(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class oR{constructor(){this.members=[]}add(t){rh(this.members,t),t.scheduleRender()}remove(t){if(ih(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(o=>t===o);if(n===0)return!1;let i;for(let o=n;o>=0;o--){const l=this.members[o];if(l.isPresent!==!1){i=l;break}}return i?(this.promote(i),!0):!1}promote(t,n){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender(),t.resumeFrom=i,n&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:i}=t;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function aR(e,t,n){let i="";const o=e.x.translate/t.x,l=e.y.translate/t.y,u=(n==null?void 0:n.z)||0;if((o||l||u)&&(i=`translate3d(${o}px, ${l}px, ${u}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:m,rotate:v,rotateX:p,rotateY:x,skewX:P,skewY:T}=n;m&&(i=`perspective(${m}px) ${i}`),v&&(i+=`rotate(${v}deg) `),p&&(i+=`rotateX(${p}deg) `),x&&(i+=`rotateY(${x}deg) `),P&&(i+=`skewX(${P}deg) `),T&&(i+=`skewY(${T}deg) `)}const f=e.x.scale*t.x,d=e.y.scale*t.y;return(f!==1||d!==1)&&(i+=`scale(${f}, ${d})`),i||"none"}const $r={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Us=typeof window<"u"&&window.MotionDebug!==void 0,rf=["","X","Y","Z"],lR={visibility:"hidden"},wg=1e3;let uR=0;function sf(e,t,n,i){const{latestValues:o}=t;o[e]&&(n[e]=o[e],t.setStaticValue(e,0),i&&(i[e]=0))}function Hx(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=tx(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:l}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Ve,!(o||l))}const{parent:i}=e;i&&!i.hasCheckedOptimisedAppear&&Hx(i)}function Gx({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:i,resetTransform:o}){return class{constructor(u={},f=t==null?void 0:t()){this.id=uR++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Us&&($r.totalNodes=$r.resolvedTargetDeltas=$r.recalculatedProjection=0),this.nodes.forEach(dR),this.nodes.forEach(yR),this.nodes.forEach(gR),this.nodes.forEach(hR),Us&&window.MotionDebug.record($r)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new JN)}addEventListener(u,f){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new sh),this.eventHandlers.get(u).add(f)}notifyListeners(u,...f){const d=this.eventHandlers.get(u);d&&d.notify(...f)}hasListeners(u){return this.eventHandlers.has(u)}mount(u,f=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=GN(u),this.instance=u;const{layoutId:d,layout:m,visualElement:v}=this.options;if(v&&!v.current&&v.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),f&&(m||d)&&(this.isLayoutDirty=!0),e){let p;const x=()=>this.root.updateBlockedByResize=!1;e(u,()=>{this.root.updateBlockedByResize=!0,p&&p(),p=XN(x,250),qa.hasAnimatedSinceResize&&(qa.hasAnimatedSinceResize=!1,this.nodes.forEach(_g))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&v&&(d||m)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:x,hasRelativeTargetChanged:P,layout:T})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const N=this.options.transition||v.getDefaultTransition()||kR,{onLayoutAnimationStart:k,onLayoutAnimationComplete:S}=v.getProps(),C=!this.targetLayout||!Wx(this.targetLayout,T)||P,w=!x&&P;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||x&&(C||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(p,w);const g={...Zd(N,"layout"),onPlay:k,onComplete:S};(v.shouldReduceMotion||this.options.layoutRoot)&&(g.delay=0,g.type=!1),this.startAnimation(g)}else x||_g(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=T})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,mr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(wR),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Hx(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const p=this.path[v];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:f,layout:d}=this.options;if(f===void 0&&!d)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(xg);return}this.isUpdating||this.nodes.forEach(mR),this.isUpdating=!1,this.nodes.forEach(vR),this.nodes.forEach(cR),this.nodes.forEach(fR),this.clearAllSnapshots();const f=An.now();wt.delta=qn(0,1e3/60,f-wt.timestamp),wt.timestamp=f,wt.isProcessing=!0,Gc.update.process(wt),Gc.preRender.process(wt),Gc.render.process(wt),wt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,zd.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(pR),this.sharedNodes.forEach(xR)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ve.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ve.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=et(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(f=!1),f){const d=i(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!o)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!Kx(this.projectionDelta),d=this.getTransformTemplate(),m=d?d(this.latestValues,""):void 0,v=m!==this.prevTransformTemplateValue;u&&(f||Ir(this.latestValues)||v)&&(o(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const f=this.measurePageBox();let d=this.removeElementScroll(f);return u&&(d=this.removeTransform(d)),bR(d),{animationId:this.root.animationId,measuredBox:f,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:f}=this.options;if(!f)return et();const d=f.measureViewportBox();if(!(((u=this.scroll)===null||u===void 0?void 0:u.wasRoot)||this.path.some(ER))){const{scroll:v}=this.root;v&&(Ni(d.x,v.offset.x),Ni(d.y,v.offset.y))}return d}removeElementScroll(u){var f;const d=et();if(Zt(d,u),!((f=this.scroll)===null||f===void 0)&&f.wasRoot)return d;for(let m=0;m<this.path.length;m++){const v=this.path[m],{scroll:p,options:x}=v;v!==this.root&&p&&x.layoutScroll&&(p.wasRoot&&Zt(d,u),Ni(d.x,p.offset.x),Ni(d.y,p.offset.y))}return d}applyTransform(u,f=!1){const d=et();Zt(d,u);for(let m=0;m<this.path.length;m++){const v=this.path[m];!f&&v.options.layoutScroll&&v.scroll&&v!==v.root&&Ri(d,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),Ir(v.latestValues)&&Ri(d,v.latestValues)}return Ir(this.latestValues)&&Ri(d,this.latestValues),d}removeTransform(u){const f=et();Zt(f,u);for(let d=0;d<this.path.length;d++){const m=this.path[d];if(!m.instance||!Ir(m.latestValues))continue;Zf(m.latestValues)&&m.updateSnapshot();const v=et(),p=m.measurePageBox();Zt(v,p),hg(f,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,v)}return Ir(this.latestValues)&&hg(f,this.latestValues),f}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==wt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var f;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==d;if(!(u||m&&this.isSharedProjectionDirty||this.isProjectionDirty||!((f=this.parent)===null||f===void 0)&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:x}=this.options;if(!(!this.layout||!(p||x))){if(this.resolvedRelativeTargetAt=wt.timestamp,!this.targetDelta&&!this.relativeTarget){const P=this.getClosestProjectingParent();P&&P.layout&&this.animationProgress!==1?(this.relativeParent=P,this.forceRelativeParentToResolveTarget(),this.relativeTarget=et(),this.relativeTargetOrigin=et(),Hs(this.relativeTargetOrigin,this.layout.layoutBox,P.layout.layoutBox),Zt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=et(),this.targetWithTransforms=et()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),PN(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Zt(this.target,this.layout.layoutBox),Bx(this.target,this.targetDelta)):Zt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const P=this.getClosestProjectingParent();P&&!!P.resumingFrom==!!this.resumingFrom&&!P.options.layoutScroll&&P.target&&this.animationProgress!==1?(this.relativeParent=P,this.forceRelativeParentToResolveTarget(),this.relativeTarget=et(),this.relativeTargetOrigin=et(),Hs(this.relativeTargetOrigin,this.target,P.target),Zt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Us&&$r.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Zf(this.parent.latestValues)||$x(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var u;const f=this.getLead(),d=!!this.resumingFrom||this!==f;let m=!0;if((this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty)&&(m=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===wt.timestamp&&(m=!1),m)return;const{layout:v,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(v||p))return;Zt(this.layoutCorrected,this.layout.layoutBox);const x=this.treeScale.x,P=this.treeScale.y;IN(this.layoutCorrected,this.treeScale,this.path,d),f.layout&&!f.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(f.target=f.layout.layoutBox,f.targetWithTransforms=et());const{target:T}=f;if(!T){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(cg(this.prevProjectionDelta.x,this.projectionDelta.x),cg(this.prevProjectionDelta.y,this.projectionDelta.y)),Ws(this.projectionDelta,this.layoutCorrected,T,this.latestValues),(this.treeScale.x!==x||this.treeScale.y!==P||!gg(this.projectionDelta.x,this.prevProjectionDelta.x)||!gg(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",T)),Us&&$r.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var f;if((f=this.options.visualElement)===null||f===void 0||f.scheduleRender(),u){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ji(),this.projectionDelta=ji(),this.projectionDeltaWithTransform=ji()}setAnimationOrigin(u,f=!1){const d=this.snapshot,m=d?d.latestValues:{},v={...this.latestValues},p=ji();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const x=et(),P=d?d.source:void 0,T=this.layout?this.layout.source:void 0,N=P!==T,k=this.getStack(),S=!k||k.members.length<=1,C=!!(N&&!S&&this.options.crossfade===!0&&!this.path.some(SR));this.animationProgress=0;let w;this.mixTargetDelta=g=>{const _=g/1e3;Sg(p.x,u.x,_),Sg(p.y,u.y,_),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Hs(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),_R(this.relativeTarget,this.relativeTargetOrigin,x,_),w&&sR(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=et()),Zt(w,this.relativeTarget)),N&&(this.animationValues=v,ZN(v,m,this.latestValues,_,C,S)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=_},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(mr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ve.update(()=>{qa.hasAnimatedSinceResize=!0,this.currentAnimation=HN(0,wg,{...u,onUpdate:f=>{this.mixTargetDelta(f),u.onUpdate&&u.onUpdate(f)},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(wg),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:f,target:d,layout:m,latestValues:v}=u;if(!(!f||!d||!m)){if(this!==u&&this.layout&&m&&Qx(this.options.animationType,this.layout.layoutBox,m.layoutBox)){d=this.target||et();const p=Wt(this.layout.layoutBox.x);d.x.min=u.target.x.min,d.x.max=d.x.min+p;const x=Wt(this.layout.layoutBox.y);d.y.min=u.target.y.min,d.y.max=d.y.min+x}Zt(f,d),Ri(f,v),Ws(this.projectionDeltaWithTransform,this.layoutCorrected,f,v)}}registerSharedNode(u,f){this.sharedNodes.has(u)||this.sharedNodes.set(u,new oR),this.sharedNodes.get(u).add(f);const m=f.options.initialPromotionConfig;f.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(f):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var u;const{layoutId:f}=this.options;return f?((u=this.getStack())===null||u===void 0?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:f}=this.options;return f?(u=this.getStack())===null||u===void 0?void 0:u.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:f,preserveFollowOpacity:d}={}){const m=this.getStack();m&&m.promote(this,d),u&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let f=!1;const{latestValues:d}=u;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(f=!0),!f)return;const m={};d.z&&sf("z",u,m,this.animationValues);for(let v=0;v<rf.length;v++)sf(`rotate${rf[v]}`,u,m,this.animationValues),sf(`skew${rf[v]}`,u,m,this.animationValues);u.render();for(const v in m)u.setStaticValue(v,m[v]),this.animationValues&&(this.animationValues[v]=m[v]);u.scheduleRender()}getProjectionStyles(u){var f,d;if(!this.instance||this.isSVG)return;if(!this.isVisible)return lR;const m={visibility:""},v=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,m.opacity="",m.pointerEvents=Ua(u==null?void 0:u.pointerEvents)||"",m.transform=v?v(this.latestValues,""):"none",m;const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){const N={};return this.options.layoutId&&(N.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,N.pointerEvents=Ua(u==null?void 0:u.pointerEvents)||""),this.hasProjected&&!Ir(this.latestValues)&&(N.transform=v?v({},""):"none",this.hasProjected=!1),N}const x=p.animationValues||p.latestValues;this.applyTransformsToTarget(),m.transform=aR(this.projectionDeltaWithTransform,this.treeScale,x),v&&(m.transform=v(x,m.transform));const{x:P,y:T}=this.projectionDelta;m.transformOrigin=`${P.origin*100}% ${T.origin*100}% 0`,p.animationValues?m.opacity=p===this?(d=(f=x.opacity)!==null&&f!==void 0?f:this.latestValues.opacity)!==null&&d!==void 0?d:1:this.preserveOpacity?this.latestValues.opacity:x.opacityExit:m.opacity=p===this?x.opacity!==void 0?x.opacity:"":x.opacityExit!==void 0?x.opacityExit:0;for(const N in ol){if(x[N]===void 0)continue;const{correct:k,applyTo:S}=ol[N],C=m.transform==="none"?x[N]:k(x[N],p);if(S){const w=S.length;for(let g=0;g<w;g++)m[S[g]]=C}else m[N]=C}return this.options.layoutId&&(m.pointerEvents=p===this?Ua(u==null?void 0:u.pointerEvents)||"":"none"),m}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var f;return(f=u.currentAnimation)===null||f===void 0?void 0:f.stop()}),this.root.nodes.forEach(xg),this.root.sharedNodes.clear()}}}function cR(e){e.updateLayout()}function fR(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:o}=e.layout,{animationType:l}=e.options,u=n.source!==e.layout.source;l==="size"?en(p=>{const x=u?n.measuredBox[p]:n.layoutBox[p],P=Wt(x);x.min=i[p].min,x.max=x.min+P}):Qx(l,n.layoutBox,i)&&en(p=>{const x=u?n.measuredBox[p]:n.layoutBox[p],P=Wt(i[p]);x.max=x.min+P,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[p].max=e.relativeTarget[p].min+P)});const f=ji();Ws(f,i,n.layoutBox);const d=ji();u?Ws(d,e.applyTransform(o,!0),n.measuredBox):Ws(d,i,n.layoutBox);const m=!Kx(f);let v=!1;if(!e.resumeFrom){const p=e.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:x,layout:P}=p;if(x&&P){const T=et();Hs(T,n.layoutBox,x.layoutBox);const N=et();Hs(N,i,P.layoutBox),Wx(T,N)||(v=!0),p.options.layoutRoot&&(e.relativeTarget=N,e.relativeTargetOrigin=T,e.relativeParent=p)}}}e.notifyListeners("didUpdate",{layout:i,snapshot:n,delta:d,layoutDelta:f,hasLayoutChanged:m,hasRelativeTargetChanged:v})}else if(e.isLead()){const{onExitComplete:i}=e.options;i&&i()}e.options.transition=void 0}function dR(e){Us&&$r.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function hR(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function pR(e){e.clearSnapshot()}function xg(e){e.clearMeasurements()}function mR(e){e.isLayoutDirty=!1}function vR(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function _g(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function yR(e){e.resolveTargetDelta()}function gR(e){e.calcProjection()}function wR(e){e.resetSkewAndRotation()}function xR(e){e.removeLeadSnapshot()}function Sg(e,t,n){e.translate=Ge(t.translate,0,n),e.scale=Ge(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function kg(e,t,n,i){e.min=Ge(t.min,n.min,i),e.max=Ge(t.max,n.max,i)}function _R(e,t,n,i){kg(e.x,t.x,n.x,i),kg(e.y,t.y,n.y,i)}function SR(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const kR={duration:.45,ease:[.4,0,.1,1]},bg=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Eg=bg("applewebkit/")&&!bg("chrome/")?Math.round:qt;function Cg(e){e.min=Eg(e.min),e.max=Eg(e.max)}function bR(e){Cg(e.x),Cg(e.y)}function Qx(e,t,n){return e==="position"||e==="preserve-aspect"&&!TN(yg(t),yg(n),.2)}function ER(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const CR=Gx({attachResizeListener:(e,t)=>no(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),of={current:void 0},Jx=Gx({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!of.current){const e=new CR({});e.mount(window),e.setOptions({layoutScroll:!0}),of.current=e}return of.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),TR={pan:{Feature:zN},drag:{Feature:UN,ProjectionNode:Jx,MeasureLayout:Ux}};function Tg(e,t,n){const{props:i}=e;e.animationState&&i.whileHover&&e.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,l=i[o];l&&Ve.postRender(()=>l(t,mo(t)))}class PR extends wr{mount(){const{current:t}=this.node;t&&(this.unmount=TA(t,n=>(Tg(this.node,n,"Start"),i=>Tg(this.node,i,"End"))))}unmount(){}}class AR extends wr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=po(no(this.node.current,"focus",()=>this.onFocus()),no(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Pg(e,t,n){const{props:i}=e;e.animationState&&i.whileTap&&e.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),l=i[o];l&&Ve.postRender(()=>l(t,mo(t)))}class jR extends wr{mount(){const{current:t}=this.node;t&&(this.unmount=NA(t,n=>(Pg(this.node,n,"Start"),(i,{success:o})=>Pg(this.node,i,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const td=new WeakMap,af=new WeakMap,NR=e=>{const t=td.get(e.target);t&&t(e)},RR=e=>{e.forEach(NR)};function OR({root:e,...t}){const n=e||document;af.has(n)||af.set(n,{});const i=af.get(n),o=JSON.stringify(t);return i[o]||(i[o]=new IntersectionObserver(RR,{root:e,...t})),i[o]}function DR(e,t,n){const i=OR(t);return td.set(e,n),i.observe(e),()=>{td.delete(e),i.unobserve(e)}}const LR={some:0,all:1};class MR extends wr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:i,amount:o="some",once:l}=t,u={root:n?n.current:void 0,rootMargin:i,threshold:typeof o=="number"?o:LR[o]},f=d=>{const{isIntersecting:m}=d;if(this.isInView===m||(this.isInView=m,l&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:v,onViewportLeave:p}=this.node.getProps(),x=m?v:p;x&&x(d)};return DR(this.node.current,u,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(IR(t,n))&&this.startObserver()}unmount(){}}function IR({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const $R={inView:{Feature:MR},tap:{Feature:jR},focus:{Feature:AR},hover:{Feature:PR}},BR={layout:{ProjectionNode:Jx,MeasureLayout:Ux}},nd={current:null},Xx={current:!1};function FR(){if(Xx.current=!0,!!$d)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>nd.current=e.matches;e.addListener(t),t()}else nd.current=!1}const VR=[...Sx,Et,vr],UR=e=>VR.find(_x(e)),Ag=new WeakMap;function zR(e,t,n){for(const i in t){const o=t[i],l=n[i];if(Tt(o))e.addValue(i,o);else if(Tt(l))e.addValue(i,eo(o,{owner:e}));else if(l!==o)if(e.hasValue(i)){const u=e.getValue(i);u.liveStyle===!0?u.jump(o):u.hasAnimated||u.set(o)}else{const u=e.getStaticValue(i);e.addValue(i,eo(u!==void 0?u:o,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const jg=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class qR{scrapeMotionValuesFromProps(t,n,i){return{}}constructor({parent:t,props:n,presenceContext:i,reducedMotionConfig:o,blockInitialAnimation:l,visualState:u},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=fh,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const P=An.now();this.renderScheduledAt<P&&(this.renderScheduledAt=P,Ve.render(this.render,!1,!0))};const{latestValues:d,renderState:m,onUpdate:v}=u;this.onUpdate=v,this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=m,this.parent=t,this.props=n,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=f,this.blockInitialAnimation=!!l,this.isControllingVariants=Sl(n),this.isVariantNode=jw(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:p,...x}=this.scrapeMotionValuesFromProps(n,{},this);for(const P in x){const T=x[P];d[P]!==void 0&&Tt(T)&&T.set(d[P],!1)}}mount(t){this.current=t,Ag.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),Xx.current||FR(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:nd.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Ag.delete(this.current),this.projection&&this.projection.unmount(),mr(this.notifyUpdate),mr(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const i=ni.has(t),o=n.on("change",f=>{this.latestValues[t]=f,this.props.onUpdate&&Ve.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),l=n.on("renderRequest",this.scheduleRender);let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{o(),l(),u&&u(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Bi){const n=Bi[t];if(!n)continue;const{isEnabled:i,Feature:o}=n;if(!this.features[t]&&o&&i(this.props)&&(this.features[t]=new o(this)),this.features[t]){const l=this.features[t];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):et()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<jg.length;i++){const o=jg[i];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const l="on"+o,u=t[l];u&&(this.propEventSubscriptions[o]=this.on(o,u))}this.prevMotionValues=zR(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const i=this.values.get(t);n!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&n!==void 0&&(i=eo(n===null?void 0:n,{owner:this}),this.addValue(t,i)),i}readValue(t,n){var i;let o=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(i=this.getBaseTargetFromProps(this.props,t))!==null&&i!==void 0?i:this.readValueFromInstance(this.current,t,this.options);return o!=null&&(typeof o=="string"&&(wx(o)||cx(o))?o=parseFloat(o):!UR(o)&&vr.test(n)&&(o=vx(t,n)),this.setBaseTarget(t,Tt(o)?o.get():o)),Tt(o)?o.get():o}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:i}=this.props;let o;if(typeof i=="string"||typeof i=="object"){const u=Kd(this.props,i,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);u&&(o=u[t])}if(i&&o!==void 0)return o;const l=this.getBaseTargetFromProps(this.props,t);return l!==void 0&&!Tt(l)?l:this.initialValues[t]!==void 0&&o===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new sh),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class Yx extends qR{constructor(){super(...arguments),this.KeyframeResolver=kx}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:i}){delete n[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Tt(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function KR(e){return window.getComputedStyle(e)}class WR extends Yx{constructor(){super(...arguments),this.type="html",this.renderInstance=Bw}readValueFromInstance(t,n){if(ni.has(n)){const i=ch(n);return i&&i.default||0}else{const i=KR(t),o=(Mw(n)?i.getPropertyValue(n):i[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:n}){return Fx(t,n)}build(t,n,i){Gd(t,n,i.transformTemplate)}scrapeMotionValuesFromProps(t,n,i){return Yd(t,n,i)}}class HR extends Yx{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=et}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(ni.has(n)){const i=ch(n);return i&&i.default||0}return n=Fw.has(n)?n:Ud(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,i){return zw(t,n,i)}build(t,n,i){Qd(t,n,this.isSVGTag,i.transformTemplate)}renderInstance(t,n,i,o){Vw(t,n,i,o)}mount(t){this.isSVGTag=Xd(t.tagName),super.mount(t)}}const GR=(e,t)=>qd(e)?new HR(t):new WR(t,{allowProjection:e!==F.Fragment}),QR=xA({...gN,...$R,...TR,...BR},GR),JR=L2(QR);function Zx({mediaStream:e,isRecording:t}){const[i,o]=F.useState(()=>Array.from({length:8},()=>.12)),l=F.useRef(null),u=F.useRef(null),f=F.useRef(null),d=F.useMemo(()=>[.12,.18,.14,.22,.16,.2,.15,.19],[]);return F.useEffect(()=>{if(!t||!e){o(d);return}const m=window.AudioContext||window.webkitAudioContext,v=new m;u.current=v;const p=v.createAnalyser();p.fftSize=256,p.smoothingTimeConstant=.8,f.current=p;const x=v.createMediaStreamSource(e);x.connect(p);const P=new Uint8Array(p.frequencyBinCount),T=()=>{p.getByteFrequencyData(P);const N=Math.floor(P.length/8),k=[];for(let S=0;S<8;S++){const C=S*N,w=S===7?P.length:C+N;let g=0;for(let $=C;$<w;$++)g+=P[$]??0;const _=g/Math.max(1,w-C),E=Math.min(1,Math.max(.06,_/255));k.push(E)}o(k),l.current=requestAnimationFrame(T)};return l.current=requestAnimationFrame(T),()=>{l.current&&cancelAnimationFrame(l.current),l.current=null;try{x.disconnect()}catch{}try{p.disconnect()}catch{}f.current=null,u.current&&(u.current.close().catch(()=>{}),u.current=null)}},[d,t,e]),O.jsx("div",{className:"flex items-end justify-center gap-2 rounded-xl border border-slate-200 bg-white px-4 py-5",children:i.map((m,v)=>{const p=Math.round(10+m*56);return O.jsx(JR.div,{className:"w-2 rounded-full bg-slate-900/80",animate:{height:p},transition:{type:"spring",stiffness:260,damping:26},style:{height:14}},v)})})}function XR(){const e=["audio/webm;codecs=opus","audio/webm"];if(!(typeof MediaRecorder>"u"||typeof MediaRecorder.isTypeSupported!="function"))return e.find(t=>MediaRecorder.isTypeSupported(t))}function e1(){const[e,t]=F.useState(!1),[n,i]=F.useState(null),[o,l]=F.useState(null),u=F.useRef(null),f=F.useRef([]),d=F.useRef("audio/webm"),m=F.useCallback(async()=>{if(e)return;i(null),f.current=[];const p=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0}});l(p);const x=XR();d.current=x??"audio/webm";const P=new MediaRecorder(p,x?{mimeType:x}:void 0);u.current=P,P.ondataavailable=T=>{T.data&&T.data.size>0&&f.current.push(T.data)},P.onstop=()=>{const T=new Blob(f.current,{type:d.current});i(T),t(!1),p.getTracks().forEach(N=>N.stop()),l(null)},P.start(),t(!0)},[e]),v=F.useCallback(()=>{const p=u.current;p&&p.state!=="inactive"&&p.stop()},[]);return{isRecording:e,audioBlob:n,mediaStream:o,startRecording:m,stopRecording:v}}function t1(e,t){return function(){return e.apply(t,arguments)}}const{toString:YR}=Object.prototype,{getPrototypeOf:mh}=Object,{iterator:El,toStringTag:n1}=Symbol,Cl=(e=>t=>{const n=YR.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),gn=e=>(e=e.toLowerCase(),t=>Cl(t)===e),Tl=e=>t=>typeof t===e,{isArray:Hi}=Array,Vi=Tl("undefined");function vo(e){return e!==null&&!Vi(e)&&e.constructor!==null&&!Vi(e.constructor)&&$t(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const r1=gn("ArrayBuffer");function ZR(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&r1(e.buffer),t}const eO=Tl("string"),$t=Tl("function"),i1=Tl("number"),yo=e=>e!==null&&typeof e=="object",tO=e=>e===!0||e===!1,Ka=e=>{if(Cl(e)!=="object")return!1;const t=mh(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(n1 in e)&&!(El in e)},nO=e=>{if(!yo(e)||vo(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},rO=gn("Date"),iO=gn("File"),sO=gn("Blob"),oO=gn("FileList"),aO=e=>yo(e)&&$t(e.pipe),lO=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||$t(e.append)&&((t=Cl(e))==="formdata"||t==="object"&&$t(e.toString)&&e.toString()==="[object FormData]"))},uO=gn("URLSearchParams"),[cO,fO,dO,hO]=["ReadableStream","Request","Response","Headers"].map(gn),pO=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function go(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let i,o;if(typeof e!="object"&&(e=[e]),Hi(e))for(i=0,o=e.length;i<o;i++)t.call(null,e[i],i,e);else{if(vo(e))return;const l=n?Object.getOwnPropertyNames(e):Object.keys(e),u=l.length;let f;for(i=0;i<u;i++)f=l[i],t.call(null,e[f],f,e)}}function s1(e,t){if(vo(e))return null;t=t.toLowerCase();const n=Object.keys(e);let i=n.length,o;for(;i-- >0;)if(o=n[i],t===o.toLowerCase())return o;return null}const zr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,o1=e=>!Vi(e)&&e!==zr;function rd(){const{caseless:e,skipUndefined:t}=o1(this)&&this||{},n={},i=(o,l)=>{const u=e&&s1(n,l)||l;Ka(n[u])&&Ka(o)?n[u]=rd(n[u],o):Ka(o)?n[u]=rd({},o):Hi(o)?n[u]=o.slice():(!t||!Vi(o))&&(n[u]=o)};for(let o=0,l=arguments.length;o<l;o++)arguments[o]&&go(arguments[o],i);return n}const mO=(e,t,n,{allOwnKeys:i}={})=>(go(t,(o,l)=>{n&&$t(o)?e[l]=t1(o,n):e[l]=o},{allOwnKeys:i}),e),vO=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),yO=(e,t,n,i)=>{e.prototype=Object.create(t.prototype,i),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},gO=(e,t,n,i)=>{let o,l,u;const f={};if(t=t||{},e==null)return t;do{for(o=Object.getOwnPropertyNames(e),l=o.length;l-- >0;)u=o[l],(!i||i(u,e,t))&&!f[u]&&(t[u]=e[u],f[u]=!0);e=n!==!1&&mh(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},wO=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const i=e.indexOf(t,n);return i!==-1&&i===n},xO=e=>{if(!e)return null;if(Hi(e))return e;let t=e.length;if(!i1(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},_O=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&mh(Uint8Array)),SO=(e,t)=>{const i=(e&&e[El]).call(e);let o;for(;(o=i.next())&&!o.done;){const l=o.value;t.call(e,l[0],l[1])}},kO=(e,t)=>{let n;const i=[];for(;(n=e.exec(t))!==null;)i.push(n);return i},bO=gn("HTMLFormElement"),EO=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,i,o){return i.toUpperCase()+o}),Ng=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),CO=gn("RegExp"),a1=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),i={};go(n,(o,l)=>{let u;(u=t(o,l,e))!==!1&&(i[l]=u||o)}),Object.defineProperties(e,i)},TO=e=>{a1(e,(t,n)=>{if($t(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=e[n];if($t(i)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},PO=(e,t)=>{const n={},i=o=>{o.forEach(l=>{n[l]=!0})};return Hi(e)?i(e):i(String(e).split(t)),n},AO=()=>{},jO=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function NO(e){return!!(e&&$t(e.append)&&e[n1]==="FormData"&&e[El])}const RO=e=>{const t=new Array(10),n=(i,o)=>{if(yo(i)){if(t.indexOf(i)>=0)return;if(vo(i))return i;if(!("toJSON"in i)){t[o]=i;const l=Hi(i)?[]:{};return go(i,(u,f)=>{const d=n(u,o+1);!Vi(d)&&(l[f]=d)}),t[o]=void 0,l}}return i};return n(e,0)},OO=gn("AsyncFunction"),DO=e=>e&&(yo(e)||$t(e))&&$t(e.then)&&$t(e.catch),l1=((e,t)=>e?setImmediate:t?((n,i)=>(zr.addEventListener("message",({source:o,data:l})=>{o===zr&&l===n&&i.length&&i.shift()()},!1),o=>{i.push(o),zr.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",$t(zr.postMessage)),LO=typeof queueMicrotask<"u"?queueMicrotask.bind(zr):typeof process<"u"&&process.nextTick||l1,MO=e=>e!=null&&$t(e[El]),J={isArray:Hi,isArrayBuffer:r1,isBuffer:vo,isFormData:lO,isArrayBufferView:ZR,isString:eO,isNumber:i1,isBoolean:tO,isObject:yo,isPlainObject:Ka,isEmptyObject:nO,isReadableStream:cO,isRequest:fO,isResponse:dO,isHeaders:hO,isUndefined:Vi,isDate:rO,isFile:iO,isBlob:sO,isRegExp:CO,isFunction:$t,isStream:aO,isURLSearchParams:uO,isTypedArray:_O,isFileList:oO,forEach:go,merge:rd,extend:mO,trim:pO,stripBOM:vO,inherits:yO,toFlatObject:gO,kindOf:Cl,kindOfTest:gn,endsWith:wO,toArray:xO,forEachEntry:SO,matchAll:kO,isHTMLForm:bO,hasOwnProperty:Ng,hasOwnProp:Ng,reduceDescriptors:a1,freezeMethods:TO,toObjectSet:PO,toCamelCase:EO,noop:AO,toFiniteNumber:jO,findKey:s1,global:zr,isContextDefined:o1,isSpecCompliantForm:NO,toJSONObject:RO,isAsyncFn:OO,isThenable:DO,setImmediate:l1,asap:LO,isIterable:MO};function Ae(e,t,n,i,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),i&&(this.request=i),o&&(this.response=o,this.status=o.status?o.status:null)}J.inherits(Ae,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:J.toJSONObject(this.config),code:this.code,status:this.status}}});const u1=Ae.prototype,c1={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{c1[e]={value:e}});Object.defineProperties(Ae,c1);Object.defineProperty(u1,"isAxiosError",{value:!0});Ae.from=(e,t,n,i,o,l)=>{const u=Object.create(u1);J.toFlatObject(e,u,function(v){return v!==Error.prototype},m=>m!=="isAxiosError");const f=e&&e.message?e.message:"Error",d=t==null&&e?e.code:t;return Ae.call(u,f,d,n,i,o),e&&u.cause==null&&Object.defineProperty(u,"cause",{value:e,configurable:!0}),u.name=e&&e.name||"Error",l&&Object.assign(u,l),u};const IO=null;function id(e){return J.isPlainObject(e)||J.isArray(e)}function f1(e){return J.endsWith(e,"[]")?e.slice(0,-2):e}function Rg(e,t,n){return e?e.concat(t).map(function(o,l){return o=f1(o),!n&&l?"["+o+"]":o}).join(n?".":""):t}function $O(e){return J.isArray(e)&&!e.some(id)}const BO=J.toFlatObject(J,{},null,function(t){return/^is[A-Z]/.test(t)});function Pl(e,t,n){if(!J.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=J.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(N,k){return!J.isUndefined(k[N])});const i=n.metaTokens,o=n.visitor||v,l=n.dots,u=n.indexes,d=(n.Blob||typeof Blob<"u"&&Blob)&&J.isSpecCompliantForm(t);if(!J.isFunction(o))throw new TypeError("visitor must be a function");function m(T){if(T===null)return"";if(J.isDate(T))return T.toISOString();if(J.isBoolean(T))return T.toString();if(!d&&J.isBlob(T))throw new Ae("Blob is not supported. Use a Buffer instead.");return J.isArrayBuffer(T)||J.isTypedArray(T)?d&&typeof Blob=="function"?new Blob([T]):Buffer.from(T):T}function v(T,N,k){let S=T;if(T&&!k&&typeof T=="object"){if(J.endsWith(N,"{}"))N=i?N:N.slice(0,-2),T=JSON.stringify(T);else if(J.isArray(T)&&$O(T)||(J.isFileList(T)||J.endsWith(N,"[]"))&&(S=J.toArray(T)))return N=f1(N),S.forEach(function(w,g){!(J.isUndefined(w)||w===null)&&t.append(u===!0?Rg([N],g,l):u===null?N:N+"[]",m(w))}),!1}return id(T)?!0:(t.append(Rg(k,N,l),m(T)),!1)}const p=[],x=Object.assign(BO,{defaultVisitor:v,convertValue:m,isVisitable:id});function P(T,N){if(!J.isUndefined(T)){if(p.indexOf(T)!==-1)throw Error("Circular reference detected in "+N.join("."));p.push(T),J.forEach(T,function(S,C){(!(J.isUndefined(S)||S===null)&&o.call(t,S,J.isString(C)?C.trim():C,N,x))===!0&&P(S,N?N.concat(C):[C])}),p.pop()}}if(!J.isObject(e))throw new TypeError("data must be an object");return P(e),t}function Og(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(i){return t[i]})}function vh(e,t){this._pairs=[],e&&Pl(e,this,t)}const d1=vh.prototype;d1.append=function(t,n){this._pairs.push([t,n])};d1.toString=function(t){const n=t?function(i){return t.call(this,i,Og)}:Og;return this._pairs.map(function(o){return n(o[0])+"="+n(o[1])},"").join("&")};function FO(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function h1(e,t,n){if(!t)return e;const i=n&&n.encode||FO;J.isFunction(n)&&(n={serialize:n});const o=n&&n.serialize;let l;if(o?l=o(t,n):l=J.isURLSearchParams(t)?t.toString():new vh(t,n).toString(i),l){const u=e.indexOf("#");u!==-1&&(e=e.slice(0,u)),e+=(e.indexOf("?")===-1?"?":"&")+l}return e}class Dg{constructor(){this.handlers=[]}use(t,n,i){return this.handlers.push({fulfilled:t,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){J.forEach(this.handlers,function(i){i!==null&&t(i)})}}const p1={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},VO=typeof URLSearchParams<"u"?URLSearchParams:vh,UO=typeof FormData<"u"?FormData:null,zO=typeof Blob<"u"?Blob:null,qO={isBrowser:!0,classes:{URLSearchParams:VO,FormData:UO,Blob:zO},protocols:["http","https","file","blob","url","data"]},yh=typeof window<"u"&&typeof document<"u",sd=typeof navigator=="object"&&navigator||void 0,KO=yh&&(!sd||["ReactNative","NativeScript","NS"].indexOf(sd.product)<0),WO=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",HO=yh&&window.location.href||"http://localhost",GO=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:yh,hasStandardBrowserEnv:KO,hasStandardBrowserWebWorkerEnv:WO,navigator:sd,origin:HO},Symbol.toStringTag,{value:"Module"})),Ct={...GO,...qO};function QO(e,t){return Pl(e,new Ct.classes.URLSearchParams,{visitor:function(n,i,o,l){return Ct.isNode&&J.isBuffer(n)?(this.append(i,n.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)},...t})}function JO(e){return J.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function XO(e){const t={},n=Object.keys(e);let i;const o=n.length;let l;for(i=0;i<o;i++)l=n[i],t[l]=e[l];return t}function m1(e){function t(n,i,o,l){let u=n[l++];if(u==="__proto__")return!0;const f=Number.isFinite(+u),d=l>=n.length;return u=!u&&J.isArray(o)?o.length:u,d?(J.hasOwnProp(o,u)?o[u]=[o[u],i]:o[u]=i,!f):((!o[u]||!J.isObject(o[u]))&&(o[u]=[]),t(n,i,o[u],l)&&J.isArray(o[u])&&(o[u]=XO(o[u])),!f)}if(J.isFormData(e)&&J.isFunction(e.entries)){const n={};return J.forEachEntry(e,(i,o)=>{t(JO(i),o,n,0)}),n}return null}function YO(e,t,n){if(J.isString(e))try{return(t||JSON.parse)(e),J.trim(e)}catch(i){if(i.name!=="SyntaxError")throw i}return(n||JSON.stringify)(e)}const wo={transitional:p1,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const i=n.getContentType()||"",o=i.indexOf("application/json")>-1,l=J.isObject(t);if(l&&J.isHTMLForm(t)&&(t=new FormData(t)),J.isFormData(t))return o?JSON.stringify(m1(t)):t;if(J.isArrayBuffer(t)||J.isBuffer(t)||J.isStream(t)||J.isFile(t)||J.isBlob(t)||J.isReadableStream(t))return t;if(J.isArrayBufferView(t))return t.buffer;if(J.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let f;if(l){if(i.indexOf("application/x-www-form-urlencoded")>-1)return QO(t,this.formSerializer).toString();if((f=J.isFileList(t))||i.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return Pl(f?{"files[]":t}:t,d&&new d,this.formSerializer)}}return l||o?(n.setContentType("application/json",!1),YO(t)):t}],transformResponse:[function(t){const n=this.transitional||wo.transitional,i=n&&n.forcedJSONParsing,o=this.responseType==="json";if(J.isResponse(t)||J.isReadableStream(t))return t;if(t&&J.isString(t)&&(i&&!this.responseType||o)){const u=!(n&&n.silentJSONParsing)&&o;try{return JSON.parse(t,this.parseReviver)}catch(f){if(u)throw f.name==="SyntaxError"?Ae.from(f,Ae.ERR_BAD_RESPONSE,this,null,this.response):f}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ct.classes.FormData,Blob:Ct.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};J.forEach(["delete","get","head","post","put","patch"],e=>{wo.headers[e]={}});const ZO=J.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),e4=e=>{const t={};let n,i,o;return e&&e.split(`
`).forEach(function(u){o=u.indexOf(":"),n=u.substring(0,o).trim().toLowerCase(),i=u.substring(o+1).trim(),!(!n||t[n]&&ZO[n])&&(n==="set-cookie"?t[n]?t[n].push(i):t[n]=[i]:t[n]=t[n]?t[n]+", "+i:i)}),t},Lg=Symbol("internals");function $s(e){return e&&String(e).trim().toLowerCase()}function Wa(e){return e===!1||e==null?e:J.isArray(e)?e.map(Wa):String(e)}function t4(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(e);)t[i[1]]=i[2];return t}const n4=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function lf(e,t,n,i,o){if(J.isFunction(i))return i.call(this,t,n);if(o&&(t=n),!!J.isString(t)){if(J.isString(i))return t.indexOf(i)!==-1;if(J.isRegExp(i))return i.test(t)}}function r4(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,i)=>n.toUpperCase()+i)}function i4(e,t){const n=J.toCamelCase(" "+t);["get","set","has"].forEach(i=>{Object.defineProperty(e,i+n,{value:function(o,l,u){return this[i].call(this,t,o,l,u)},configurable:!0})})}let Bt=class{constructor(t){t&&this.set(t)}set(t,n,i){const o=this;function l(f,d,m){const v=$s(d);if(!v)throw new Error("header name must be a non-empty string");const p=J.findKey(o,v);(!p||o[p]===void 0||m===!0||m===void 0&&o[p]!==!1)&&(o[p||d]=Wa(f))}const u=(f,d)=>J.forEach(f,(m,v)=>l(m,v,d));if(J.isPlainObject(t)||t instanceof this.constructor)u(t,n);else if(J.isString(t)&&(t=t.trim())&&!n4(t))u(e4(t),n);else if(J.isObject(t)&&J.isIterable(t)){let f={},d,m;for(const v of t){if(!J.isArray(v))throw TypeError("Object iterator must return a key-value pair");f[m=v[0]]=(d=f[m])?J.isArray(d)?[...d,v[1]]:[d,v[1]]:v[1]}u(f,n)}else t!=null&&l(n,t,i);return this}get(t,n){if(t=$s(t),t){const i=J.findKey(this,t);if(i){const o=this[i];if(!n)return o;if(n===!0)return t4(o);if(J.isFunction(n))return n.call(this,o,i);if(J.isRegExp(n))return n.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=$s(t),t){const i=J.findKey(this,t);return!!(i&&this[i]!==void 0&&(!n||lf(this,this[i],i,n)))}return!1}delete(t,n){const i=this;let o=!1;function l(u){if(u=$s(u),u){const f=J.findKey(i,u);f&&(!n||lf(i,i[f],f,n))&&(delete i[f],o=!0)}}return J.isArray(t)?t.forEach(l):l(t),o}clear(t){const n=Object.keys(this);let i=n.length,o=!1;for(;i--;){const l=n[i];(!t||lf(this,this[l],l,t,!0))&&(delete this[l],o=!0)}return o}normalize(t){const n=this,i={};return J.forEach(this,(o,l)=>{const u=J.findKey(i,l);if(u){n[u]=Wa(o),delete n[l];return}const f=t?r4(l):String(l).trim();f!==l&&delete n[l],n[f]=Wa(o),i[f]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return J.forEach(this,(i,o)=>{i!=null&&i!==!1&&(n[o]=t&&J.isArray(i)?i.join(", "):i)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const i=new this(t);return n.forEach(o=>i.set(o)),i}static accessor(t){const i=(this[Lg]=this[Lg]={accessors:{}}).accessors,o=this.prototype;function l(u){const f=$s(u);i[f]||(i4(o,u),i[f]=!0)}return J.isArray(t)?t.forEach(l):l(t),this}};Bt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);J.reduceDescriptors(Bt.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(i){this[n]=i}}});J.freezeMethods(Bt);function uf(e,t){const n=this||wo,i=t||n,o=Bt.from(i.headers);let l=i.data;return J.forEach(e,function(f){l=f.call(n,l,o.normalize(),t?t.status:void 0)}),o.normalize(),l}function v1(e){return!!(e&&e.__CANCEL__)}function Gi(e,t,n){Ae.call(this,e??"canceled",Ae.ERR_CANCELED,t,n),this.name="CanceledError"}J.inherits(Gi,Ae,{__CANCEL__:!0});function y1(e,t,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?e(n):t(new Ae("Request failed with status code "+n.status,[Ae.ERR_BAD_REQUEST,Ae.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function s4(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function o4(e,t){e=e||10;const n=new Array(e),i=new Array(e);let o=0,l=0,u;return t=t!==void 0?t:1e3,function(d){const m=Date.now(),v=i[l];u||(u=m),n[o]=d,i[o]=m;let p=l,x=0;for(;p!==o;)x+=n[p++],p=p%e;if(o=(o+1)%e,o===l&&(l=(l+1)%e),m-u<t)return;const P=v&&m-v;return P?Math.round(x*1e3/P):void 0}}function a4(e,t){let n=0,i=1e3/t,o,l;const u=(m,v=Date.now())=>{n=v,o=null,l&&(clearTimeout(l),l=null),e(...m)};return[(...m)=>{const v=Date.now(),p=v-n;p>=i?u(m,v):(o=m,l||(l=setTimeout(()=>{l=null,u(o)},i-p)))},()=>o&&u(o)]}const dl=(e,t,n=3)=>{let i=0;const o=o4(50,250);return a4(l=>{const u=l.loaded,f=l.lengthComputable?l.total:void 0,d=u-i,m=o(d),v=u<=f;i=u;const p={loaded:u,total:f,progress:f?u/f:void 0,bytes:d,rate:m||void 0,estimated:m&&f&&v?(f-u)/m:void 0,event:l,lengthComputable:f!=null,[t?"download":"upload"]:!0};e(p)},n)},Mg=(e,t)=>{const n=e!=null;return[i=>t[0]({lengthComputable:n,total:e,loaded:i}),t[1]]},Ig=e=>(...t)=>J.asap(()=>e(...t)),l4=Ct.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Ct.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Ct.origin),Ct.navigator&&/(msie|trident)/i.test(Ct.navigator.userAgent)):()=>!0,u4=Ct.hasStandardBrowserEnv?{write(e,t,n,i,o,l,u){if(typeof document>"u")return;const f=[`${e}=${encodeURIComponent(t)}`];J.isNumber(n)&&f.push(`expires=${new Date(n).toUTCString()}`),J.isString(i)&&f.push(`path=${i}`),J.isString(o)&&f.push(`domain=${o}`),l===!0&&f.push("secure"),J.isString(u)&&f.push(`SameSite=${u}`),document.cookie=f.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function c4(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function f4(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function g1(e,t,n){let i=!c4(t);return e&&(i||n==!1)?f4(e,t):t}const $g=e=>e instanceof Bt?{...e}:e;function Zr(e,t){t=t||{};const n={};function i(m,v,p,x){return J.isPlainObject(m)&&J.isPlainObject(v)?J.merge.call({caseless:x},m,v):J.isPlainObject(v)?J.merge({},v):J.isArray(v)?v.slice():v}function o(m,v,p,x){if(J.isUndefined(v)){if(!J.isUndefined(m))return i(void 0,m,p,x)}else return i(m,v,p,x)}function l(m,v){if(!J.isUndefined(v))return i(void 0,v)}function u(m,v){if(J.isUndefined(v)){if(!J.isUndefined(m))return i(void 0,m)}else return i(void 0,v)}function f(m,v,p){if(p in t)return i(m,v);if(p in e)return i(void 0,m)}const d={url:l,method:l,data:l,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,withXSRFToken:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:f,headers:(m,v,p)=>o($g(m),$g(v),p,!0)};return J.forEach(Object.keys({...e,...t}),function(v){const p=d[v]||o,x=p(e[v],t[v],v);J.isUndefined(x)&&p!==f||(n[v]=x)}),n}const w1=e=>{const t=Zr({},e);let{data:n,withXSRFToken:i,xsrfHeaderName:o,xsrfCookieName:l,headers:u,auth:f}=t;if(t.headers=u=Bt.from(u),t.url=h1(g1(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),f&&u.set("Authorization","Basic "+btoa((f.username||"")+":"+(f.password?unescape(encodeURIComponent(f.password)):""))),J.isFormData(n)){if(Ct.hasStandardBrowserEnv||Ct.hasStandardBrowserWebWorkerEnv)u.setContentType(void 0);else if(J.isFunction(n.getHeaders)){const d=n.getHeaders(),m=["content-type","content-length"];Object.entries(d).forEach(([v,p])=>{m.includes(v.toLowerCase())&&u.set(v,p)})}}if(Ct.hasStandardBrowserEnv&&(i&&J.isFunction(i)&&(i=i(t)),i||i!==!1&&l4(t.url))){const d=o&&l&&u4.read(l);d&&u.set(o,d)}return t},d4=typeof XMLHttpRequest<"u",h4=d4&&function(e){return new Promise(function(n,i){const o=w1(e);let l=o.data;const u=Bt.from(o.headers).normalize();let{responseType:f,onUploadProgress:d,onDownloadProgress:m}=o,v,p,x,P,T;function N(){P&&P(),T&&T(),o.cancelToken&&o.cancelToken.unsubscribe(v),o.signal&&o.signal.removeEventListener("abort",v)}let k=new XMLHttpRequest;k.open(o.method.toUpperCase(),o.url,!0),k.timeout=o.timeout;function S(){if(!k)return;const w=Bt.from("getAllResponseHeaders"in k&&k.getAllResponseHeaders()),_={data:!f||f==="text"||f==="json"?k.responseText:k.response,status:k.status,statusText:k.statusText,headers:w,config:e,request:k};y1(function($){n($),N()},function($){i($),N()},_),k=null}"onloadend"in k?k.onloadend=S:k.onreadystatechange=function(){!k||k.readyState!==4||k.status===0&&!(k.responseURL&&k.responseURL.indexOf("file:")===0)||setTimeout(S)},k.onabort=function(){k&&(i(new Ae("Request aborted",Ae.ECONNABORTED,e,k)),k=null)},k.onerror=function(g){const _=g&&g.message?g.message:"Network Error",E=new Ae(_,Ae.ERR_NETWORK,e,k);E.event=g||null,i(E),k=null},k.ontimeout=function(){let g=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const _=o.transitional||p1;o.timeoutErrorMessage&&(g=o.timeoutErrorMessage),i(new Ae(g,_.clarifyTimeoutError?Ae.ETIMEDOUT:Ae.ECONNABORTED,e,k)),k=null},l===void 0&&u.setContentType(null),"setRequestHeader"in k&&J.forEach(u.toJSON(),function(g,_){k.setRequestHeader(_,g)}),J.isUndefined(o.withCredentials)||(k.withCredentials=!!o.withCredentials),f&&f!=="json"&&(k.responseType=o.responseType),m&&([x,T]=dl(m,!0),k.addEventListener("progress",x)),d&&k.upload&&([p,P]=dl(d),k.upload.addEventListener("progress",p),k.upload.addEventListener("loadend",P)),(o.cancelToken||o.signal)&&(v=w=>{k&&(i(!w||w.type?new Gi(null,e,k):w),k.abort(),k=null)},o.cancelToken&&o.cancelToken.subscribe(v),o.signal&&(o.signal.aborted?v():o.signal.addEventListener("abort",v)));const C=s4(o.url);if(C&&Ct.protocols.indexOf(C)===-1){i(new Ae("Unsupported protocol "+C+":",Ae.ERR_BAD_REQUEST,e));return}k.send(l||null)})},p4=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let i=new AbortController,o;const l=function(m){if(!o){o=!0,f();const v=m instanceof Error?m:this.reason;i.abort(v instanceof Ae?v:new Gi(v instanceof Error?v.message:v))}};let u=t&&setTimeout(()=>{u=null,l(new Ae(`timeout ${t} of ms exceeded`,Ae.ETIMEDOUT))},t);const f=()=>{e&&(u&&clearTimeout(u),u=null,e.forEach(m=>{m.unsubscribe?m.unsubscribe(l):m.removeEventListener("abort",l)}),e=null)};e.forEach(m=>m.addEventListener("abort",l));const{signal:d}=i;return d.unsubscribe=()=>J.asap(f),d}},m4=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let i=0,o;for(;i<n;)o=i+t,yield e.slice(i,o),i=o},v4=async function*(e,t){for await(const n of y4(e))yield*m4(n,t)},y4=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:i}=await t.read();if(n)break;yield i}}finally{await t.cancel()}},Bg=(e,t,n,i)=>{const o=v4(e,t);let l=0,u,f=d=>{u||(u=!0,i&&i(d))};return new ReadableStream({async pull(d){try{const{done:m,value:v}=await o.next();if(m){f(),d.close();return}let p=v.byteLength;if(n){let x=l+=p;n(x)}d.enqueue(new Uint8Array(v))}catch(m){throw f(m),m}},cancel(d){return f(d),o.return()}},{highWaterMark:2})},Fg=64*1024,{isFunction:Ia}=J,g4=(({Request:e,Response:t})=>({Request:e,Response:t}))(J.global),{ReadableStream:Vg,TextEncoder:Ug}=J.global,zg=(e,...t)=>{try{return!!e(...t)}catch{return!1}},w4=e=>{e=J.merge.call({skipUndefined:!0},g4,e);const{fetch:t,Request:n,Response:i}=e,o=t?Ia(t):typeof fetch=="function",l=Ia(n),u=Ia(i);if(!o)return!1;const f=o&&Ia(Vg),d=o&&(typeof Ug=="function"?(T=>N=>T.encode(N))(new Ug):async T=>new Uint8Array(await new n(T).arrayBuffer())),m=l&&f&&zg(()=>{let T=!1;const N=new n(Ct.origin,{body:new Vg,method:"POST",get duplex(){return T=!0,"half"}}).headers.has("Content-Type");return T&&!N}),v=u&&f&&zg(()=>J.isReadableStream(new i("").body)),p={stream:v&&(T=>T.body)};o&&["text","arrayBuffer","blob","formData","stream"].forEach(T=>{!p[T]&&(p[T]=(N,k)=>{let S=N&&N[T];if(S)return S.call(N);throw new Ae(`Response type '${T}' is not supported`,Ae.ERR_NOT_SUPPORT,k)})});const x=async T=>{if(T==null)return 0;if(J.isBlob(T))return T.size;if(J.isSpecCompliantForm(T))return(await new n(Ct.origin,{method:"POST",body:T}).arrayBuffer()).byteLength;if(J.isArrayBufferView(T)||J.isArrayBuffer(T))return T.byteLength;if(J.isURLSearchParams(T)&&(T=T+""),J.isString(T))return(await d(T)).byteLength},P=async(T,N)=>{const k=J.toFiniteNumber(T.getContentLength());return k??x(N)};return async T=>{let{url:N,method:k,data:S,signal:C,cancelToken:w,timeout:g,onDownloadProgress:_,onUploadProgress:E,responseType:$,headers:I,withCredentials:U="same-origin",fetchOptions:G}=w1(T),te=t||fetch;$=$?($+"").toLowerCase():"text";let ce=p4([C,w&&w.toAbortSignal()],g),oe=null;const ae=ce&&ce.unsubscribe&&(()=>{ce.unsubscribe()});let pe;try{if(E&&m&&k!=="get"&&k!=="head"&&(pe=await P(I,S))!==0){let j=new n(N,{method:"POST",body:S,duplex:"half"}),L;if(J.isFormData(S)&&(L=j.headers.get("content-type"))&&I.setContentType(L),j.body){const[X,Z]=Mg(pe,dl(Ig(E)));S=Bg(j.body,Fg,X,Z)}}J.isString(U)||(U=U?"include":"omit");const de=l&&"credentials"in n.prototype,ue={...G,signal:ce,method:k.toUpperCase(),headers:I.normalize().toJSON(),body:S,duplex:"half",credentials:de?U:void 0};oe=l&&new n(N,ue);let b=await(l?te(oe,G):te(N,ue));const R=v&&($==="stream"||$==="response");if(v&&(_||R&&ae)){const j={};["status","statusText","headers"].forEach(K=>{j[K]=b[K]});const L=J.toFiniteNumber(b.headers.get("content-length")),[X,Z]=_&&Mg(L,dl(Ig(_),!0))||[];b=new i(Bg(b.body,Fg,X,()=>{Z&&Z(),ae&&ae()}),j)}$=$||"text";let D=await p[J.findKey(p,$)||"text"](b,T);return!R&&ae&&ae(),await new Promise((j,L)=>{y1(j,L,{data:D,headers:Bt.from(b.headers),status:b.status,statusText:b.statusText,config:T,request:oe})})}catch(de){throw ae&&ae(),de&&de.name==="TypeError"&&/Load failed|fetch/i.test(de.message)?Object.assign(new Ae("Network Error",Ae.ERR_NETWORK,T,oe),{cause:de.cause||de}):Ae.from(de,de&&de.code,T,oe)}}},x4=new Map,x1=e=>{let t=e&&e.env||{};const{fetch:n,Request:i,Response:o}=t,l=[i,o,n];let u=l.length,f=u,d,m,v=x4;for(;f--;)d=l[f],m=v.get(d),m===void 0&&v.set(d,m=f?new Map:w4(t)),v=m;return m};x1();const gh={http:IO,xhr:h4,fetch:{get:x1}};J.forEach(gh,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const qg=e=>`- ${e}`,_4=e=>J.isFunction(e)||e===null||e===!1;function S4(e,t){e=J.isArray(e)?e:[e];const{length:n}=e;let i,o;const l={};for(let u=0;u<n;u++){i=e[u];let f;if(o=i,!_4(i)&&(o=gh[(f=String(i)).toLowerCase()],o===void 0))throw new Ae(`Unknown adapter '${f}'`);if(o&&(J.isFunction(o)||(o=o.get(t))))break;l[f||"#"+u]=o}if(!o){const u=Object.entries(l).map(([d,m])=>`adapter ${d} `+(m===!1?"is not supported by the environment":"is not available in the build"));let f=n?u.length>1?`since :
`+u.map(qg).join(`
`):" "+qg(u[0]):"as no adapter specified";throw new Ae("There is no suitable adapter to dispatch the request "+f,"ERR_NOT_SUPPORT")}return o}const _1={getAdapter:S4,adapters:gh};function cf(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Gi(null,e)}function Kg(e){return cf(e),e.headers=Bt.from(e.headers),e.data=uf.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),_1.getAdapter(e.adapter||wo.adapter,e)(e).then(function(i){return cf(e),i.data=uf.call(e,e.transformResponse,i),i.headers=Bt.from(i.headers),i},function(i){return v1(i)||(cf(e),i&&i.response&&(i.response.data=uf.call(e,e.transformResponse,i.response),i.response.headers=Bt.from(i.response.headers))),Promise.reject(i)})}const S1="1.13.2",Al={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Al[e]=function(i){return typeof i===e||"a"+(t<1?"n ":" ")+e}});const Wg={};Al.transitional=function(t,n,i){function o(l,u){return"[Axios v"+S1+"] Transitional option '"+l+"'"+u+(i?". "+i:"")}return(l,u,f)=>{if(t===!1)throw new Ae(o(u," has been removed"+(n?" in "+n:"")),Ae.ERR_DEPRECATED);return n&&!Wg[u]&&(Wg[u]=!0,console.warn(o(u," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(l,u,f):!0}};Al.spelling=function(t){return(n,i)=>(console.warn(`${i} is likely a misspelling of ${t}`),!0)};function k4(e,t,n){if(typeof e!="object")throw new Ae("options must be an object",Ae.ERR_BAD_OPTION_VALUE);const i=Object.keys(e);let o=i.length;for(;o-- >0;){const l=i[o],u=t[l];if(u){const f=e[l],d=f===void 0||u(f,l,e);if(d!==!0)throw new Ae("option "+l+" must be "+d,Ae.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Ae("Unknown option "+l,Ae.ERR_BAD_OPTION)}}const Ha={assertOptions:k4,validators:Al},bn=Ha.validators;let Wr=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Dg,response:new Dg}}async request(t,n){try{return await this._request(t,n)}catch(i){if(i instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const l=o.stack?o.stack.replace(/^.+\n/,""):"";try{i.stack?l&&!String(i.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+l):i.stack=l}catch{}}throw i}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Zr(this.defaults,n);const{transitional:i,paramsSerializer:o,headers:l}=n;i!==void 0&&Ha.assertOptions(i,{silentJSONParsing:bn.transitional(bn.boolean),forcedJSONParsing:bn.transitional(bn.boolean),clarifyTimeoutError:bn.transitional(bn.boolean)},!1),o!=null&&(J.isFunction(o)?n.paramsSerializer={serialize:o}:Ha.assertOptions(o,{encode:bn.function,serialize:bn.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Ha.assertOptions(n,{baseUrl:bn.spelling("baseURL"),withXsrfToken:bn.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let u=l&&J.merge(l.common,l[n.method]);l&&J.forEach(["delete","get","head","post","put","patch","common"],T=>{delete l[T]}),n.headers=Bt.concat(u,l);const f=[];let d=!0;this.interceptors.request.forEach(function(N){typeof N.runWhen=="function"&&N.runWhen(n)===!1||(d=d&&N.synchronous,f.unshift(N.fulfilled,N.rejected))});const m=[];this.interceptors.response.forEach(function(N){m.push(N.fulfilled,N.rejected)});let v,p=0,x;if(!d){const T=[Kg.bind(this),void 0];for(T.unshift(...f),T.push(...m),x=T.length,v=Promise.resolve(n);p<x;)v=v.then(T[p++],T[p++]);return v}x=f.length;let P=n;for(;p<x;){const T=f[p++],N=f[p++];try{P=T(P)}catch(k){N.call(this,k);break}}try{v=Kg.call(this,P)}catch(T){return Promise.reject(T)}for(p=0,x=m.length;p<x;)v=v.then(m[p++],m[p++]);return v}getUri(t){t=Zr(this.defaults,t);const n=g1(t.baseURL,t.url,t.allowAbsoluteUrls);return h1(n,t.params,t.paramsSerializer)}};J.forEach(["delete","get","head","options"],function(t){Wr.prototype[t]=function(n,i){return this.request(Zr(i||{},{method:t,url:n,data:(i||{}).data}))}});J.forEach(["post","put","patch"],function(t){function n(i){return function(l,u,f){return this.request(Zr(f||{},{method:t,headers:i?{"Content-Type":"multipart/form-data"}:{},url:l,data:u}))}}Wr.prototype[t]=n(),Wr.prototype[t+"Form"]=n(!0)});let b4=class k1{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(l){n=l});const i=this;this.promise.then(o=>{if(!i._listeners)return;let l=i._listeners.length;for(;l-- >0;)i._listeners[l](o);i._listeners=null}),this.promise.then=o=>{let l;const u=new Promise(f=>{i.subscribe(f),l=f}).then(o);return u.cancel=function(){i.unsubscribe(l)},u},t(function(l,u,f){i.reason||(i.reason=new Gi(l,u,f),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=i=>{t.abort(i)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new k1(function(o){t=o}),cancel:t}}};function E4(e){return function(n){return e.apply(null,n)}}function C4(e){return J.isObject(e)&&e.isAxiosError===!0}const od={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(od).forEach(([e,t])=>{od[t]=e});function b1(e){const t=new Wr(e),n=t1(Wr.prototype.request,t);return J.extend(n,Wr.prototype,t,{allOwnKeys:!0}),J.extend(n,t,null,{allOwnKeys:!0}),n.create=function(o){return b1(Zr(e,o))},n}const nt=b1(wo);nt.Axios=Wr;nt.CanceledError=Gi;nt.CancelToken=b4;nt.isCancel=v1;nt.VERSION=S1;nt.toFormData=Pl;nt.AxiosError=Ae;nt.Cancel=nt.CanceledError;nt.all=function(t){return Promise.all(t)};nt.spread=E4;nt.isAxiosError=C4;nt.mergeConfig=Zr;nt.AxiosHeaders=Bt;nt.formToJSON=e=>m1(J.isHTMLForm(e)?new FormData(e):e);nt.getAdapter=_1.getAdapter;nt.HttpStatusCode=od;nt.default=nt;const{Axios:z4,AxiosError:q4,CanceledError:K4,isCancel:W4,CancelToken:H4,VERSION:G4,all:Q4,Cancel:J4,isAxiosError:X4,spread:Y4,toFormData:Z4,AxiosHeaders:eD,HttpStatusCode:tD,formToJSON:nD,getAdapter:rD,mergeConfig:iD}=nt,jl=nt.create({baseURL:"http://localhost:8000"});let Hg=0;function T4(){const e=Date.now();e-Hg<4e3||(Hg=e,d0({type:"error",title:"AI Server Disconnected",message:"Please check the Python backend connection (port 8000)."}))}jl.interceptors.response.use(e=>e,e=>{var i;const t=e.code==="ERR_NETWORK"||typeof e.message=="string"&&/network/i.test(e.message),n=(i=e.response)==null?void 0:i.status;return(t||n&&n>=500)&&T4(),Promise.reject(e)});async function E1(e){const t=new FormData;t.append("file",e,"audio.webm");try{return(await jl.post("/process-audio",t,{headers:{"Content-Type":"multipart/form-data"}})).data}catch{return null}}async function P4(e){try{return(await jl.post("/diagnose",e)).data}catch{return null}}async function A4(e){try{return(await jl.post("/confirm-diagnosis",e)).data}catch{return null}}function j4(e){if(!e)return"No vitals recorded.";const t=[e.bp?`BP ${e.bp}`:null,e.temp?`Temp ${e.temp}`:null,e.pulse?`Pulse ${e.pulse}`:null,e.spo2?`SpO ${e.spo2}`:null,e.weight?`Weight ${e.weight}`:null].filter(Boolean);return t.length?t.join("  "):"No vitals recorded."}function N4(){const e=gr(),{id:t}=fd(),[n,i]=F.useState(null),[o,l]=F.useState(null),[u,f]=F.useState(null),{isRecording:d,audioBlob:m,mediaStream:v,startRecording:p,stopRecording:x}=e1(),[P,T]=F.useState(!1),[N,k]=F.useState(""),[S,C]=F.useState(null),[w,g]=F.useState(!1),[_,E]=F.useState(null),[$,I]=F.useState(""),[U,G]=F.useState(!1),te=F.useRef(null),[ce,oe]=F.useState(!1),ae=F.useMemo(()=>!P&&!w,[w,P]);F.useEffect(()=>{(async()=>{if(!t)return;f(null);const R=await Sw(t);if(!R){i(null),l(null),f("Encounter not found.");return}i(R);const D=await Md(R.patientId);l(D)})()},[t]);const pe=async()=>{if(E(null),!!ae){if(d){x();return}try{await p()}catch{E("Microphone access failed. Please allow microphone permissions in your browser.")}}};F.useEffect(()=>{if(!m)return;let b=!1;return(async()=>{T(!0),E(null);try{const D=await E1(m);if(b)return;if(!D){E("AI Server Disconnected. You can type symptoms manually.");return}const j=D.transcription??"";k(j),oe(!0),te.current&&window.clearTimeout(te.current),te.current=window.setTimeout(()=>oe(!1),1200)}catch{if(b)return;E("Transcription failed. You can type symptoms manually.")}finally{b||T(!1)}})(),()=>{b=!0}},[m]);const de=async()=>{if(n){E(null),g(!0);try{const b=await P4({symptoms:N,vitals:n.vitals??{}});if(!b){E("AI Server Disconnected. Use Manual Diagnosis below."),C(null);return}const R=b.diagnoses??[];C(R),t&&await f2(t,N,R)}catch{E("Diagnosis failed. Use Manual Diagnosis below.")}finally{g(!1)}}},ue=async b=>{t&&(G(!1),await l2(t,b),e("/doctor"))};return u?O.jsx("div",{className:"mx-auto max-w-4xl px-6 py-10",children:O.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-6",children:[O.jsx("div",{className:"text-sm font-semibold text-slate-500",children:"Consultation"}),O.jsx("div",{className:"mt-1 text-xl font-semibold text-slate-900",children:u}),O.jsx("div",{className:"mt-4",children:O.jsx("button",{onClick:()=>e("/doctor"),className:"rounded-xl bg-slate-900 px-4 py-2 text-sm font-semibold text-white hover:bg-slate-800",children:"Back to Doctor Queue"})})]})}):O.jsxs("div",{className:"mx-auto max-w-6xl px-6 py-8",children:[O.jsxs("div",{className:"mb-6 flex items-center justify-between gap-4",children:[O.jsxs("div",{children:[O.jsx("div",{className:"text-sm font-semibold text-slate-500",children:"Consultation Room"}),O.jsx("h1",{className:"text-2xl font-semibold text-slate-900",children:(o==null?void 0:o.name)??"Patient"}),O.jsx("div",{className:"mt-1 text-sm text-slate-600",children:o?`${o.age}  ${o.sex}`:"Patient details missing"})]}),O.jsxs("button",{onClick:pe,disabled:!ae,className:["inline-flex items-center gap-2 rounded-xl px-4 py-2 font-semibold text-white shadow-sm transition",ae?"":"cursor-not-allowed bg-slate-400",d?"bg-red-600 hover:bg-red-700":"bg-slate-900 hover:bg-slate-800"].join(" "),children:[d?O.jsx(u0,{className:"h-5 w-5"}):O.jsx(l0,{className:"h-5 w-5"}),d?"Stop Recording":"Start Recording"]})]}),O.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1.1fr_0.9fr]",children:[O.jsxs("div",{className:"space-y-4",children:[O.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4",children:[O.jsxs("div",{className:"mb-3 flex items-center gap-2 text-sm font-semibold text-slate-800",children:[O.jsx(qk,{className:"h-4 w-4"}),"Patient Context"]}),O.jsxs("div",{className:"text-sm text-slate-700",children:[O.jsx("span",{className:"font-semibold",children:"Vitals:"})," ",j4(n==null?void 0:n.vitals)]})]}),O.jsx(Zx,{mediaStream:v,isRecording:d}),O.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4",children:[O.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[O.jsx("div",{className:"text-sm font-semibold text-slate-700",children:"History of Present Illness / Symptoms"}),(P||w)&&O.jsxs("div",{className:"inline-flex items-center gap-2 text-sm text-slate-600",children:[O.jsx(dd,{className:"h-4 w-4 animate-spin"}),P?"Transcribing...":"Diagnosing..."]})]}),O.jsx("textarea",{value:N,onChange:b=>k(b.target.value),placeholder:'Record or type symptoms, e.g. "severe headache, chills, bitter taste"...',className:["h-40 w-full resize-none rounded-xl border px-3 py-2 text-sm text-slate-900 outline-none transition",ce?"border-emerald-500 bg-emerald-50":"border-slate-200 bg-slate-50"].join(" ")}),_&&O.jsx("div",{className:"mt-3 rounded-xl bg-red-50 px-3 py-2 text-sm text-red-700",children:_})]})]}),O.jsxs("div",{className:"space-y-4",children:[O.jsxs("button",{onClick:()=>void de(),disabled:!N.trim()||w,className:["inline-flex w-full items-center justify-center gap-2 rounded-2xl px-4 py-3 text-sm font-semibold text-white shadow-sm transition",!N.trim()||w?"cursor-not-allowed bg-slate-400":"bg-emerald-600 hover:bg-emerald-700"].join(" "),children:[O.jsx(Jk,{className:"h-4 w-4"}),"Generate Differential Diagnosis"]}),S?O.jsx(kw,{diagnoses:S}):null,_&&O.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4",children:[O.jsx("div",{className:"text-sm font-semibold text-slate-800",children:"Manual Diagnosis"}),O.jsx("div",{className:"mt-1 text-sm text-slate-600",children:"AI is unavailable. Enter your working diagnosis manually (for the demo)."}),O.jsx("textarea",{value:$,onChange:b=>I(b.target.value),className:"mt-3 h-28 w-full resize-none rounded-xl border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-900 outline-none",placeholder:'e.g. "Suspected malaria; treat and await RDT"'})]}),O.jsxs("button",{onClick:()=>G(!0),disabled:!S||S.length===0,className:"inline-flex w-full items-center justify-center gap-2 rounded-2xl bg-slate-900 px-4 py-3 text-sm font-semibold text-white shadow-sm hover:bg-slate-800",children:[O.jsx(Xk,{className:"h-4 w-4"}),"Order Labs & Proceed"]}),!S||S.length===0?O.jsx("div",{className:"text-xs text-slate-600",children:"Generate and save the initial differential diagnosis before ordering labs."}):null]})]}),O.jsx(b2,{isOpen:U,onClose:()=>G(!1),onSubmit:b=>void ue(b)})]})}function R4(e){const t=(e||"").toLowerCase();return t.includes("positive")||t.includes("pos")?"pos":t.includes("negative")||t.includes("neg")?"neg":"neutral"}function O4(){const e=gr(),{id:t}=fd(),[n,i]=F.useState(null),[o,l]=F.useState(null),[u,f]=F.useState(null),[d,m]=F.useState(!1),[v,p]=F.useState(""),[x,P]=F.useState(null),[T,N]=F.useState(null),[k,S]=F.useState(""),[C,w]=F.useState(!1),[g,_]=F.useState("");F.useEffect(()=>{(async()=>{if(!t)return;f(null);const U=await Sw(t);if(!U){f("Encounter not found."),i(null),l(null);return}i(U);const G=await Md(U.patientId);l(G),S(U.symptoms??"")})()},[t]),F.useEffect(()=>{(async()=>{if(!(!t||!n)&&n.status==="results_ready"&&k.trim()){N(null),m(!0);try{const U=await A4({initial_diagnosis:n.initialDiagnosis??[],symptoms:k,lab_results:n.labResults??{}});if(!U){N("AI Server Disconnected. You can still discharge or override manually."),P(null),p("");return}P(U.final_diagnosis??[]),p(U.analysis??"")}catch{N("Confirmation failed. Ensure backend is running and /confirm-diagnosis is available.")}finally{m(!1)}}})()},[n,t,k]);const E=F.useMemo(()=>Object.entries((n==null?void 0:n.labResults)??{}),[n==null?void 0:n.labResults]),$=async()=>{if(!t||!n)return;const I=g.trim().length>0?[{condition:g.trim(),probability:1,reasoning:"Doctor override."}]:x??[];await d2(t,I,v||"Discharged after lab review."),e("/")};return u?O.jsx("div",{className:"mx-auto max-w-5xl px-6 py-10",children:O.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-6",children:[O.jsx("div",{className:"text-sm font-semibold text-slate-500",children:"Post-Lab Consultation"}),O.jsx("div",{className:"mt-1 text-xl font-semibold text-slate-900",children:u}),O.jsx("div",{className:"mt-4",children:O.jsx("button",{onClick:()=>e("/doctor"),className:"rounded-xl bg-slate-900 px-4 py-2 text-sm font-semibold text-white hover:bg-slate-800",children:"Back to Doctor Queue"})})]})}):O.jsxs("div",{className:"mx-auto max-w-7xl px-6 py-8",children:[O.jsxs("div",{className:"mb-6 flex items-center justify-between gap-4",children:[O.jsxs("div",{children:[O.jsx("div",{className:"text-sm font-semibold text-slate-500",children:"Post-Lab Consultation"}),O.jsx("h1",{className:"text-2xl font-semibold text-slate-900",children:(o==null?void 0:o.name)??"Patient"}),O.jsx("div",{className:"mt-1 text-sm text-slate-600",children:o?`${o.age}  ${o.sex}`:"Patient details missing"})]}),O.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full bg-emerald-50 px-3 py-1.5 text-sm font-semibold text-emerald-700",children:[O.jsx(Qk,{className:"h-4 w-4"}),"Results Ready"]})]}),O.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[O.jsx("div",{className:"space-y-4",children:O.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4",children:[O.jsx("div",{className:"mb-2 text-sm font-semibold text-slate-800",children:"Before (Pre-Lab)"}),O.jsx("div",{className:"text-xs font-semibold text-slate-500",children:"Initial Symptoms"}),O.jsx("div",{className:"mt-1 rounded-xl bg-slate-50 px-3 py-2 text-sm text-slate-700",children:(n==null?void 0:n.symptoms)||""}),O.jsx("div",{className:"mt-3 text-xs font-semibold text-slate-500",children:"Initial Diagnosis"}),O.jsx("div",{className:"mt-1 rounded-xl bg-slate-50 px-3 py-2 text-sm text-slate-700",children:((n==null?void 0:n.initialDiagnosis)??[]).length?O.jsx("ul",{className:"list-disc pl-5",children:((n==null?void 0:n.initialDiagnosis)??[]).map((I,U)=>O.jsxs("li",{children:[I.condition," (",Math.round((I.probability??0)*100),"%)"]},`${I.condition}-${U}`))}):""})]})}),O.jsx("div",{className:"space-y-4",children:O.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4",children:[O.jsxs("div",{className:"mb-2 flex items-center gap-2 text-sm font-semibold text-slate-800",children:[O.jsx(c0,{className:"h-4 w-4"}),"New Data (Lab Results)"]}),E.length===0?O.jsx("div",{className:"text-sm text-slate-600",children:"No lab results recorded."}):O.jsx("div",{className:"space-y-2",children:E.map(([I,U])=>{const G=R4(U),te=G==="pos"?"border-emerald-200 bg-emerald-50 text-emerald-800":G==="neg"?"border-slate-200 bg-slate-50 text-slate-800":"border-slate-200 bg-white text-slate-800";return O.jsxs("div",{className:["rounded-xl border px-3 py-2 text-sm",te].join(" "),children:[O.jsxs("span",{className:"font-semibold",children:[I,":"]})," ",O.jsx("span",{className:"font-semibold",children:String(U)})]},I)})})]})}),O.jsxs("div",{className:"space-y-4",children:[O.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4",children:[O.jsx("div",{className:"mb-2 text-sm font-semibold text-slate-800",children:"AI Analysis (Post-Lab)"}),d?O.jsxs("div",{className:"inline-flex items-center gap-2 text-sm text-slate-600",children:[O.jsx(dd,{className:"h-4 w-4 animate-spin"}),"Confirming diagnosis..."]}):T?O.jsx("div",{className:"rounded-xl bg-red-50 px-3 py-2 text-sm text-red-700",children:T}):O.jsxs(O.Fragment,{children:[O.jsx("div",{className:"rounded-xl bg-slate-50 px-3 py-2 text-sm text-slate-700",children:v||""}),x&&O.jsx("div",{className:"mt-3",children:O.jsx(kw,{diagnoses:x})})]})]}),O.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4",children:[O.jsx("div",{className:"mb-2 text-sm font-semibold text-slate-800",children:"Final Decision"}),!k.trim()&&O.jsx("div",{className:"mb-3 rounded-xl bg-amber-50 px-3 py-2 text-sm text-amber-900",children:"Missing pre-lab symptoms on this encounter. Add symptoms below to run confirmation."}),O.jsxs("div",{className:"space-y-1",children:[O.jsx("div",{className:"text-sm font-medium text-slate-700",children:"Symptoms (for confirmation)"}),O.jsx("textarea",{value:k,onChange:I=>S(I.target.value),className:"h-24 w-full resize-none rounded-xl border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-900 outline-none",placeholder:'e.g. "severe headache, chills..."'})]}),O.jsxs("div",{className:"flex items-center gap-3",children:[O.jsx("button",{onClick:()=>void $(),className:"inline-flex flex-1 items-center justify-center rounded-xl bg-emerald-600 px-4 py-2 text-sm font-semibold text-white hover:bg-emerald-700",children:"Accept & Discharge"}),O.jsx("button",{onClick:()=>w(I=>!I),className:"rounded-xl border border-slate-200 bg-white px-4 py-2 text-sm font-semibold text-slate-800 hover:bg-slate-50",children:"Override"})]}),C&&O.jsxs("div",{className:"mt-3 space-y-1",children:[O.jsx("div",{className:"text-sm font-medium text-slate-700",children:"Override final diagnosis"}),O.jsx("input",{value:g,onChange:I=>_(I.target.value),placeholder:'e.g. "Malaria Confirmed"',className:"w-full rounded-xl border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-900 outline-none"})]})]})]})]})]})}function Bs({label:e,value:t,isAiFilled:n,onChange:i,placeholder:o}){return O.jsxs("div",{className:"space-y-1",children:[O.jsx("div",{className:"text-sm font-medium text-slate-700",children:e}),O.jsxs("div",{className:"relative",children:[O.jsx("input",{value:t,onChange:i?l=>i(l.target.value):void 0,readOnly:!i,placeholder:o,className:["w-full rounded-lg border px-3 py-2 text-slate-900 outline-none transition","placeholder:text-slate-400",n?"border-green-500 bg-green-50":"border-slate-200 bg-white"].join(" ")}),O.jsx(zk,{className:["pointer-events-none absolute right-2 top-1/2 h-5 w-5 -translate-y-1/2 text-green-600 transition-opacity",n?"opacity-100":"opacity-0"].join(" ")})]})]})}const D4={bp:"",temp:"",pulse:"",spo2:"",weight:""};function L4(){const e=gr(),{patientId:t}=fd(),[n,i]=F.useState(null),[o,l]=F.useState(!1),{isRecording:u,audioBlob:f,mediaStream:d,startRecording:m,stopRecording:v}=e1(),[p,x]=F.useState(!1),[P,T]=F.useState(""),[N,k]=F.useState(D4),[S,C]=F.useState({bp:!1,temp:!1,pulse:!1,spo2:!1,weight:!1}),[w,g]=F.useState(null),_=F.useRef(null),E=F.useMemo(()=>!p,[p]);F.useEffect(()=>{(async()=>{if(!t)return;const G=await Md(t);if(!G){i(null),l(!0);return}i(G),l(!1)})()},[t]);const $=async()=>{if(g(null),!!E){if(u){v();return}try{await m()}catch{g("Microphone access failed. Please allow microphone permissions in your browser.")}}};F.useEffect(()=>{if(!f)return;let U=!1;return(async()=>{var te,ce,oe,ae;x(!0),g(null);try{const pe=await E1(f);if(U)return;if(!pe){g("AI Server Disconnected. You can still enter vitals manually.");return}T(pe.transcription??""),k(ue=>{var b,R,D,j;return{...ue,bp:((b=pe.vitals)==null?void 0:b.bp)??"",temp:((R=pe.vitals)==null?void 0:R.temp)??"",pulse:((D=pe.vitals)==null?void 0:D.pulse)??"",spo2:((j=pe.vitals)==null?void 0:j.spo2)??""}});const de={bp:!!((te=pe.vitals)!=null&&te.bp),temp:!!((ce=pe.vitals)!=null&&ce.temp),pulse:!!((oe=pe.vitals)!=null&&oe.pulse),spo2:!!((ae=pe.vitals)!=null&&ae.spo2),weight:!1};C(de),_.current&&window.clearTimeout(_.current),_.current=window.setTimeout(()=>{C({bp:!1,temp:!1,pulse:!1,spo2:!1,weight:!1})},2e3)}catch{if(U)return;g("Processing failed. You can still enter vitals manually.")}finally{U||x(!1)}})(),()=>{U=!0}},[f]);const I=async()=>{if(!t)return;g(null);const U={_id:_w(),patientId:t,status:"waiting_for_consult",vitals:{...N},transcription:P,labResults:{},createdAt:new Date().toISOString(),synced:!1};await o2(U),e("/")};return o?O.jsx("div",{className:"mx-auto max-w-3xl px-6 py-10",children:O.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-6",children:[O.jsx("div",{className:"text-sm font-semibold text-slate-500",children:"Vitals Capture"}),O.jsx("div",{className:"mt-1 text-xl font-semibold text-slate-900",children:"Patient not found"}),O.jsx("div",{className:"mt-2 text-sm text-slate-600",children:"This patient ID does not exist in the local database."}),O.jsx("div",{className:"mt-4",children:O.jsx("button",{onClick:()=>e("/patients"),className:"rounded-xl bg-slate-900 px-4 py-2 text-sm font-semibold text-white hover:bg-slate-800",children:"Go to Patient Database"})})]})}):O.jsxs("div",{className:"mx-auto max-w-5xl px-6 py-8",children:[O.jsxs("div",{className:"mb-6 flex items-center justify-between gap-4",children:[O.jsxs("div",{children:[O.jsx("div",{className:"text-sm font-semibold text-slate-500",children:"Vitals Check"}),O.jsxs("h1",{className:"text-2xl font-semibold text-slate-900",children:["Vitals Check: ",(n==null?void 0:n.name)??"..."]})]}),O.jsxs("button",{onClick:$,disabled:!E,className:["inline-flex items-center gap-2 rounded-xl px-4 py-2 font-semibold text-white shadow-sm transition",E?"":"cursor-not-allowed bg-slate-400",u?"bg-red-600 hover:bg-red-700":"bg-slate-900 hover:bg-slate-800"].join(" "),children:[u?O.jsx(u0,{className:"h-5 w-5"}):O.jsx(l0,{className:"h-5 w-5"}),u?"Stop Recording":"Start Recording"]})]}),O.jsxs("div",{className:"grid gap-6 lg:grid-cols-[1.1fr_1fr]",children:[O.jsxs("div",{className:"space-y-4",children:[O.jsx(Zx,{mediaStream:d,isRecording:u}),O.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-4",children:[O.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[O.jsx("div",{className:"text-sm font-semibold text-slate-700",children:"Raw Transcription"}),p&&O.jsxs("div",{className:"inline-flex items-center gap-2 text-sm text-slate-600",children:[O.jsx(dd,{className:"h-4 w-4 animate-spin"}),"Processing..."]})]}),O.jsx("textarea",{value:P,onChange:U=>T(U.target.value),placeholder:"Transcription will appear here...",className:"h-44 w-full resize-none rounded-lg border border-slate-200 bg-slate-50 px-3 py-2 text-sm text-slate-900 outline-none"}),w&&O.jsx("div",{className:"mt-3 rounded-lg bg-red-50 px-3 py-2 text-sm text-red-700",children:w})]})]}),O.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-5",children:[O.jsx("div",{className:"mb-4 text-sm font-semibold text-slate-700",children:"Vitals Form"}),O.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[O.jsx(Bs,{label:"Blood Pressure (bp)",value:N.bp,isAiFilled:S.bp,onChange:U=>k(G=>({...G,bp:U}))}),O.jsx(Bs,{label:"Temperature (temp)",value:N.temp,isAiFilled:S.temp,onChange:U=>k(G=>({...G,temp:U}))}),O.jsx(Bs,{label:"Pulse (pulse)",value:N.pulse,isAiFilled:S.pulse,onChange:U=>k(G=>({...G,pulse:U}))}),O.jsx(Bs,{label:"SpO (spo2)",value:N.spo2,isAiFilled:S.spo2,onChange:U=>k(G=>({...G,spo2:U}))}),O.jsx("div",{className:"sm:col-span-2",children:O.jsx(Bs,{label:"Weight (weight)",value:N.weight,isAiFilled:S.weight,onChange:U=>k(G=>({...G,weight:U}))})})]}),O.jsx("div",{className:"mt-6",children:O.jsxs("button",{onClick:()=>void I(),className:"inline-flex w-full items-center justify-center gap-2 rounded-xl bg-emerald-600 px-4 py-3 text-sm font-semibold text-white shadow-sm hover:bg-emerald-700",children:[O.jsx(Hk,{className:"h-4 w-4"}),"Save & Send to Queue"]})})]})]})]})}function M4(){return O.jsx(Rk,{children:O.jsx(sb,{children:O.jsxs(bk,{children:[O.jsx(cr,{path:"/",element:O.jsx(S2,{})}),O.jsx(cr,{path:"/patients",element:O.jsx(k2,{})}),O.jsx(cr,{path:"/vitals/:patientId",element:O.jsx(L4,{})}),O.jsx(cr,{path:"/doctor",element:O.jsx(p2,{})}),O.jsx(cr,{path:"/consultation/:id",element:O.jsx(N4,{})}),O.jsx(cr,{path:"/post-lab/:id",element:O.jsx(O4,{})}),O.jsx(cr,{path:"/lab",element:O.jsx(g2,{})})]})})})}RS.createRoot(document.getElementById("root")).render(O.jsx(Gg.StrictMode,{children:O.jsx(rb,{children:O.jsx(M4,{})})}));
